<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<script type="text/javascript">
//<![CDATA[
var version = {title: "TiddlyWiki", major: 2, minor: 2, revision: 5, date: new Date("Aug 24, 2007"), extensions: {}};
//]]>
</script>
<!--
TiddlyWiki created by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Copyright (c) UnaMesa Association 2004-2007

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the UnaMesa Association nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
-->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<!--PRE-HEAD-START-->
<!--{{{-->
<link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/>
<!--}}}-->
<!--PRE-HEAD-END-->
<title> TiddlyVault - An index of TiddlyWiki extensions from http://www.giffmex.org </title>
<style type="text/css">
#saveTest {display:none;}
#messageArea {display:none;}
#copyright {display:none;}
#storeArea {display:none;}
#storeArea div {padding:0.5em; margin:1em 0em 0em 0em; border-color:#fff #666 #444 #ddd; border-style:solid; border-width:2px; overflow:auto;}
#shadowArea {display:none;}
#javascriptWarning {width:100%; text-align:center; font-weight:bold; background-color:#dd1100; color:#fff; padding:1em 0em;}
</style>
<!--POST-HEAD-START-->

<!--POST-HEAD-END-->
</head>
<body onload="main();" onunload="if(window.checkUnsavedChanges) checkUnsavedChanges(); if(window.scrubNodes) scrubNodes(document.body);">
<!--PRE-BODY-START-->

<!--PRE-BODY-END-->
<div id="copyright">
Welcome to TiddlyWiki created by Jeremy Ruston, Copyright &copy; 2007 UnaMesa Association
</div>
<noscript>
	<div id="javascriptWarning">This page requires JavaScript to function properly.<br /><br />If you are using Microsoft Internet Explorer you may need to click on the yellow bar above and select 'Allow Blocked Content'. You must then click 'Yes' on the following security warning.</div>
</noscript>
<div id="saveTest"></div>
<div id="backstageCloak"></div>
<div id="backstageButton"></div>
<div id="backstageArea"><div id="backstageToolbar"></div></div>
<div id="backstage">
	<div id="backstagePanel"></div>
</div>
<div id="contentWrapper"></div>
<div id="contentStash"></div>
<div id="shadowArea">
<div title="ColorPalette">
<pre>Background: #fff
Foreground: #000
PrimaryPale: #8cf
PrimaryLight: #18f
PrimaryMid: #04b
PrimaryDark: #014
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88</pre>
</div>
<div title="StyleSheetColors">
<pre>/*{{{*/
body {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}

a {color:[[ColorPalette::PrimaryMid]];}
a:hover {background-color:[[ColorPalette::PrimaryMid]]; color:[[ColorPalette::Background]];}
a img {border:0;}

h1,h2,h3,h4,h5,h6 {color:[[ColorPalette::SecondaryDark]]; background:transparent;}
h1 {border-bottom:2px solid [[ColorPalette::TertiaryLight]];}
h2,h3 {border-bottom:1px solid [[ColorPalette::TertiaryLight]];}

.button {color:[[ColorPalette::PrimaryDark]]; border:1px solid [[ColorPalette::Background]];}
.button:hover {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::SecondaryLight]]; border-color:[[ColorPalette::SecondaryMid]];}
.button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::SecondaryDark]];}

.header {background:[[ColorPalette::PrimaryMid]];}
.headerShadow {color:[[ColorPalette::Foreground]];}
.headerShadow a {font-weight:normal; color:[[ColorPalette::Foreground]];}
.headerForeground {color:[[ColorPalette::Background]];}
.headerForeground a {font-weight:normal; color:[[ColorPalette::PrimaryPale]];}

.tabSelected{color:[[ColorPalette::PrimaryDark]];
	background:[[ColorPalette::TertiaryPale]];
	border-left:1px solid [[ColorPalette::TertiaryLight]];
	border-top:1px solid [[ColorPalette::TertiaryLight]];
	border-right:1px solid [[ColorPalette::TertiaryLight]];
}
.tabUnselected {color:[[ColorPalette::Background]]; background:[[ColorPalette::TertiaryMid]];}
.tabContents {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::TertiaryPale]]; border:1px solid [[ColorPalette::TertiaryLight]];}
.tabContents .button {border:0;}

#sidebar {}
#sidebarOptions input {border:1px solid [[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel {background:[[ColorPalette::PrimaryPale]];}
#sidebarOptions .sliderPanel a {border:none;color:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:active {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::Background]];}

.wizard {background:[[ColorPalette::PrimaryPale]]; border:1px solid [[ColorPalette::PrimaryMid]];}
.wizard h1 {color:[[ColorPalette::PrimaryDark]]; border:none;}
.wizard h2 {color:[[ColorPalette::Foreground]]; border:none;}
.wizardStep {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];
	border:1px solid [[ColorPalette::PrimaryMid]];}
.wizardStep.wizardStepDone {background:[[ColorPalette::TertiaryLight]];}
.wizardFooter {background:[[ColorPalette::PrimaryPale]];}
.wizardFooter .status {background:[[ColorPalette::PrimaryDark]]; color:[[ColorPalette::Background]];}
.wizard .button {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryLight]]; border: 1px solid;
	border-color:[[ColorPalette::SecondaryPale]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryPale]];}
.wizard .button:hover {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Background]];}
.wizard .button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::Foreground]]; border: 1px solid;
	border-color:[[ColorPalette::PrimaryDark]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryDark]];}

#messageArea {border:1px solid [[ColorPalette::SecondaryMid]]; background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]];}
#messageArea .button {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::SecondaryPale]]; border:none;}

.popupTiddler {background:[[ColorPalette::TertiaryPale]]; border:2px solid [[ColorPalette::TertiaryMid]];}

.popup {background:[[ColorPalette::TertiaryPale]]; color:[[ColorPalette::TertiaryDark]]; border-left:1px solid [[ColorPalette::TertiaryMid]]; border-top:1px solid [[ColorPalette::TertiaryMid]]; border-right:2px solid [[ColorPalette::TertiaryDark]]; border-bottom:2px solid [[ColorPalette::TertiaryDark]];}
.popup hr {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::PrimaryDark]]; border-bottom:1px;}
.popup li.disabled {color:[[ColorPalette::TertiaryMid]];}
.popup li a, .popup li a:visited {color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:active {background:[[ColorPalette::SecondaryPale]]; color:[[ColorPalette::Foreground]]; border: none;}
.popupHighlight {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
.listBreak div {border-bottom:1px solid [[ColorPalette::TertiaryDark]];}

.tiddler .defaultCommand {font-weight:bold;}

.shadow .title {color:[[ColorPalette::TertiaryDark]];}

.title {color:[[ColorPalette::SecondaryDark]];}
.subtitle {color:[[ColorPalette::TertiaryDark]];}

.toolbar {color:[[ColorPalette::PrimaryMid]];}
.toolbar a {color:[[ColorPalette::TertiaryLight]];}
.selected .toolbar a {color:[[ColorPalette::TertiaryMid]];}
.selected .toolbar a:hover {color:[[ColorPalette::Foreground]];}

.tagging, .tagged {border:1px solid [[ColorPalette::TertiaryPale]]; background-color:[[ColorPalette::TertiaryPale]];}
.selected .tagging, .selected .tagged {background-color:[[ColorPalette::TertiaryLight]]; border:1px solid [[ColorPalette::TertiaryMid]];}
.tagging .listTitle, .tagged .listTitle {color:[[ColorPalette::PrimaryDark]];}
.tagging .button, .tagged .button {border:none;}

.footer {color:[[ColorPalette::TertiaryLight]];}
.selected .footer {color:[[ColorPalette::TertiaryMid]];}

.sparkline {background:[[ColorPalette::PrimaryPale]]; border:0;}
.sparktick {background:[[ColorPalette::PrimaryDark]];}

.error, .errorButton {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Error]];}
.warning {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryPale]];}
.lowlight {background:[[ColorPalette::TertiaryLight]];}

.zoomer {background:none; color:[[ColorPalette::TertiaryMid]]; border:3px solid [[ColorPalette::TertiaryMid]];}

.imageLink, #displayArea .imageLink {background:transparent;}

.annotation {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border:2px solid [[ColorPalette::SecondaryMid]];}

.viewer .listTitle {list-style-type:none; margin-left:-2em;}
.viewer .button {border:1px solid [[ColorPalette::SecondaryMid]];}
.viewer blockquote {border-left:3px solid [[ColorPalette::TertiaryDark]];}

.viewer table, table.twtable {border:2px solid [[ColorPalette::TertiaryDark]];}
.viewer th, .viewer thead td, .twtable th, .twtable thead td {background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::Background]];}
.viewer td, .viewer tr, .twtable td, .twtable tr {border:1px solid [[ColorPalette::TertiaryDark]];}

.viewer pre {border:1px solid [[ColorPalette::SecondaryLight]]; background:[[ColorPalette::SecondaryPale]];}
.viewer code {color:[[ColorPalette::SecondaryDark]];}
.viewer hr {border:0; border-top:dashed 1px [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::TertiaryDark]];}

.highlight, .marked {background:[[ColorPalette::SecondaryLight]];}

.editor input {border:1px solid [[ColorPalette::PrimaryMid]];}
.editor textarea {border:1px solid [[ColorPalette::PrimaryMid]]; width:100%;}
.editorFooter {color:[[ColorPalette::TertiaryMid]];}

#backstageArea {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::TertiaryMid]];}
#backstageArea a {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstageArea a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; }
#backstageArea a.backstageSelTab {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
#backstageButton a {background:none; color:[[ColorPalette::Background]]; border:none;}
#backstageButton a:hover {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstagePanel {background:[[ColorPalette::Background]]; border-color: [[ColorPalette::Background]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]];}
.backstagePanelFooter .button {border:none; color:[[ColorPalette::Background]];}
.backstagePanelFooter .button:hover {color:[[ColorPalette::Foreground]];}
#backstageCloak {background:[[ColorPalette::Foreground]]; opacity:0.6; filter:'alpha(opacity:60)';}
/*}}}*/</pre>
</div>
<div title="StyleSheetLayout">
<pre>/*{{{*/
* html .tiddler {height:1%;}

body {font-size:.75em; font-family:arial,helvetica; margin:0; padding:0;}

h1,h2,h3,h4,h5,h6 {font-weight:bold; text-decoration:none;}
h1,h2,h3 {padding-bottom:1px; margin-top:1.2em;margin-bottom:0.3em;}
h4,h5,h6 {margin-top:1em;}
h1 {font-size:1.35em;}
h2 {font-size:1.25em;}
h3 {font-size:1.1em;}
h4 {font-size:1em;}
h5 {font-size:.9em;}

hr {height:1px;}

a {text-decoration:none;}

dt {font-weight:bold;}

ol {list-style-type:decimal;}
ol ol {list-style-type:lower-alpha;}
ol ol ol {list-style-type:lower-roman;}
ol ol ol ol {list-style-type:decimal;}
ol ol ol ol ol {list-style-type:lower-alpha;}
ol ol ol ol ol ol {list-style-type:lower-roman;}
ol ol ol ol ol ol ol {list-style-type:decimal;}

.txtOptionInput {width:11em;}

#contentWrapper .chkOptionInput {border:0;}

.externalLink {text-decoration:underline;}

.indent {margin-left:3em;}
.outdent {margin-left:3em; text-indent:-3em;}
code.escaped {white-space:nowrap;}

.tiddlyLinkExisting {font-weight:bold;}
.tiddlyLinkNonExisting {font-style:italic;}

/* the 'a' is required for IE, otherwise it renders the whole tiddler in bold */
a.tiddlyLinkNonExisting.shadow {font-weight:bold;}

#mainMenu .tiddlyLinkExisting,
	#mainMenu .tiddlyLinkNonExisting,
	#sidebarTabs .tiddlyLinkNonExisting {font-weight:normal; font-style:normal;}
#sidebarTabs .tiddlyLinkExisting {font-weight:bold; font-style:normal;}

.header {position:relative;}
.header a:hover {background:transparent;}
.headerShadow {position:relative; padding:4.5em 0em 1em 1em; left:-1px; top:-1px;}
.headerForeground {position:absolute; padding:4.5em 0em 1em 1em; left:0px; top:0px;}

.siteTitle {font-size:3em;}
.siteSubtitle {font-size:1.2em;}

#mainMenu {position:absolute; left:0; width:10em; text-align:right; line-height:1.6em; padding:1.5em 0.5em 0.5em 0.5em; font-size:1.1em;}

#sidebar {position:absolute; right:3px; width:16em; font-size:.9em;}
#sidebarOptions {padding-top:0.3em;}
#sidebarOptions a {margin:0em 0.2em; padding:0.2em 0.3em; display:block;}
#sidebarOptions input {margin:0.4em 0.5em;}
#sidebarOptions .sliderPanel {margin-left:1em; padding:0.5em; font-size:.85em;}
#sidebarOptions .sliderPanel a {font-weight:bold; display:inline; padding:0;}
#sidebarOptions .sliderPanel input {margin:0 0 .3em 0;}
#sidebarTabs .tabContents {width:15em; overflow:hidden;}

.wizard {padding:0.1em 1em 0em 2em;}
.wizard h1 {font-size:2em; font-weight:bold; background:none; padding:0em 0em 0em 0em; margin:0.4em 0em 0.2em 0em;}
.wizard h2 {font-size:1.2em; font-weight:bold; background:none; padding:0em 0em 0em 0em; margin:0.4em 0em 0.2em 0em;}
.wizardStep {padding:1em 1em 1em 1em;}
.wizard .button {margin:0.5em 0em 0em 0em; font-size:1.2em;}
.wizardFooter {padding:0.8em 0.4em 0.8em 0em;}
.wizardFooter .status {padding:0em 0.4em 0em 0.4em; margin-left:1em;}
.wizard .button {padding:0.1em 0.2em 0.1em 0.2em;}

#messageArea {position:fixed; top:2em; right:0em; margin:0.5em; padding:0.5em; z-index:2000; _position:absolute;}
.messageToolbar {display:block; text-align:right; padding:0.2em 0.2em 0.2em 0.2em;}
#messageArea a {text-decoration:underline;}

.tiddlerPopupButton {padding:0.2em 0.2em 0.2em 0.2em;}
.popupTiddler {position: absolute; z-index:300; padding:1em 1em 1em 1em; margin:0;}

.popup {position:absolute; z-index:300; font-size:.9em; padding:0; list-style:none; margin:0;}
.popup .popupMessage {padding:0.4em;}
.popup hr {display:block; height:1px; width:auto; padding:0; margin:0.2em 0em;}
.popup li.disabled {padding:0.4em;}
.popup li a {display:block; padding:0.4em; font-weight:normal; cursor:pointer;}
.listBreak {font-size:1px; line-height:1px;}
.listBreak div {margin:2px 0;}

.tabset {padding:1em 0em 0em 0.5em;}
.tab {margin:0em 0em 0em 0.25em; padding:2px;}
.tabContents {padding:0.5em;}
.tabContents ul, .tabContents ol {margin:0; padding:0;}
.txtMainTab .tabContents li {list-style:none;}
.tabContents li.listLink { margin-left:.75em;}

#contentWrapper {display:block;}
#splashScreen {display:none;}

#displayArea {margin:1em 17em 0em 14em;}

.toolbar {text-align:right; font-size:.9em;}

.tiddler {padding:1em 1em 0em 1em;}

.missing .viewer,.missing .title {font-style:italic;}

.title {font-size:1.6em; font-weight:bold;}

.missing .subtitle {display:none;}
.subtitle {font-size:1.1em;}

.tiddler .button {padding:0.2em 0.4em;}

.tagging {margin:0.5em 0.5em 0.5em 0; float:left; display:none;}
.isTag .tagging {display:block;}
.tagged {margin:0.5em; float:right;}
.tagging, .tagged {font-size:0.9em; padding:0.25em;}
.tagging ul, .tagged ul {list-style:none; margin:0.25em; padding:0;}
.tagClear {clear:both;}

.footer {font-size:.9em;}
.footer li {display:inline;}

.annotation {padding:0.5em; margin:0.5em;}

* html .viewer pre {width:99%; padding:0 0 1em 0;}
.viewer {line-height:1.4em; padding-top:0.5em;}
.viewer .button {margin:0em 0.25em; padding:0em 0.25em;}
.viewer blockquote {line-height:1.5em; padding-left:0.8em;margin-left:2.5em;}
.viewer ul, .viewer ol {margin-left:0.5em; padding-left:1.5em;}

.viewer table, table.twtable {border-collapse:collapse; margin:0.8em 1.0em;}
.viewer th, .viewer td, .viewer tr,.viewer caption,.twtable th, .twtable td, .twtable tr,.twtable caption {padding:3px;}
table.listView {font-size:0.85em; margin:0.8em 1.0em;}
table.listView th, table.listView td, table.listView tr {padding:0px 3px 0px 3px;}

.viewer pre {padding:0.5em; margin-left:0.5em; font-size:1.2em; line-height:1.4em; overflow:auto;}
.viewer code {font-size:1.2em; line-height:1.4em;}

.editor {font-size:1.1em;}
.editor input, .editor textarea {display:block; width:100%; font:inherit;}
.editorFooter {padding:0.25em 0em; font-size:.9em;}
.editorFooter .button {padding-top:0px; padding-bottom:0px;}

.fieldsetFix {border:0; padding:0; margin:1px 0px 1px 0px;}

.sparkline {line-height:1em;}
.sparktick {outline:0;}

.zoomer {font-size:1.1em; position:absolute; overflow:hidden;}
.zoomer div {padding:1em;}

* html #backstage {width:99%;}
* html #backstageArea {width:99%;}
#backstageArea {display:none; position:relative; overflow: hidden; z-index:150; padding:0.3em 0.5em 0.3em 0.5em;}
#backstageToolbar {position:relative;}
#backstageArea a {font-weight:bold; margin-left:0.5em; padding:0.3em 0.5em 0.3em 0.5em;}
#backstageButton {display:none; position:absolute; z-index:175; top:0em; right:0em;}
#backstageButton a {padding:0.1em 0.4em 0.1em 0.4em; margin:0.1em 0.1em 0.1em 0.1em;}
#backstage {position:relative; width:100%; z-index:50;}
#backstagePanel {display:none; z-index:100; position:absolute; margin:0em 3em 0em 3em; padding:1em 1em 1em 1em;}
.backstagePanelFooter {padding-top:0.2em; float:right;}
.backstagePanelFooter a {padding:0.2em 0.4em 0.2em 0.4em;}
#backstageCloak {display:none; z-index:20; position:absolute; width:100%; height:100px;}

.whenBackstage {display:none;}
.backstageVisible .whenBackstage {display:block;}
/*}}}*/</pre>
</div>
<div title="StyleSheetLocale">
<pre>/***
StyleSheet for use when a translation requires any css style changes.
This StyleSheet can be used directly by languages such as Chinese, Japanese and Korean which use a logographic writing system and need larger font sizes.
***/

/*{{{*/
body {font-size:0.8em;}

#sidebarOptions {font-size:1.05em;}
#sidebarOptions a {font-style:normal;}
#sidebarOptions .sliderPanel {font-size:0.95em;}

.subtitle {font-size:0.8em;}

.viewer table.listView {font-size:0.95em;}

.htmlarea .toolbarHA table {border:1px solid ButtonFace; margin:0em 0em;}
/*}}}*/</pre>
</div>
<div title="StyleSheetPrint">
<pre>/*{{{*/
@media print {
#mainMenu, #sidebar, #messageArea, .toolbar, #backstageButton, #backstageArea {display: none ! important;}
#displayArea {margin: 1em 1em 0em 1em;}
/* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */
noscript {display:none;}
}
/*}}}*/</pre>
</div>
<div title="PageTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='header' macro='gradient vert [[ColorPalette::PrimaryLight]] [[ColorPalette::PrimaryMid]]'&gt;
&lt;div class='headerShadow'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class='headerForeground'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id='mainMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
&lt;div id='sidebar'&gt;
&lt;div id='sidebarOptions' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;
&lt;div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea'&gt;
&lt;div id='messageArea'&gt;&lt;/div&gt;
&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="ViewTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar closeTiddler closeOthers +editTiddler &gt; fields syncing permalink references jump'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='subtitle'&gt;&lt;span macro='view modifier link'&gt;&lt;/span&gt;, &lt;span macro='view modified date'&gt;&lt;/span&gt; (&lt;span macro='message views.wikified.createdPrompt'&gt;&lt;/span&gt; &lt;span macro='view created date'&gt;&lt;/span&gt;)&lt;/div&gt;
&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;div class='tagged' macro='tags'&gt;&lt;/div&gt;
&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="EditTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar +saveTiddler -cancelTiddler deleteTiddler'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit title'&gt;&lt;/div&gt;
&lt;div macro='annotations'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;&lt;span macro='tagChooser'&gt;&lt;/span&gt;&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="GettingStarted">
<pre>To get started with this blank TiddlyWiki, you'll need to modify the following tiddlers:
* SiteTitle &amp; SiteSubtitle: The title and subtitle of the site, as shown above (after saving, they will also appear in the browser title bar)
* MainMenu: The menu (usually on the left)
* DefaultTiddlers: Contains the names of the tiddlers that you want to appear when the TiddlyWiki is opened
You'll also need to enter your username for signing your edits: &lt;&lt;option txtUserName&gt;&gt;</pre>
</div>
<div title="OptionsPanel">
<pre>These InterfaceOptions for customising TiddlyWiki are saved in your browser

Your username for signing your edits. Write it as a WikiWord (eg JoeBloggs)

&lt;&lt;option txtUserName&gt;&gt;
&lt;&lt;option chkSaveBackups&gt;&gt; SaveBackups
&lt;&lt;option chkAutoSave&gt;&gt; AutoSave
&lt;&lt;option chkRegExpSearch&gt;&gt; RegExpSearch
&lt;&lt;option chkCaseSensitiveSearch&gt;&gt; CaseSensitiveSearch
&lt;&lt;option chkAnimate&gt;&gt; EnableAnimations

----
Also see AdvancedOptions</pre>
</div>
</div>
<!--POST-SHADOWAREA-->

<!--TIDDLYSPOT_INJECT-->
<div style="display:none"><img src="http://tiddlyspot.com/_ts/stats/tiddlyvault"/></div>
<!--TCEJNI_TOPSYLDDIT-->

<!--TIDDLYSPOT_INJECT-->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">_uacct="UA-96965-3";urchinTracker();</script>

<!--TCEJNI_TOPSYLDDIT-->
<div id="storeArea">
<div title="...browsers" modifier="giffmex" modified="200709021227" created="200709021226">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Working with browsers&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ASciencePad" modifier="giffmex" modified="200709042211" created="200709042210" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Scientific and mathematical notation&quot;,&quot;description&quot;:&quot;This is an adaptation of Jeremy Ruston's TiddlyWiki (version 2.0.2) that is suitable for writing scientific notes (e.g. research notes, lecture notes, projects, homework, ...). TiddlyWiki is an amazing JavaScript program that lets you read, edit, save and share infomation conveniently in a single html file using a familiar browser even without an internet connection. ASciencePad extends this by integrating a what-you-see-is-what-you-get editor where one can easily type mathematical formulas (displayed with MathML) and produce 2D cartesian, parametric and polar graphs (displayed with SVG). The HTMLArea editor was originally developed by www.interactivetools.com, now maintained by Mihai Bazon at www.dynarch.com, and the plugins that provide the math extensions were developed by Peter Jipsen and David Lippman. See AsciiMath and AsciiSvg for a brief description of the additional scripts that enable the display and WYSIWYG editing of math formulas and graphs.&quot;,&quot;twversion&quot;:&quot;2.0.2&quot;,&quot;link&quot;:&quot;http://math.chapman.edu/~jipsen/asciencepad/asciencepad.html&quot;,&quot;author&quot;:&quot;Peter Jipsen&quot;}&lt;/data&gt;</pre>
</div>
<div title="ASciencePad " modifier="giffmex" created="200709042212" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;This is an adaptation of Jeremy Ruston's TiddlyWiki (version 2.0.2) that is suitable for writing scientific notes (e.g. research notes, lecture notes, projects, homework, ...). TiddlyWiki is an amazing JavaScript program that lets you read, edit, save and share infomation conveniently in a single html file using a familiar browser even without an internet connection. ASciencePad extends this by integrating a what-you-see-is-what-you-get editor where one can easily type mathematical formulas (displayed with MathML) and produce 2D cartesian, parametric and polar graphs (displayed with SVG). The HTMLArea editor was originally developed by www.interactivetools.com, now maintained by Mihai Bazon at www.dynarch.com, and the plugins that provide the math extensions were developed by Peter Jipsen and David Lippman. See AsciiMath and AsciiSvg for a brief description of the additional scripts that enable the display and WYSIWYG editing of math formulas and graphs.&quot;,&quot;twversion&quot;:&quot;2.0.2&quot;,&quot;link&quot;:&quot;http://math.chapman.edu/~jipsen/asciencepad/asciencepad.html&quot;,&quot;author&quot;:&quot;Peter Jipsen&quot;}&lt;/data&gt;</pre>
</div>
<div title="AccordionEffect" modifier="giffmex" modified="200708311225" created="200708311223" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Ocat&quot;,&quot;link&quot;:&quot;http://oldcat.googlegroups.com/web/AccordionEffect.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;This is the new version of AccordionEffect. I use a small CSS tweak plus a plugin written by BramChen to perform this more interesting AccordionEffect. The sliders expand one at a time. Every time you click a different slider bar, the last expanded one will collapse first, then the new one expands.&quot;,&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="AddToTemplate" modifier="YourName" modified="200710062134" created="200710062124" tags="excludeLists excludeSearch" changecount="3">
<pre>!!!Add your option in the right order

&lt;option&gt;Daniel Baird
&lt;option&gt;Dawn Ahukanna
&lt;option&gt;Doug Compton
@@color:#c06;&lt;option&gt;Duh! Your Option@@
&lt;option&gt;Eric Shulman (~TiddlyTools)</pre>
</div>
<div title="AdvancedOptions" modifier="MorrisGray" modified="200709130006" created="200709122253" tags="msgray killbookmark">
<pre>&lt;&lt;options&gt;&gt;
&lt;&lt;option chkSortTags&gt;&gt; Sort byTags
&lt;&lt;option chkHoldSearches&gt;&gt; Hold search results
&lt;&lt;option chkSearchTitles&gt;&gt; Search in tiddler titles
&lt;&lt;option chkSearchText&gt;&gt; Search in tiddler text
&lt;&lt;option chkSearchTags&gt;&gt; Search in tiddler tags
&lt;&lt;option chkSearchFields&gt;&gt; Search in tiddler data fields
&lt;&lt;option chkSearchShadows&gt;&gt; Search in shadow tiddlers
&lt;&lt;option chkSearchTitlesFirst&gt;&gt; Search results show title matches first
&lt;&lt;option chkSearchList&gt;&gt; Search results show list of matching tiddlers</pre>
</div>
<div title="Aids for website visitors" modifier="tiddlyvault" modified="200804131648" created="200709011546" changecount="2">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Aids for website visitors&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="AliasPlugin" modifier="giffmex" modified="200709112242" created="200709112241" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;Define macros for abbreviations and other \&quot;aliases\&quot;, and then embed them in the rest of your tiddler content to quickly insert common terms, phrases and links without a lot of repetitive typing.&quot;}&lt;/data&gt;</pre>
</div>
<div title="AllTagsExceptMacro" modifier="giffmex" modified="200709030112" created="200709030110" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Clint Checketts&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Shows all tags except those you specify in the macro.&quot;,&quot;link&quot;:&quot;http://tiddlystyles.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="AlternatingLists" modifier="MorrisGray" modified="200709122224" created="200709051249" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Other&quot;,&quot;description&quot;:&quot;Alternating colors for the items in tabbed lists in the right hand sidebar.&quot;,&quot;category&quot;:&quot;Colors&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;author&quot;:&quot;Joeraii&quot;,&quot;link&quot;:&quot;http://www.cs.utexas.edu/~joeraii/siglet/&quot;}&lt;/data&gt;</pre>
</div>
<div title="AnnotationsPlugin" modifier="tiddlyvault" modified="200712051337" created="200712051335" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Popups&quot;,&quot;description&quot;:&quot;Inline annotations for tiddler text.&quot;}&lt;/data&gt;</pre>
</div>
<div title="AnswerMacro" modifier="giffmex" modified="200709030231" created="200709030230" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;George Brackett&quot;,&quot;link&quot;:&quot;http://luceatlux.net/macros/answer&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;1.2&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;description&quot;:&quot;Displays answers and feedback for online questions.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Appearance" modifier="giffmex" modified="200709112127" created="200709011421" tags="menus">
<pre>*[[Colors]]
*[[Themes]]
*[[Toggling page elements]]
*[[Other style changes]]
*[[Formatting and viewing text]]
*[[Icons, smileys]]</pre>
</div>
<div title="ArchivePlugin" modifier="giffmex" modified="200709030052" created="200709030051" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;The archive plugin allows you to store tiddler text outside of the tiddlywiki file. Typically you would tag bulky tiddlers or those with infrequently needed content as \&quot;Archive\&quot; and these would then be archived as separate html files in the sub folder called \&quot;archive\&quot;.&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;}&lt;/data&gt;</pre>
</div>
<div title="ArchivedTimeline" modifier="giffmex" modified="200709011346" created="200709011345" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;description&quot;:&quot;Timeline archived monthly.&quot;,&quot;twversion&quot;:&quot;2.0.11&quot;}&lt;/data&gt;</pre>
</div>
<div title="AttachFilePlugin" modifier="giffmex" modified="200709112231" created="200709112229" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Store binary files as base64-encoded tiddlers with fallback links for separate local and/or remote file storage. Store or link binary files (such as jpg, gif, pdf or even mp3) within your TiddlyWiki document and then use them as images or links from within your tiddler content. Binary file content can be stored in three different locations:&lt;br&gt;1. embedded in the attachment tiddler (encoded as base64)&lt;br&gt;2. on your filesystem (a 'local link' path/filename)&lt;br&gt;3. on a web server (a 'remote link' URL)&lt;br&gt;The plugin creates an \&quot;attachment tiddler\&quot; for each file you attach. Regardless of where you store the binary content, your document can refer to the attachment tiddler rather than using a direct file or URL reference in your embedded image or external links, so that changing document locations will not require updating numerous tiddlers or copying files from one system to another.&quot;}&lt;/data&gt;</pre>
</div>
<div title="AudioPlayerPlugin" modifier="giffmex" modified="200709032056" created="200709032055" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Conal Elliott&quot;,&quot;link&quot;:&quot;http://journal.conal.net/#%5B%5Bsite%20map%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;description&quot;:&quot;An audio player.&quot;}&lt;/data&gt;</pre>
</div>
<div title="AutoCorrectPlugin" modifier="giffmex" modified="200709092101" created="200709092100" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Auto-corrects a list of mistyped or misspelled words. The list of words can be in any tiddler tagged with autoCorrectWords.&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;}&lt;/data&gt;</pre>
</div>
<div title="AutoOpenTiddlersPlugin" modifier="giffmex" modified="200709011727" created="200709011725" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Automatically open the last 5 tiddlers when TW loads. The number of tiddlers opened can be specifed by the user. //[Note from Dave: I put this in this category assuming its main purpose is for bloggers - ?]//&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="AutoRefresh" modifier="giffmex" modified="200709112217" created="200709112216" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;description&quot;:&quot;Enable/disable auto-refresh of selected content to force/prevent re-rendering when tiddler changes occur.&quot;}&lt;/data&gt;</pre>
</div>
<div title="AutoTaggerPlugin" modifier="giffmex" modified="200708310252" created="200708310251" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Automatically tag tiddlers with their creation date, modification date, author, etc. and/or scan and tag the tiddler with any tags that are embedded in the content.&quot;}&lt;/data&gt;</pre>
</div>
<div title="AutoWeavePlugin" modifier="giffmex" modified="200709031943" created="200709031941" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Automatically adds brackets to nonwikiwords on saving a tiddler.&quot;,&quot;category&quot;:&quot;Links&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Laurence Man&quot;,&quot;link&quot;:&quot;http://weave.tiddlyspot.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="BackstageTweaks (TiddlyTools)" modifier="giffmex" modified="200709112236" created="200709112232" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Behind the scenes&quot;,&quot;description&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="Batch Processing Utility" modifier="giffmex" modified="200709032139" created="200709032138" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Alan Hecht&quot;,&quot;link&quot;:&quot;http://www.personal.psu.edu/ach12/tiddlywiki/extensions.htm&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;Not compliant with 2.0&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;description&quot;:&quot;This Batch Processing Utility (BPU) allows you to select a group of tiddlers by title, tag, author, or date and perform an action on the entire group (open, edit, add/remove a tag, delete, etc.). Other features include renaming a tag across all the tiddlers that use it and importing/exporting tiddlers via copy/paste.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Behind the scenes misc tweaks" modifier="giffmex" created="200709030019">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Behind the scenes&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="BetterFormatterPlugin" modifier="tiddlyvault" modified="200709161318" created="200709031305" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Make the formatters more flexible: &lt;br&gt;* Allows white-space before the block formatters&lt;br&gt;* Allows more than 4 dashes to make an HR&lt;br&gt;* Handles number lists pasted from the web - these have \&quot; 1.\&quot; etc. at the start of each line and this changes that into a level 1 ordered list.&lt;br&gt;* Allows a leading dash as an unordered list (only 1 level though to avoid clash with HR rule&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;twversion&quot;:&quot;2.0.0 or higher&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Julian Knight&quot;,&quot;link&quot;:&quot;http://knighjm.googlepages.com/knightnet-default-tw.html#PlugIn-Knightnet&quot;}&lt;/data&gt;</pre>
</div>
<div title="BetterTimelineMacro" modifier="giffmex" modified="200708310003" created="200708310002" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Replacement for the core timeline macro, with more options and features.&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="Binary Data Plugin" modifier="giffmex" created="200709030039" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bradley Meck (~PeachTW)&quot;,&quot;link&quot;:&quot;http://bradleymeck.tiddlyspot.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;}&lt;/data&gt;</pre>
</div>
<div title="Blackout" modifier="giffmex" created="200709051303" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Theme&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;description&quot;:&quot;Alternative stylesheet theme: black/blue-gray/gray backgrounds w/light text.&quot;}&lt;/data&gt;</pre>
</div>
<div title="BlockCollapseMacro" modifier="giffmex" modified="200709051241" created="200709051237" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;FND&quot;,&quot;link&quot;:&quot;http://devpad.tiddlyspot.com&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Macro for collapsing/expanding block elements' height on click.&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;}&lt;/data&gt;</pre>
</div>
<div title="BlogPlugin (Nigham)" modifier="giffmex" modified="200709031947" created="200709031946" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Anshul Nigham&quot;,&quot;link&quot;:&quot;http://www.anshul.info/blogwiki.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;twversion&quot;:&quot;2.1.3&quot;,&quot;description&quot;:&quot;Posts the most recently edited tiddlers when the TiddlyWiki is opened, similar to a blog. (Adapted from an earlier plugin by ClintChecketts)&quot;}&lt;/data&gt;</pre>
</div>
<div title="BlogUserPlugin" modifier="giffmex" modified="200709092219" created="200709092217" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;description&quot;:&quot;Provides a quick way to create a pretty link to a TiddlySpot, LiveJournal, Xanga or MySpace site.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://conflation.org/#BlogUserPlugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="BookmarksCommand" modifier="giffmex" modified="200709011352" created="200708310307" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Toolbar button for bookmarks services.&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;twversion&quot;:&quot;2.2&quot;,&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="BoxesPlugin" modifier="giffmex" modified="200709042144" created="200709042142" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Paulo Soares&quot;,&quot;link&quot;:&quot;http://www.math.ist.utl.pt/~psoares/addons.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;This plugin lets you create custom numbered environments that can be decorated through CSS. [Note from Dave: what he's trying to say is that you can create all kinds of cool boxes around your text. See the various examples he gives and you will be convinced]&quot;}&lt;/data&gt;</pre>
</div>
<div title="BreadcrumbsPlugin (Jack's)" modifier="giffmex" modified="200709030046" created="200709030045" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;This plugin creates an area at the top of the tiddler area that displays \&quot;breadcrumbs\&quot; of where you've been. This is especially useful forTWs using SinglePageMode by Eric Schulman. Original author Alan Hecht.&quot;}&lt;/data&gt;</pre>
</div>
<div title="BreadcrumbsPlugin (PrinceTW)" modifier="giffmex" modified="200709011335" created="200709011334" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Author: Alan Hecht (with 2.0 update from 'jack' and revisions by Bram Chen).&quot;}&lt;/data&gt;</pre>
</div>
<div title="BreadcrumbsPlugin (TiddlyTools)" modifier="giffmex" modified="200709021145" created="200708310257" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Show a list of tiddlers viewed during this session. Also defines \&quot;back\&quot; (previousTiddler) toolbar button and macro.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="BrightText" modifier="giffmex" modified="200709051305" created="200709051304" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Supplemental CSS adjusts font colors for use with dark backgrounds.&quot;,&quot;category&quot;:&quot;Colors&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ByFilesExcluded" modifier="MorrisGray" created="200709122043" tags="script msgray excludeLists excludeSearch killbookmark">
<pre>{{scroll{
&lt;&lt;forEachTiddler
 where
'tiddler.tags.containsAny([&quot;excludeLists&quot;,&quot;excludeSearch&quot;])'
write
 '&quot;|&quot;+(index+1)+&quot;|[[&quot;+tiddler.title+&quot;]] |@@color:#c06;&amp;raquo;@@ |(&quot;+tiddler.tags+&quot;)|\n&quot;'
&gt;&gt;
}}}
</pre>
</div>
<div title="CalculatorMacro" modifier="giffmex" modified="200709042221" created="200709042219" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Unknown&quot;,&quot;link&quot;:&quot;http://fire.atspace.org/&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Calculators&quot;,&quot;description&quot;:&quot;A calculator!&quot;}&lt;/data&gt;</pre>
</div>
<div title="CalendarPlugin" modifier="giffmex" modified="200708310250" created="200708310248" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;description&quot;:&quot;Monthly and yearly calendars.&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Steve Rumsby&quot;}&lt;/data&gt;</pre>
</div>
<div title="CaptureKeysMacro" modifier="giffmex" modified="200709030038" created="200709030035" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;author&quot;:&quot;Bradley Meck (~PeachTW)&quot;,&quot;link&quot;:&quot;http://bradleymeck.tiddlyspot.com&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with keyboards&quot;,&quot;description&quot;:&quot;Makes an easy way to capture a key and stop the browser from doing its default action.&quot;}&lt;/data&gt;</pre>
</div>
<div title="CcTiddly" modifier="giffmex" modified="200709032206" created="200709032205" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;ccTiddly&quot;,&quot;link&quot;:&quot;http://cctiddly.sourceforge.net/&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Uploading TiddlyWikis to a server&quot;,&quot;description&quot;:&quot;ccTiddly is a tiddly adaptation based on PHP and MySQL to store tiddlers. This is a server side adaptation which allow its user to change their TiddlyWiki over HTTP. It is also possible to generate a standalone version with this!&quot;}&lt;/data&gt;</pre>
</div>
<div title="CheckboxPlugin" modifier="giffmex" modified="200708310254" created="200708310253" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;description&quot;:&quot;Add checkboxes to your tiddler content.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ChecklistScript" modifier="giffmex" modified="200709112147" created="200709112146" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;description&quot;:&quot;Demonstration using CheckboxPlugin to create simple tag-based daily checklist.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Clock2" modifier="giffmex" modified="200708311219" created="200708311218" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;A skinnable, sizeable analog clock.&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="CloseOnCancelPlugin" modifier="giffmex" modified="200709021144" created="200709011750" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Closes the tiddler if you click new tiddler then cancel. Default behaviour is to leave it open.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;}&lt;/data&gt;</pre>
</div>
<div title="CloseSlider" modifier="giffmex" modified="200709112142" created="200709112141" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;description&quot;:&quot;Embed a 'close' link floating in upper right corner of slider. closes current slider panel.&quot;}&lt;/data&gt;</pre>
</div>
<div title="CollapseTiddlersPlugin" modifier="giffmex" created="200709021222" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;Show/hide content of a tiddler while leaving tiddler title visible.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;}&lt;/data&gt;</pre>
</div>
<div title="Collapsible Table of Contents" modifier="giffmex" modified="200709031931" created="200709031928" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;author&quot;:&quot;Unknown&quot;,&quot;link&quot;:&quot;http://du180.n77.queensu.ca/TW/ToC.html&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;Seems to be a series of tables of contents, different ways of handling a table of contents.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ColorPalette" modifier="giffmex" modified="200708311308" created="200708302108">
<pre>Background: #fff
Foreground: #000
PrimaryPale: #ddaaff
PrimaryLight: #bb3333
PrimaryMid: #550099
PrimaryDark: #014
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #8844aa
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88</pre>
</div>
<div title="Colors" modifier="MorrisGray" modified="200709122236" created="200708302143">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Colors&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ColumnCalculatorPlugin" modifier="giffmex" modified="200709021221" created="200709021220" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;category&quot;:&quot;Tables&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Calculate values from table cells in a column. ALPHA - DO NOT DISTRIBUTE - USE AT YOUR OWN RISK.&quot;}&lt;/data&gt;</pre>
</div>
<div title="CommaSeparatedTags" modifier="giffmex" modified="200709092104" created="200709092103" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Probably works badly if you have tags containing commas. :-)&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="CommentScript" modifier="giffmex" modified="200709112139" created="200709112138" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;description&quot;:&quot;Form to enter feedback/comments that are automatically added to tiddler content.&quot;}&lt;/data&gt;</pre>
</div>
<div title="CompareTiddlers" modifier="giffmex" created="200709120040" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Uncategorized tools&quot;,&quot;description&quot;:&quot;TidIDE: show color-coded differences between two selected tiddlers.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ConfigOptionsMacro" modifier="giffmex" modified="200709030101" created="200709030100" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;This plugin allows you to store TiddlyWiki options in a tiddler. This means the options are part of the store and are not shared among TiddlyWiki files. The options are also more robust and persist when cookies are loaded.&quot;,&quot;category&quot;:&quot;Behind the scenes&quot;}&lt;/data&gt;</pre>
</div>
<div title="ConfigTweaksPlugin (MonkeyPirate)" modifier="giffmex" modified="200709030018" created="200709030015" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Behind the scenes&quot;,&quot;description&quot;:&quot;Simon Baird's favorite tweaks, having to do with online user experimentation, tabs, and the text that appears upon creating a new tiddler.&quot;}&lt;/data&gt;</pre>
</div>
<div title="CookieManagerPlugin" modifier="giffmex" modified="200709021227" created="200709021224" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;category&quot;:&quot;Working with browsers&quot;,&quot;description&quot;:&quot;Review/add/delete option cookies and save current option values to CookieJar tiddler for 'sticky' settings.&quot;,&quot;twversion&quot;:&quot;2.1&quot;}&lt;/data&gt;</pre>
</div>
<div title="CopyTiddlerPlugin" modifier="giffmex" modified="200709120039" created="200709120038" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Uncategorized tools&quot;,&quot;description&quot;:&quot;Quickly create a copy of any existing tiddler.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Core tweaks (Prince TW)" modifier="giffmex" modified="200709011412" created="200709011336" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Covert Unicode to UTF8 for Markup* chunks.&quot;}&lt;/data&gt;</pre>
</div>
<div title="CoreTweaks" modifier="giffmex" modified="200709112234" created="200709112233" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;twversion&quot;:&quot;2.2.4 only&quot;,&quot;category&quot;:&quot;Behind the scenes&quot;,&quot;description&quot;:&quot;This tiddler contains some quick tweaks and modifications to TW core functions to provide minor changes in standard features or behavior. It is hoped that some of these tweaks may be incorporated into later versions of the TW core, so that these adjustements will be available without needing these add-on definitions.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="CoreTweaksArchive" modifier="giffmex" created="200709112235" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;small overrides to TW core functions - FOR TW 2.1.3 OR EARLIER.&quot;,&quot;twversion&quot;:&quot;2.1.3 or earlier&quot;,&quot;category&quot;:&quot;Behind the scenes&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="CreoleFormatterPlugin" modifier="giffmex" modified="200709011453" created="200708311228" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Non-English languages&quot;,&quot;description&quot;:&quot;Extension of TiddlyWiki syntax to support Creole text formatting.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Custom hover dates" modifier="giffmex" created="200709032143" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Custom Hover Dates lets you change the hover text for tiddler titles to a custom format. For instance, you can customize the hover text so that minutes and seconds are excluded from the last modified date. For example, hover over any tiddler title on this page to see the modified date without the hours and minutes.&quot;,&quot;twversion&quot;:&quot;2.0 compatible&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.personal.psu.edu/ach12/tiddlywiki/extensions.htm&quot;,&quot;author&quot;:&quot;Alan Hecht&quot;}&lt;/data&gt;</pre>
</div>
<div title="DC3.Ajax" modifier="giffmex" modified="200709011332" created="200709011331" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob Denny (Red Mt. Vista)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.0.11, 2.1.0&quot;,&quot;description&quot;:&quot;HTTP support including field encoding and post for forms. Loosely patterned after ~.BidiX.Ajax.&quot;,&quot;category&quot;:&quot;Forms and databases&quot;}&lt;/data&gt;</pre>
</div>
<div title="DC3.LightBox" modifier="giffmex" modified="200709011316" created="200709011315" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob Denny (Red Mt. Vista)&quot;,&quot;link&quot;:&quot;http://solo.dc3.com/tw/#%5B%5BMy%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.x&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;description&quot;:&quot;This plugin implements a lightbox widget for TiddlyWiki. Via Javascript, you can display any HTML div in the lightbox, or use \&quot;canned\&quot; divs for displaying HTML message in a box or an alert with icon. The lightbox is closed by either clicking the X-icon or anywhere outside the lightbox. Only one lightbox can be active at a time. See the usage section below.&quot;}&lt;/data&gt;</pre>
</div>
<div title="DOMTweaksPlugin" modifier="giffmex" modified="200709112238" created="200709112237" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Set DOM element IDs, add/remove classes and/or reposition rendered elements.&quot;}&lt;/data&gt;</pre>
</div>
<div title="DarkBlueTheme" modifier="giffmex" modified="200708311311" created="200708311309" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Theme&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;description&quot;:&quot;A dark blue theme from the Prince himself.&quot;}&lt;/data&gt;</pre>
</div>
<div title="DataTiddlerPlugin" modifier="MorrisGray" modified="200709130240" created="200512220305" tags="UdoBorkowski systemConfig">
<pre>/***
|''Name:''|DataTiddlerPlugin|
|''Version:''|1.0.6 (2006-08-26)|
|''Source:''|http://tiddlywiki.abego-software.de/#DataTiddlerPlugin|
|''Author:''|UdoBorkowski (ub [at] abego-software [dot] de)|
|''Licence:''|[[BSD open source license]]|
|''TiddlyWiki:''|1.2.38+, 2.0|
|''Browser:''|Firefox 1.0.4+; InternetExplorer 6.0|
!Description
Enhance your tiddlers with structured data (such as strings, booleans, numbers, or even arrays and compound objects) that can be easily accessed and modified through named fields (in JavaScript code).

Such tiddler data can be used in various applications. E.g. you may create tables that collect data from various tiddlers. 

''//Example: &quot;Table with all December Expenses&quot;//''
{{{
&lt;&lt;forEachTiddler
    where
        'tiddler.tags.contains(&quot;expense&quot;) &amp;&amp; tiddler.data(&quot;month&quot;) == &quot;Dec&quot;'
    write
        '&quot;|[[&quot;+tiddler.title+&quot;]]|&quot;+tiddler.data(&quot;descr&quot;)+&quot;| &quot;+tiddler.data(&quot;amount&quot;)+&quot;|\n&quot;'
&gt;&gt;
}}}
//(This assumes that expenses are stored in tiddlers tagged with &quot;expense&quot;.)//
&lt;&lt;forEachTiddler
    where
        'tiddler.tags.contains(&quot;expense&quot;) &amp;&amp; tiddler.data(&quot;month&quot;) == &quot;Dec&quot;'
    write
        '&quot;|[[&quot;+tiddler.title+&quot;]]|&quot;+tiddler.data(&quot;descr&quot;)+&quot;| &quot;+tiddler.data(&quot;amount&quot;)+&quot;|\n&quot;'
&gt;&gt;
For other examples see DataTiddlerExamples.




''Access and Modify Tiddler Data''

You can &quot;attach&quot; data to every tiddler by assigning a JavaScript value (such as a string, boolean, number, or even arrays and compound objects) to named fields. 

These values can be accessed and modified through the following Tiddler methods:
|!Method|!Example|!Description|
|{{{data(field)}}}|{{{t.data(&quot;age&quot;)}}}|Returns the value of the given data field of the tiddler. When no such field is defined or its value is undefined {{{undefined}}} is returned.|
|{{{data(field,defaultValue)}}}|{{{t.data(&quot;isVIP&quot;,false)}}}|Returns the value of the given data field of the tiddler. When no such field is defined or its value is undefined the defaultValue is returned.|
|{{{data()}}}|{{{t.data()}}}|Returns the data object of the tiddler, with a property for every field. The properties of the returned data object may only be read and not be modified. To modify the data use DataTiddler.setData(...) or the corresponding Tiddler method.|
|{{{setData(field,value)}}}|{{{t.setData(&quot;age&quot;,42)}}}|Sets the value of the given data field of the tiddler to the value. When the value is {{{undefined}}} the field is removed.|
|{{{setData(field,value,defaultValue)}}}|{{{t.setData(&quot;isVIP&quot;,flag,false)}}}|Sets the value of the given data field of the tiddler to the value. When the value is equal to the defaultValue no value is set (and the field is removed).|

Alternatively you may use the following functions to access and modify the data. In this case the tiddler argument is either a tiddler or the name of a tiddler.
|!Method|!Description|
|{{{DataTiddler.getData(tiddler,field)}}}|Returns the value of the given data field of the tiddler. When no such field is defined or its value is undefined {{{undefined}}} is returned.|
|{{{DataTiddler.getData(tiddler,field,defaultValue)}}}|Returns the value of the given data field of the tiddler. When no such field is defined or its value is undefined the defaultValue is returned.|
|{{{DataTiddler.getDataObject(tiddler)}}}|Returns the data object of the tiddler, with a property for every field. The properties of the returned data object may only be read and not be modified. To modify the data use DataTiddler.setData(...) or the corresponding Tiddler method.|
|{{{DataTiddler.setData(tiddler,field,value)}}}|Sets the value of the given data field of the tiddler to the value. When the value is {{{undefined}}} the field is removed.|
|{{{DataTiddler.setData(tiddler,field,value,defaultValue)}}}|Sets the value of the given data field of the tiddler to the value. When the value is equal to the defaultValue no value is set (and the field is removed).|
//(For details on the various functions see the detailed comments in the source code.)//


''Data Representation in a Tiddler''

The data of a tiddler is stored as plain text in the tiddler's content/text, inside a &quot;data&quot; section that is framed by a {{{&lt;data&gt;...&lt;/data&gt;}}} block. Inside the data section the information is stored in the [[JSON format|http://www.crockford.com/JSON/index.html]]. 

//''Data Section Example:''//
{{{
&lt;data&gt;{&quot;isVIP&quot;:true,&quot;user&quot;:&quot;John Brown&quot;,&quot;age&quot;:34}&lt;/data&gt;
}}}

The data section is not displayed when viewing the tiddler (see also &quot;The showData Macro&quot;).

Beside the data section a tiddler may have all kind of other content.

Typically you will not access the data section text directly but use the methods given above. Nevertheless you may retrieve the text of the data section's content through the {{{DataTiddler.getDataText(tiddler)}}} function.


''Saving Changes''

The &quot;setData&quot; methods respect the &quot;ForceMinorUpdate&quot; and &quot;AutoSave&quot; configuration values. I.e. when &quot;ForceMinorUpdate&quot; is true changing a value using setData will not affect the &quot;modifier&quot; and &quot;modified&quot; attributes. With &quot;AutoSave&quot; set to true every setData will directly save the changes after a setData.


''Notifications''

No notifications are sent when a tiddler's data value is changed through the &quot;setData&quot; methods. 

''Escape Data Section''
In case that you want to use the text {{{&lt;data&gt;}}} or {{{&lt;/data&gt;}}} in a tiddler text you must prefix the text with a tilde ('~'). Otherwise it may be wrongly considered as the data section. The tiddler text {{{~&lt;data&gt;}}} is displayed as {{{&lt;data&gt;}}}.


''The showData Macro''

By default the data of a tiddler (that is stored in the {{{&lt;data&gt;...&lt;/data&gt;}}} section of the tiddler) is not displayed. If you want to display this data you may used the {{{&lt;&lt;showData ...&gt;&gt;}}} macro:

''Syntax:'' 
|&gt;|{{{&lt;&lt;}}}''showData '' [''JSON''] [//tiddlerName//] {{{&gt;&gt;}}}|
|''JSON''|By default the data is rendered as a table with a &quot;Name&quot; and &quot;Value&quot; column. When defining ''JSON'' the data is rendered in JSON format|
|//tiddlerName//|Defines the tiddler holding the data to be displayed. When no tiddler is given the tiddler containing the showData macro is used. When the tiddler name contains spaces you must quote the name (or use the {{{[[...]]}}} syntax.)|
|&gt;|~~Syntax formatting: Keywords in ''bold'', optional parts in [...]. 'or' means that exactly one of the two alternatives must exist.~~|


!Revision history
* v1.0.6 (2006-08-26) 
** Removed misleading comment
* v1.0.5 (2006-02-27) (Internal Release Only)
** Internal
*** Make &quot;JSLint&quot; conform
* v1.0.4 (2006-02-05)
** Bugfix: showData fails in TiddlyWiki 2.0
* v1.0.3 (2006-01-06)
** Support TiddlyWiki 2.0
* v1.0.2 (2005-12-22)
** Enhancements:
*** Handle texts &quot;&lt;data&gt;&quot; or &quot;&lt;/data&gt;&quot; more robust when used in a tiddler text or as a field value.
*** Improved (JSON) error messages.
** Bugs fixed: 
*** References are not updated when using the DataTiddler.
*** Changes to compound objects are not always saved.
*** &quot;~&lt;/data&gt;&quot; is not rendered correctly (expected &quot;&lt;/data&gt;&quot;)
* v1.0.1 (2005-12-13)
** Features: 
*** The showData macro supports an optional &quot;tiddlername&quot; argument to specify the tiddler containing the data to be displayed
** Bugs fixed: 
*** A script immediately following a data section is deleted when the data is changed. (Thanks to GeoffS for reporting.)
* v1.0.0 (2005-12-12)
** initial version

!Code
***/
//{{{
//============================================================================
//============================================================================
//                           DataTiddlerPlugin
//============================================================================
//============================================================================

// Ensure that the DataTiddler Plugin is only installed once.
//
if (!version.extensions.DataTiddlerPlugin) {



version.extensions.DataTiddlerPlugin = {
    major: 1, minor: 0, revision: 6,
    date: new Date(2006, 7, 26), 
    type: 'plugin',
    source: &quot;http://tiddlywiki.abego-software.de/#DataTiddlerPlugin&quot;
};

// For backward compatibility with v1.2.x
//
if (!window.story) window.story=window; 
if (!TiddlyWiki.prototype.getTiddler) {
	TiddlyWiki.prototype.getTiddler = function(title) { 
		var t = this.tiddlers[title]; 
		return (t !== undefined &amp;&amp; t instanceof Tiddler) ? t : null; 
	};
}

//============================================================================
// DataTiddler Class
//============================================================================

// ---------------------------------------------------------------------------
// Configurations and constants 
// ---------------------------------------------------------------------------

function DataTiddler() {
}

DataTiddler = {
    // Function to stringify a JavaScript value, producing the text for the data section content.
    // (Must match the implementation of DataTiddler.parse.)
    //
    stringify : null,
    

    // Function to parse the text for the data section content, producing a JavaScript value.
    // (Must match the implementation of DataTiddler.stringify.)
    //
    parse : null
};

// Ensure access for IE
window.DataTiddler = DataTiddler;

// ---------------------------------------------------------------------------
// Data Accessor and Mutator
// ---------------------------------------------------------------------------


// Returns the value of the given data field of the tiddler.
// When no such field is defined or its value is undefined
// the defaultValue is returned.
// 
// @param tiddler either a tiddler name or a tiddler
//
DataTiddler.getData = function(tiddler, field, defaultValue) {
    var t = (typeof tiddler == &quot;string&quot;) ? store.getTiddler(tiddler) : tiddler;
    if (!(t instanceof Tiddler)) {
        throw &quot;Tiddler expected. Got &quot;+tiddler;
    }

    return DataTiddler.getTiddlerDataValue(t, field, defaultValue);
};


// Sets the value of the given data field of the tiddler to
// the value. When the value is equal to the defaultValue
// no value is set (and the field is removed)
//
// Changing data of a tiddler will not trigger notifications.
// 
// @param tiddler either a tiddler name or a tiddler
//
DataTiddler.setData = function(tiddler, field, value, defaultValue) {
    var t = (typeof tiddler == &quot;string&quot;) ? store.getTiddler(tiddler) : tiddler;
    if (!(t instanceof Tiddler)) {
        throw &quot;Tiddler expected. Got &quot;+tiddler+ &quot;(&quot;+t+&quot;)&quot;;
    }

    DataTiddler.setTiddlerDataValue(t, field, value, defaultValue);
};


// Returns the data object of the tiddler, with a property for every field.
//
// The properties of the returned data object may only be read and
// not be modified. To modify the data use DataTiddler.setData(...) 
// or the corresponding Tiddler method.
//
// If no data section is defined a new (empty) object is returned.
//
// @param tiddler either a tiddler name or a Tiddler
//
DataTiddler.getDataObject = function(tiddler) {
    var t = (typeof tiddler == &quot;string&quot;) ? store.getTiddler(tiddler) : tiddler;
    if (!(t instanceof Tiddler)) {
        throw &quot;Tiddler expected. Got &quot;+tiddler;
    }

    return DataTiddler.getTiddlerDataObject(t);
};

// Returns the text of the content of the data section of the tiddler.
//
// When no data section is defined for the tiddler null is returned 
//
// @param tiddler either a tiddler name or a Tiddler
// @return [may be null]
//
DataTiddler.getDataText = function(tiddler) {
    var t = (typeof tiddler == &quot;string&quot;) ? store.getTiddler(tiddler) : tiddler;
    if (!(t instanceof Tiddler)) {
        throw &quot;Tiddler expected. Got &quot;+tiddler;
    }

    return DataTiddler.readDataSectionText(t);
};


// ---------------------------------------------------------------------------
// Internal helper methods (must not be used by code from outside this plugin)
// ---------------------------------------------------------------------------

// Internal.
//
// The original JSONError is not very user friendly, 
// especially it does not define a toString() method
// Therefore we extend it here.
//
DataTiddler.extendJSONError = function(ex) {
	if (ex.name == 'JSONError') {
        ex.toString = function() {
			return ex.name + &quot;: &quot;+ex.message+&quot; (&quot;+ex.text+&quot;)&quot;;
		};
	}
	return ex;
};

// Internal.
//
// @param t a Tiddler
//
DataTiddler.getTiddlerDataObject = function(t) {
    if (t.dataObject === undefined) {
        var data = DataTiddler.readData(t);
        t.dataObject = (data) ? data : {};
    }
    
    return t.dataObject;
};


// Internal.
//
// @param tiddler a Tiddler
//
DataTiddler.getTiddlerDataValue = function(tiddler, field, defaultValue) {
    var value = DataTiddler.getTiddlerDataObject(tiddler)[field];
    return (value === undefined) ? defaultValue : value;
};


// Internal.
//
// @param tiddler a Tiddler
//
DataTiddler.setTiddlerDataValue = function(tiddler, field, value, defaultValue) {
    var data = DataTiddler.getTiddlerDataObject(tiddler);
    var oldValue = data[field];
	
    if (value == defaultValue) {
        if (oldValue !== undefined) {
            delete data[field];
            DataTiddler.save(tiddler);
        }
        return;
    }
    data[field] = value;
    DataTiddler.save(tiddler);
};

// Internal.
//
// Reads the data section from the tiddler's content and returns its text
// (as a String).
//
// Returns null when no data is defined.
//
// @param tiddler a Tiddler
// @return [may be null]
//
DataTiddler.readDataSectionText = function(tiddler) {
    var matches = DataTiddler.getDataTiddlerMatches(tiddler);
    if (matches === null || !matches[2]) {
        return null;
    }
    return matches[2];
};

// Internal.
//
// Reads the data section from the tiddler's content and returns it
// (as an internalized object).
//
// Returns null when no data is defined.
//
// @param tiddler a Tiddler
// @return [may be null]
//
DataTiddler.readData = function(tiddler) {
    var text = DataTiddler.readDataSectionText(tiddler);
	try {
	    return text ? DataTiddler.parse(text) : null;
	} catch(ex) {
		throw DataTiddler.extendJSONError(ex);
	}
};

// Internal.
// 
// Returns the serialized text of the data of the given tiddler, as it
// should be stored in the data section.
//
// @param tiddler a Tiddler
//
DataTiddler.getDataTextOfTiddler = function(tiddler) {
    var data = DataTiddler.getTiddlerDataObject(tiddler);
    return DataTiddler.stringify(data);
};


// Internal.
// 
DataTiddler.indexOfNonEscapedText = function(s, subString, startIndex) {
	var index = s.indexOf(subString, startIndex);
	while ((index &gt; 0) &amp;&amp; (s[index-1] == '~')) { 
		index = s.indexOf(subString, index+1);
	}
	return index;
};

// Internal.
//
DataTiddler.getDataSectionInfo = function(text) {
	// Special care must be taken to handle &quot;&lt;data&gt;&quot; and &quot;&lt;/data&gt;&quot; texts inside
	// a data section. 
	// Also take care not to use an escaped &lt;data&gt; (i.e. &quot;~&lt;data&gt;&quot;) as the start 
	// of a data section. (Same for &lt;/data&gt;)

    // NOTE: we are explicitly searching for a data section that contains a JSON
    // string, i.e. framed with braces. This way we are little bit more robust in
    // case the tiddler contains unescaped texts &quot;&lt;data&gt;&quot; or &quot;&lt;/data&gt;&quot;. This must
    // be changed when using a different stringifier.

	var startTagText = &quot;&lt;data&gt;{&quot;;
	var endTagText = &quot;}&lt;/data&gt;&quot;;

	var startPos = 0;

	// Find the first not escaped &quot;&lt;data&gt;&quot;.
	var startDataTagIndex = DataTiddler.indexOfNonEscapedText(text, startTagText, 0);
	if (startDataTagIndex &lt; 0) {
		return null;
	}

	// Find the *last* not escaped &quot;&lt;/data&gt;&quot;.
	var endDataTagIndex = text.indexOf(endTagText, startDataTagIndex);
	if (endDataTagIndex &lt; 0) {
		return null;
	}
	var nextEndDataTagIndex;
	while ((nextEndDataTagIndex = text.indexOf(endTagText, endDataTagIndex+1)) &gt;= 0) {
		endDataTagIndex = nextEndDataTagIndex;
	}

	return {
		prefixEnd: startDataTagIndex, 
		dataStart: startDataTagIndex+(startTagText.length)-1, 
		dataEnd: endDataTagIndex, 
		suffixStart: endDataTagIndex+(endTagText.length)
	};
};

// Internal.
// 
// Returns the &quot;matches&quot; of a content of a DataTiddler on the
// &quot;data&quot; regular expression. Return null when no data is defined
// in the tiddler content.
//
// Group 1: text before data section (prefix)
// Group 2: content of data section
// Group 3: text behind data section (suffix)
//
// @param tiddler a Tiddler
// @return [may be null] null when the tiddler contains no data section, otherwise see above.
//
DataTiddler.getDataTiddlerMatches = function(tiddler) {
	var text = tiddler.text;
	var info = DataTiddler.getDataSectionInfo(text);
	if (!info) {
		return null;
	}

	var prefix = text.substr(0,info.prefixEnd);
	var data = text.substr(info.dataStart, info.dataEnd-info.dataStart+1);
	var suffix = text.substr(info.suffixStart);
	
	return [text, prefix, data, suffix];
};


// Internal.
//
// Saves the data in a &lt;data&gt; block of the given tiddler (as a minor change). 
//
// The &quot;chkAutoSave&quot; and &quot;chkForceMinorUpdate&quot; options are respected. 
// I.e. the TiddlyWiki *file* is only saved when AutoSave is on.
//
// Notifications are not send. 
//
// This method should only be called when the data really has changed. 
//
// @param tiddler
//             the tiddler to be saved.
//
DataTiddler.save = function(tiddler) {

    var matches = DataTiddler.getDataTiddlerMatches(tiddler);

    var prefix;
    var suffix;
    if (matches === null) {
        prefix = tiddler.text;
        suffix = &quot;&quot;;
    } else {
        prefix = matches[1];
        suffix = matches[3];
    }

    var dataText = DataTiddler.getDataTextOfTiddler(tiddler);
    var newText = 
            (dataText !== null) 
                ? prefix + &quot;&lt;data&gt;&quot; + dataText + &quot;&lt;/data&gt;&quot; + suffix
                : prefix + suffix;
    if (newText != tiddler.text) {
        // make the change in the tiddlers text
        
        // ... see DataTiddler.MyTiddlerChangedFunction
        tiddler.isDataTiddlerChange = true;
        
        // ... do the action change
        tiddler.set(
                tiddler.title,
                newText,
                config.options.txtUserName, 
                config.options.chkForceMinorUpdate? undefined : new Date(),
                tiddler.tags);

        // ... see DataTiddler.MyTiddlerChangedFunction
        delete tiddler.isDataTiddlerChange;

        // Mark the store as dirty.
        store.dirty = true;
 
        // AutoSave if option is selected
        if(config.options.chkAutoSave) {
           saveChanges();
        }
    }
};

// Internal.
//
DataTiddler.MyTiddlerChangedFunction = function() {
    // Remove the data object from the tiddler when the tiddler is changed
    // by code other than DataTiddler code. 
    //
    // This is necessary since the data object is just a &quot;cached version&quot; 
    // of the data defined in the data section of the tiddler and the 
    // &quot;external&quot; change may have changed the content of the data section.
    // Thus we are not sure if the data object reflects the data section 
    // contents. 
    // 
    // By deleting the data object we ensure that the data object is 
    // reconstructed the next time it is needed, with the data defined by
    // the data section in the tiddler's text.
    
    // To indicate that a change is a &quot;DataTiddler change&quot; a temporary
    // property &quot;isDataTiddlerChange&quot; is added to the tiddler.
    if (this.dataObject &amp;&amp; !this.isDataTiddlerChange) {
        delete this.dataObject;
    }
    
    // call the original code.
	DataTiddler.originalTiddlerChangedFunction.apply(this, arguments);
};


//============================================================================
// Formatters
//============================================================================

// This formatter ensures that &quot;~&lt;data&gt;&quot; is rendered as &quot;&lt;data&gt;&quot;. This is used to 
// escape the &quot;&lt;data&gt;&quot; of a data section, just in case someone really wants to use
// &quot;&lt;data&gt;&quot; as a text in a tiddler and not start a data section.
//
// Same for &lt;/data&gt;.
//
config.formatters.push( {
    name: &quot;data-escape&quot;,
    match: &quot;~&lt;\\/?data&gt;&quot;,

    handler: function(w) {
            w.outputText(w.output,w.matchStart + 1,w.nextMatch);
    }
} );


// This formatter ensures that &lt;data&gt;...&lt;/data&gt; sections are not rendered.
//
config.formatters.push( {
    name: &quot;data&quot;,
    match: &quot;&lt;data&gt;&quot;,

    handler: function(w) {
		var info = DataTiddler.getDataSectionInfo(w.source);
		if (info &amp;&amp; info.prefixEnd == w.matchStart) {
            w.nextMatch = info.suffixStart;
		} else {
			w.outputText(w.output,w.matchStart,w.nextMatch);
		}
    }
} );


//============================================================================
// Tiddler Class Extension
//============================================================================

// &quot;Hijack&quot; the changed method ---------------------------------------------------

DataTiddler.originalTiddlerChangedFunction = Tiddler.prototype.changed;
Tiddler.prototype.changed = DataTiddler.MyTiddlerChangedFunction;

// Define accessor methods -------------------------------------------------------

// Returns the value of the given data field of the tiddler. When no such field 
// is defined or its value is undefined the defaultValue is returned.
//
// When field is undefined (or null) the data object is returned. (See 
// DataTiddler.getDataObject.)
//
// @param field [may be null, undefined]
// @param defaultValue [may be null, undefined]
// @return [may be null, undefined]
//
Tiddler.prototype.data = function(field, defaultValue) {
    return (field) 
         ? DataTiddler.getTiddlerDataValue(this, field, defaultValue)
         : DataTiddler.getTiddlerDataObject(this);
};

// Sets the value of the given data field of the tiddler to the value. When the 
// value is equal to the defaultValue no value is set (and the field is removed).
//
// @param value [may be null, undefined]
// @param defaultValue [may be null, undefined]
//
Tiddler.prototype.setData = function(field, value, defaultValue) {
    DataTiddler.setTiddlerDataValue(this, field, value, defaultValue);
};


//============================================================================
// showData Macro
//============================================================================

config.macros.showData = {
     // Standard Properties
     label: &quot;showData&quot;,
     prompt: &quot;Display the values stored in the data section of the tiddler&quot;
};

config.macros.showData.handler = function(place,macroName,params) {
    // --- Parsing ------------------------------------------

    var i = 0; // index running over the params
    // Parse the optional &quot;JSON&quot;
    var showInJSONFormat = false;
    if ((i &lt; params.length) &amp;&amp; params[i] == &quot;JSON&quot;) {
        i++;
        showInJSONFormat = true;
    }
    
    var tiddlerName = story.findContainingTiddler(place).id.substr(7);
    if (i &lt; params.length) {
        tiddlerName = params[i];
        i++;
    }

    // --- Processing ------------------------------------------
    try {
        if (showInJSONFormat) {
            this.renderDataInJSONFormat(place, tiddlerName);
        } else {
            this.renderDataAsTable(place, tiddlerName);
        }
    } catch (e) {
        this.createErrorElement(place, e);
    }
};

config.macros.showData.renderDataInJSONFormat = function(place,tiddlerName) {
    var text = DataTiddler.getDataText(tiddlerName);
    if (text) {
        createTiddlyElement(place,&quot;pre&quot;,null,null,text);
    }
};

config.macros.showData.renderDataAsTable = function(place,tiddlerName) {
    var text = &quot;|!Name|!Value|\n&quot;;
    var data = DataTiddler.getDataObject(tiddlerName);
    if (data) {
        for (var i in data) {
            var value = data[i];
            text += &quot;|&quot;+i+&quot;|&quot;+DataTiddler.stringify(value)+&quot;|\n&quot;;
        }
    }
    
    wikify(text, place);
};


// Internal.
//
// Creates an element that holds an error message
// 
config.macros.showData.createErrorElement = function(place, exception) {
    var message = (exception.description) ? exception.description : exception.toString();
    return createTiddlyElement(place,&quot;span&quot;,null,&quot;showDataError&quot;,&quot;&lt;&lt;showData ...&gt;&gt;: &quot;+message);
};

// ---------------------------------------------------------------------------
// Stylesheet Extensions (may be overridden by local StyleSheet)
// ---------------------------------------------------------------------------
//
setStylesheet(
    &quot;.showDataError{color: #ffffff;background-color: #880000;}&quot;,
    &quot;showData&quot;);


} // of &quot;install only once&quot;
// Used Globals (for JSLint) ==============

// ... TiddlyWiki Core
/*global 	createTiddlyElement, saveChanges, store, story, wikify */
// ... DataTiddler
/*global 	DataTiddler */
// ... JSON
/*global 	JSON */
			

/***
!JSON Code, used to serialize the data
***/
/*
Copyright (c) 2005 JSON.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the &quot;Software&quot;), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The Software shall be used for Good, not Evil.

THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

/*
    The global object JSON contains two methods.

    JSON.stringify(value) takes a JavaScript value and produces a JSON text.
    The value must not be cyclical.

    JSON.parse(text) takes a JSON text and produces a JavaScript value. It will
    throw a 'JSONError' exception if there is an error.
*/
var JSON = {
    copyright: '(c)2005 JSON.org',
    license: 'http://www.crockford.com/JSON/license.html',
/*
    Stringify a JavaScript value, producing a JSON text.
*/
    stringify: function (v) {
        var a = [];

/*
    Emit a string.
*/
        function e(s) {
            a[a.length] = s;
        }

/*
    Convert a value.
*/
        function g(x) {
            var c, i, l, v;

            switch (typeof x) {
            case 'object':
                if (x) {
                    if (x instanceof Array) {
                        e('[');
                        l = a.length;
                        for (i = 0; i &lt; x.length; i += 1) {
                            v = x[i];
                            if (typeof v != 'undefined' &amp;&amp;
                                    typeof v != 'function') {
                                if (l &lt; a.length) {
                                    e(',');
                                }
                                g(v);
                            }
                        }
                        e(']');
                        return;
                    } else if (typeof x.toString != 'undefined') {
                        e('{');
                        l = a.length;
                        for (i in x) {
                            v = x[i];
                            if (x.hasOwnProperty(i) &amp;&amp;
                                    typeof v != 'undefined' &amp;&amp;
                                    typeof v != 'function') {
                                if (l &lt; a.length) {
                                    e(',');
                                }
                                g(i);
                                e(':');
                                g(v);
                            }
                        }
                        return e('}');
                    }
                }
                e('null');
                return;
            case 'number':
                e(isFinite(x) ? +x : 'null');
                return;
            case 'string':
                l = x.length;
                e('&quot;');
                for (i = 0; i &lt; l; i += 1) {
                    c = x.charAt(i);
                    if (c &gt;= ' ') {
                        if (c == '\\' || c == '&quot;') {
                            e('\\');
                        }
                        e(c);
                    } else {
                        switch (c) {
                            case '\b':
                                e('\\b');
                                break;
                            case '\f':
                                e('\\f');
                                break;
                            case '\n':
                                e('\\n');
                                break;
                            case '\r':
                                e('\\r');
                                break;
                            case '\t':
                                e('\\t');
                                break;
                            default:
                                c = c.charCodeAt();
                                e('\\u00' + Math.floor(c / 16).toString(16) +
                                    (c % 16).toString(16));
                        }
                    }
                }
                e('&quot;');
                return;
            case 'boolean':
                e(String(x));
                return;
            default:
                e('null');
                return;
            }
        }
        g(v);
        return a.join('');
    },
/*
    Parse a JSON text, producing a JavaScript value.
*/
    parse: function (text) {
        var p = /^\s*(([,:{}\[\]])|&quot;(\\.|[^\x00-\x1f&quot;\\])*&quot;|-?\d+(\.\d*)?([eE][+-]?\d+)?|true|false|null)\s*/,
            token,
            operator;

        function error(m, t) {
            throw {
                name: 'JSONError',
                message: m,
                text: t || operator || token
            };
        }

        function next(b) {
            if (b &amp;&amp; b != operator) {
                error(&quot;Expected '&quot; + b + &quot;'&quot;);
            }
            if (text) {
                var t = p.exec(text);
                if (t) {
                    if (t[2]) {
                        token = null;
                        operator = t[2];
                    } else {
                        operator = null;
                        try {
                            token = eval(t[1]);
                        } catch (e) {
                            error(&quot;Bad token&quot;, t[1]);
                        }
                    }
                    text = text.substring(t[0].length);
                } else {
                    error(&quot;Unrecognized token&quot;, text);
                }
            } else {
                token = operator = undefined;
            }
        }


        function val() {
            var k, o;
            switch (operator) {
            case '{':
                next('{');
                o = {};
                if (operator != '}') {
                    for (;;) {
                        if (operator || typeof token != 'string') {
                            error(&quot;Missing key&quot;);
                        }
                        k = token;
                        next();
                        next(':');
                        o[k] = val();
                        if (operator != ',') {
                            break;
                        }
                        next(',');
                    }
                }
                next('}');
                return o;
            case '[':
                next('[');
                o = [];
                if (operator != ']') {
                    for (;;) {
                        o.push(val());
                        if (operator != ',') {
                            break;
                        }
                        next(',');
                    }
                }
                next(']');
                return o;
            default:
                if (operator !== null) {
                    error(&quot;Missing value&quot;);
                }
                k = token;
                next();
                return k;
            }
        }
        next();
        return val();
    }
};

/***
!Setup the data serialization
***/

DataTiddler.format = &quot;JSON&quot;;
DataTiddler.stringify = JSON.stringify;
DataTiddler.parse = JSON.parse;

//}}}

</pre>
</div>
<div title="DataTiddlerPlugin " modifier="giffmex" modified="200708302211" created="200708302209" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Forms and databases&quot;}&lt;/data&gt;</pre>
</div>
<div title="DatePlugin" modifier="giffmex" modified="200708310247" created="200708310245" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;description&quot;:&quot;Formatted dates plus popup menu with 'journal' link, changes and (optional) reminders. This plugin provides a general approach to embedding dates and date-based links/menus within tiddler content. This plugin display formatted dates, for the specified year, month, day using number values or mathematical expressions such as (Y+1) or (D+30). Optionally, you can create a link from the formatted output to a 'dated tiddler' for quick blogging or create a popup menu that includes the dated tiddler link plus links to changes made on that date as well as links to any pending reminders for the coming 31 days (if theRemindersPlugin is installed). This plugin also provides a public API for easily incorporating formatted date output (with or without the links/popups) into other plugins, such as calendar generators, etc.&quot;}&lt;/data&gt;</pre>
</div>
<div title="DcTableOfContentsPlugin" modifier="giffmex" modified="200709051233" created="200709031901" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This macro will insert a table of contents reflecting the headings that are used in a tiddler and will be automatically updated when you make changes. Each item in the table of contents can be clicked on to jump to that heading. It can be used either inside of select tiddlers or inside a system wide template.&quot;,&quot;author&quot;:&quot;Doug Compton&quot;,&quot;link&quot;:&quot;http://www.zagware.com/tw/plugins.html#DcTableOfContentsPlugin&quot;,&quot;category&quot;:&quot;Navigating within a tiddler&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="DefaultTiddlers" modifier="giffmex" modified="200708311304" created="200708301245">
<pre>[[Welcome to the TiddlyVault]]</pre>
</div>
<div title="DefinitionMacro" modifier="giffmex" modified="200709030042" created="200709030041" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;Allow definitions of glossary terms to be easily visible via mouseover.&quot;}&lt;/data&gt;</pre>
</div>
<div title="DeleteAllTagged" modifier="tiddlyvault" modified="200712051349" created="200712051348" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Deletes all tiddlers with the specified tag.&quot;}&lt;/data&gt;</pre>
</div>
<div title="DeleteAllTaggedPlugin" modifier="giffmex" modified="200709092057" created="200709092056" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;An adaptation of DeleteDoneTasks (Simon Baird) by Ido Magal.&quot;,&quot;link&quot;:&quot;http://ido-xp.tiddlyspot.com/&quot;,&quot;author&quot;:&quot;Ido Magal&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Tagging&quot;}&lt;/data&gt;</pre>
</div>
<div title="DeliciousPlayTaggerPlugin" modifier="giffmex" modified="200709021218" created="200709021214" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Embed a del.icio.us \&quot;play tagger\&quot; next to mp3 URLs embedded in tiddler content&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Images and presentations&quot;}&lt;/data&gt;</pre>
</div>
<div title="DeliciousTagging" modifier="giffmex" created="200708302240" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Allows easy 'del.icio.us'-like tagging in the EditTemplate by showing all tags as a list of link-buttons.&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="Dice Roller" modifier="giffmex" modified="200709030233" created="200709030209" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Daniel Baird&quot;,&quot;link&quot;:&quot;http://danielbaird.com/tiddlywinks/&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Games&quot;,&quot;description&quot;:&quot;Roll the dice and see what turns up.&quot;}&lt;/data&gt;</pre>
</div>
<div title="DisableWikiLinksPlugin (Martin's)" modifier="giffmex" created="200709021234" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Allows you to disable TiddlyWiki's automatic linking of WikiWords.&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;}&lt;/data&gt;</pre>
</div>
<div title="DisableWikiLinksPlugin (TiddlyTools)" modifier="giffmex" created="200709021213" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin allows you to disable TiddlyWiki's automatic WikiWord linking behavior, so that WikiWords embedded in tiddler content will be rendered as regular text, instead of being automatically converted to tiddler links. To create a tiddler link when automatic linking is disabled, you must enclose the link text within {{{[[...]]}}}.&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;}&lt;/data&gt;</pre>
</div>
<div title="DiscerningTagsPlugin" modifier="giffmex" modified="200709032008" created="200709032007" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Daniel Baird&quot;,&quot;twversion&quot;:&quot;2.1x&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Make the tag chooser ignore tags that are themselves tagged with 'excludeLists'.&quot;,&quot;link&quot;:&quot;http://discerningtags.tiddlyspot.com/&quot;}&lt;/data&gt;</pre>
</div>
<div title="DisplayAllTiddlers" modifier="YourName" modified="200710060553" created="200709112140" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Onclick script that opens ALL tiddler in the document.  Can be slow if document is large.&quot;}&lt;/data&gt;</pre>
</div>
<div title="DisplayOpenTiddlersPlugin" modifier="giffmex" modified="200709032001" created="200709032000" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Displays similar to the popular BreadCrumbsPlugin by AlanHecht, this plugin instead keeps a list of currently open tiddlers.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Walt Woods&quot;,&quot;link&quot;:&quot;http://oregonstate.edu/~woodswa/tiddlywikiplugs.html&quot;}&lt;/data&gt;</pre>
</div>
<div title="DisplayTiddlerGlyphsPlugin" modifier="giffmex" created="200709032120" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Greg Walker&quot;,&quot;link&quot;:&quot;http://gwsyzygy.googlepages.com/creator.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;A macro for displaying glyphs according to the tags on a particular tiddler. Glyphs are defined in DisplayTiddlerGlyphData and don't have to be just a glyph (graphic character). They can be any wiki content, including images, text, buttons, popups, etc.&quot;}&lt;/data&gt;</pre>
</div>
<div title="DoBackupMacro" modifier="giffmex" created="200709030044" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Creates a button which allows you to backup your TiddlyWiki on demand.&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;}&lt;/data&gt;</pre>
</div>
<div title="DownloadService" modifier="giffmex" modified="200709120057" created="200709120056" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;A script to download a TiddlyWiki in one click.&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;author&quot;:&quot;BidiX&quot;,&quot;link&quot;:&quot;http://tiddlywiki.bidix.info/#%5B%5BExtension%20directory%5D%5D&quot;}&lt;/data&gt;</pre>
</div>
<div title="DropDownTagChooser" modifier="giffmex" modified="200709092106" created="200709092105" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="DropTaggingMacro" modifier="giffmex" modified="200708302048" created="200708302047" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Dropdown version of core tagging macro.&quot;,&quot;twversion&quot;:&quot;2.07&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="DropTagsMacro" modifier="giffmex" created="200708302050" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Dropdown version of core tags macro.&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;twversion&quot;:&quot;2.07&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="EasyFormat" modifier="giffmex" modified="200709011557" created="200709011555" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Yann Perrin&quot;,&quot;link&quot;:&quot;http://yann.perrin.googlepages.com/twkd.html&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;Create custom text formatting menus available in the edit mode of your tiddler.&quot;}&lt;/data&gt;</pre>
</div>
<div title="EasySlicer" modifier="giffmex" created="200709042200" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;The slice command allows you to create microcontent tiddlers from bigger ones. It turns selected text into a new independent tiddler, and replace it in the original tiddler with a reference to the newly created tiddler.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://yann.perrin.googlepages.com/twkd.html&quot;,&quot;author&quot;:&quot;Yann Perrin&quot;}&lt;/data&gt;</pre>
</div>
<div title="EasyTongue" modifier="giffmex" modified="200709042150" created="200709042148" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Using the E.A.S.E. plugin, easyTongue allows you to mark selection as being from the chosen language. (if you open his tiddler into edit mode you can see that you can switch from English to French and back. &quot;,&quot;category&quot;:&quot;Non-English languages&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Yann Perrin&quot;,&quot;link&quot;:&quot;http://yann.perrin.googlepages.com/twkd.html&quot;}&lt;/data&gt;</pre>
</div>
<div title="EchoMacro" modifier="giffmex" modified="200709032125" created="200709032124" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Macro debugging. Echo will echo back all params passed to it, including each parameter's #, type, value, and literal value (unwikified). Useful for debugging exactly what is getting passed to a macro.&quot;,&quot;category&quot;:&quot;Behind the scenes&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://gwsyzygy.googlepages.com/creator.html&quot;,&quot;author&quot;:&quot;Greg Walker&quot;}&lt;/data&gt;</pre>
</div>
<div title="Edge of Night" modifier="giffmex" modified="200709051306" created="200709051305" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Theme&quot;,&quot;description&quot;:&quot;Alternative stylesheet theme: dark blue sunset photo background.&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="EditFieldPlugin" modifier="giffmex" modified="200709021210" created="200709021209" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Extend core edit macro for use in ViewTemplates or direct embedding in tiddler content.&lt;br&gt;&lt;br&gt;Normally, when you edit a tiddler, any changes you make are only saved (or discarded) when you press the \&quot;done\&quot; (or \&quot;cancel\&quot;) command in the tiddler editor's toolbar. However, when in a 'view mode' context, these command items are not available, and so cannot be used to trigger the 'save/discard' handling once you have decided that your input activities are complete. Instead, you will be automatically prompted to save/discard your changes (if any) as soon as you move away from a text edit field or multi-line text area. Alternatively, pressing ENTER while in an edit field will save your input, while pressing ESCAPE will abandon your input (after prompting for confirmation).&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;category&quot;:&quot;Forms and databases&quot;}&lt;/data&gt;</pre>
</div>
<div title="EditListbox macro" modifier="giffmex" created="200708310012" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Listbox fields for ~TiddlyWiki.&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;author&quot;:&quot;? (VisualTW)&quot;,&quot;link&quot;:&quot;http://visualtw.ouvaton.org/VisualTW.html&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.2.x&quot;}&lt;/data&gt;</pre>
</div>
<div title="EditTemplate" modifier="MorrisGray" modified="200709130017" created="200708301333" tags="killbookmark msgray" author="Simon Baird" link="[[MonkeyPirateTW|http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D]]" category="Formatting compatibility with other programs">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar +saveTiddler -cancelTiddler deleteTiddler'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit title'&gt;&lt;/div&gt;
&lt;div class=&quot;editLabel&quot;&gt;&amp;ensp;&lt;/div&gt;
&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;&lt;span macro='tagChooser'&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="EditTiddlerPlugin" modifier="giffmex" modified="200709021208" created="200709021206" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Embed an 'edit' link in tiddler content to invoke edit on any specified tiddler title.&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;}&lt;/data&gt;</pre>
</div>
<div title="EmailLink" modifier="giffmex" modified="200709032137" created="200709032136" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Alan Hecht&quot;,&quot;link&quot;:&quot;http://www.personal.psu.edu/ach12/tiddlywiki/extensions.htm&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.0 compliant&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;description&quot;:&quot;Email lets you list a \&quot;email\&quot; address without displaying it as readable text. This helps prevent your email address from being harvested by search engines and other web crawlers that read your page's contents. Using email, you type in the words \&quot;at\&quot; and \&quot;dot\&quot; instead of the punctuation symbols and add spaces inbetween words to disguise your address. However, email will display your email address in a web browser so that humans can read it. And email turns the address into a hyperlink that can be clicked to send you an instant email.&quot;}&lt;/data&gt;</pre>
</div>
<div title="EmailMacro" modifier="giffmex" modified="200709042223" created="200709042222" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Unknown&quot;,&quot;link&quot;:&quot;http://fire.atspace.org/&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with files and programs&quot;,&quot;description&quot;:&quot;Sends an e-mail, I'm assuming.&quot;}&lt;/data&gt;</pre>
</div>
<div title="EnableEdit" modifier="tiddlyvault" modified="200712051345" created="200712051341" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Enables editing on an online TiddlyWiki without the need to reload. Also disables animations, and enables backstage functionalities.&quot;,&quot;category&quot;:&quot;Uploading TiddlyWikis to a server&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;}&lt;/data&gt;</pre>
</div>
<div title="Encrypted fields plugin" modifier="giffmex" modified="200708310014" created="200708310013" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Encrypted fields for TiddlyWiki&quot;,&quot;twversion&quot;:&quot;2.2.x&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://visualtw.ouvaton.org/VisualTW.html&quot;,&quot;author&quot;:&quot;? (VisualTW)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ExcludeTimelinePlugin" modifier="giffmex" modified="200709032041" created="200709032040" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Excludes any tiddlers from timeline that have been tagged with excludeTimeline.&quot;,&quot;author&quot;:&quot;Soloport&quot;,&quot;link&quot;:&quot;http://soloport.tiddlyspot.com/#ExcludeTimelinePlugin&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;}&lt;/data&gt;</pre>
</div>
<div title="ExpandEditPlugin" modifier="giffmex" modified="200709092155" created="200709092153" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jon Scully&quot;,&quot;link&quot;:&quot;http://soloport.tiddlyspot.com/#ExcludeTimelinePlugin&quot;,&quot;description&quot;:&quot;Provide an 'expand' button in edit mode that increases the textarea by 10 rows per click.&quot;,&quot;twversion&quot;:&quot;2.1.2&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="ExpandSlidersScript" modifier="giffmex" created="200709112214" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;description&quot;:&quot;Simulateously expand/collapse all nested sliders in a tiddler (or ID'd DOM element).&quot;}&lt;/data&gt;</pre>
</div>
<div title="ExportTiddlersPlugin" modifier="giffmex" modified="200709021205" created="200709021204" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Select and extract tiddlers from your TiddlyWiki documents and save them to a local file. When many people edit copies of the same TiddlyWiki document, the ability to easily copy and share these changes so they can then be redistributed to the entire group is very important. This ability is also very useful when moving your own tiddlers from document to document (e.g., when upgrading to the latest version ofTiddlyWiki, or 'pre-loading' your favorite stylesheets into a new 'empty' TiddlyWiki document.)&quot;,&quot;category&quot;:&quot;Working with multiple TiddlyWikis&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ExportTiddlersToDFwikiPlugin" modifier="giffmex" created="200709032017" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin lets you export tiddlers into dfwiki pages of a moodle 1.6.X with the nwiki module installed.&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;twversion&quot;:&quot;2.1.2&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Oriol Nieto , Alejandro Moreno, Dídac Calventus &amp; Ludo (Marc Alier)&quot;,&quot;link&quot;:&quot;http://moodle.tiddlyspot.com/&quot;}&lt;/data&gt;</pre>
</div>
<div title="ExtendTagButtonPlugin" modifier="giffmex" modified="200708302045" created="200708302041" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2.1&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Adds a New tiddler button in the tag drop down&quot;}&lt;/data&gt;</pre>
</div>
<div title="FAQViewer" modifier="giffmex" created="200709112215" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;description&quot;:&quot;Select and display FAQ tiddlers from a droplist, sorted by date.&quot;}&lt;/data&gt;</pre>
</div>
<div title="FaqList" modifier="giffmex" modified="200709032135" created="200709032134" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;description&quot;:&quot;FAQ List lets you compile a list of Frequently Asked Questions and present them in a cascading style for the viewer. Each question is turned into a link that will toggle the view of the answer text. The list can be compiled either from all tiddlers containing a certain tag or from a single tiddler that contains all the needed questions and answers. A pre- 'version 2.0' version is also available.&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.personal.psu.edu/ach12/tiddlywiki/extensions.htm&quot;,&quot;author&quot;:&quot;Alan Hecht&quot;}&lt;/data&gt;</pre>
</div>
<div title="Favicon" modifier="giffmex" modified="200709032142" created="200709032141" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Alan Hecht&quot;,&quot;link&quot;:&quot;http://www.personal.psu.edu/ach12/tiddlywiki/extensions.htm&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.0 compatible&quot;,&quot;category&quot;:&quot;Icons&quot;,&quot;description&quot;:&quot;Favicon allows you to stipulate the location of a webpage icon (also known as a favorite icon or favicon) for your TiddlyWiki. The location of the icon is absolute (meaning that you need to give the full URL path, including the \&quot;http:\&quot;). This allows you to use any favicon icon that exists on the Web -- even if it is on a totally different server.&quot;}&lt;/data&gt;</pre>
</div>
<div title="FieldEditorPlugin" modifier="giffmex" modified="200708310007" created="200708310006" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;? (VisualTW)&quot;,&quot;link&quot;:&quot;http://visualtw.ouvaton.org/VisualTW.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2.x&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;description&quot;:&quot;Edit, rename, delete, create fields commands.&quot;}&lt;/data&gt;</pre>
</div>
<div title="FileDropPlugin" modifier="giffmex" modified="200709011357" created="200709011356" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bradley Meck (~PeachTW)&quot;,&quot;link&quot;:&quot;http://bradleymeck.tiddlyspot.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with files and programs&quot;,&quot;description&quot;:&quot;Drag a file onto the TW to have it be made into a tiddler.&quot;}&lt;/data&gt;</pre>
</div>
<div title="FlickrGreetingMacro" modifier="giffmex" modified="200709092107" created="200709092106" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;It replicates the random greeting messages from Flickr in a TiddlyWiki macro.&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;}&lt;/data&gt;</pre>
</div>
<div title="FoldFirst" modifier="giffmex" modified="200709112257" created="200709112256" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Upon initial display, tiddler is shown \&quot;folded\&quot;.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="FontSizePlugin" modifier="giffmex" modified="200708302203" created="200708302202" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;Resize tiddler text on the fly.&quot;,&quot;twversion&quot;:&quot;2.x&quot;}&lt;/data&gt;</pre>
</div>
<div title="FootnotesPlugin" modifier="tiddlyvault" created="200712051338" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;Create automated tiddler footnotes.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ForEachTiddlerMacro" modifier="MorrisGray" modified="200709130238" created="200512081501" tags="Macro">
<pre>//~~(Part of the [[ForEachTiddlerPlugin]])~~//

Create customizable lists, tables etc. for your selections of tiddlers. Specify the tiddlers to include and their order through a powerful language.

''Syntax:'' 
|&gt;|{{{&lt;&lt;}}}''forEachTiddler'' [''in'' //tiddlyWikiPath//] [''where'' //whereCondition//] [''sortBy'' //sortExpression// [''ascending'' //or// ''descending'']] [''script'' //scriptText//] [//action// [//actionParameters//]]{{{&gt;&gt;}}}|
|//tiddlyWikiPath//|The filepath to the TiddlyWiki the macro should work on. When missing the current TiddlyWiki is used.|
|//whereCondition//|(quoted) JavaScript boolean expression. May refer to the build-in variables {{{tiddler}}} and {{{context}}}.|
|//sortExpression//|(quoted) JavaScript expression returning &quot;comparable&quot; objects (using '{{{&lt;}}}','{{{&gt;}}}','{{{==}}}'. May refer to the build-in variables {{{tiddler}}} and {{{context}}}.|
|//scriptText//|(quoted) JavaScript text. Typically defines JavaScript functions that are called by the various JavaScript expressions (whereClause, sortClause, action arguments,...)|
|//action//|The action that should be performed on every selected tiddler, in the given order. By default the actions [[addToList|AddToListAction]] and [[write|WriteAction]] are supported. When no action is specified [[addToList|AddToListAction]] is used.|
|//actionParameters//|(action specific) parameters the action may refer while processing the tiddlers (see action descriptions for details). &lt;&lt;tiddler [[JavaScript in actionParameters]]&gt;&gt;|
|&gt;|~~Syntax formatting: Keywords in ''bold'', optional parts in [...]. 'or' means that exactly one of the two alternatives must exist.~~|


''Using JavaScript''

To give you a lot of flexibility the [[ForEachTiddlerMacro]] uses JavaScript in its arguments. Even if you are not that familiar with JavaScript you may find forEachTiddler useful. Just have a look at the various ready-to-use [[ForEachTiddlerExamples]] and adapt them to your needs.

''The Elements of the Macro''

The arguments of the ForEachTiddlerMacro consist of multiple parts, each of them being optional.

&lt;&lt;slider chkFETInClause [[inClause]] &quot;inClause&quot; &quot;inClause&quot;&gt;&gt;
&lt;&lt;slider chkFETWhereClause [[whereClause]] &quot;whereClause&quot; &quot;whereClause&quot;&gt;&gt;
&lt;&lt;slider chkFETSortClause [[sortClause]] &quot;sortClause&quot; &quot;sortClause&quot;&gt;&gt;
&lt;&lt;slider chkFETScriptClause [[scriptClause]] &quot;scriptClause&quot; &quot;scriptClause&quot;&gt;&gt;
&lt;&lt;slider chkFETActions [[Action Specification]] &quot;Action Specification&quot; &quot;Action Specification&quot;&gt;&gt;

''Using Macros and &quot;&gt;&quot; inside the forEachTiddler Macro''

You may use other macro calls into the expression, especially in the actionParameters. To avoid that the {{{&gt;&gt;}}} of such a macro call is misinterpreted as the end of the {{{&lt;&lt;forEachTiddler...&gt;&gt;}}} macro you must escape the {{{&gt;&gt;}}} of the inner macro with {{{$))}}} E.g. if you want to use {{{&lt;&lt;tiddler ...&gt;&gt;}}} inside the {{{forEachTiddler}}} macro you have to write {{{&lt;&lt;tiddler ...$))}}}.

In addition it is necessary to escape single {{{&gt;}}} with the text {{{$)}}}.

''Using {{{&lt;&lt;tiddler ... with: ...&gt;&gt;}}} to re-use ForEachTiddler definitions''

Sometimes you may want to use a certain ForEachTiddler definition in slight variations. E.g. you may want to list either the tiddlers tagged with &quot;ToDo&quot; and in the other case with &quot;Done&quot;. To do so you may use &quot;Tiddler parameters&quot;. Here an example:

Replace the variable part of the ForEachTiddler definition with $1 ($2,... $9 are supported). E.g. you may create the tiddler &quot;ListTaggedTiddlers&quot; like this
{{{
&lt;&lt;forEachTiddler 
 where 
 'tiddler.tags.contains(&quot;$1&quot;)'
&gt;&gt;
}}}

Now you can use the ListTaggedTiddlers for various specific tags, using the {{{&lt;&lt;tiddler ...&gt;&gt;}}} macro:
{{{
&lt;&lt;tiddler ListTaggedTiddlers with: &quot;systemConfig&quot;&gt;&gt;
}}}
{{{
&lt;&lt;tiddler ListTaggedTiddlers with: &quot;Plugin&quot;&gt;&gt;
}}}


See also [[ForEachTiddlerExamples]].</pre>
</div>
<div title="ForEachTiddlerPlugin" modifier="MorrisGray" modified="200709130238" created="200512281150" tags="systemConfig">
<pre>/***
|''Name:''|ForEachTiddlerPlugin|
|''Version:''|1.0.8 (2007-04-12)|
|''Source:''|http://tiddlywiki.abego-software.de/#ForEachTiddlerPlugin|
|''Author:''|UdoBorkowski (ub [at] abego-software [dot] de)|
|''Licence:''|[[BSD open source license (abego Software)|http://www.abego-software.de/legal/apl-v10.html]]|
|''Copyright:''|&amp;copy; 2005-2007 [[abego Software|http://www.abego-software.de]]|
|''TiddlyWiki:''|1.2.38+, 2.0|
|''Browser:''|Firefox 1.0.4+; Firefox 1.5; InternetExplorer 6.0|
!Description

Create customizable lists, tables etc. for your selections of tiddlers. Specify the tiddlers to include and their order through a powerful language.

''Syntax:'' 
|&gt;|{{{&lt;&lt;}}}''forEachTiddler'' [''in'' //tiddlyWikiPath//] [''where'' //whereCondition//] [''sortBy'' //sortExpression// [''ascending'' //or// ''descending'']] [''script'' //scriptText//] [//action// [//actionParameters//]]{{{&gt;&gt;}}}|
|//tiddlyWikiPath//|The filepath to the TiddlyWiki the macro should work on. When missing the current TiddlyWiki is used.|
|//whereCondition//|(quoted) JavaScript boolean expression. May refer to the build-in variables {{{tiddler}}} and  {{{context}}}.|
|//sortExpression//|(quoted) JavaScript expression returning &quot;comparable&quot; objects (using '{{{&lt;}}}','{{{&gt;}}}','{{{==}}}'. May refer to the build-in variables {{{tiddler}}} and  {{{context}}}.|
|//scriptText//|(quoted) JavaScript text. Typically defines JavaScript functions that are called by the various JavaScript expressions (whereClause, sortClause, action arguments,...)|
|//action//|The action that should be performed on every selected tiddler, in the given order. By default the actions [[addToList|AddToListAction]] and [[write|WriteAction]] are supported. When no action is specified [[addToList|AddToListAction]]  is used.|
|//actionParameters//|(action specific) parameters the action may refer while processing the tiddlers (see action descriptions for details). &lt;&lt;tiddler [[JavaScript in actionParameters]]&gt;&gt;|
|&gt;|~~Syntax formatting: Keywords in ''bold'', optional parts in [...]. 'or' means that exactly one of the two alternatives must exist.~~|

See details see [[ForEachTiddlerMacro]] and [[ForEachTiddlerExamples]].

!Revision history
* v1.0.8 (2007-04-12)
** Adapted to latest TiddlyWiki 2.2 Beta importTiddlyWiki API (introduced with changeset 2004). TiddlyWiki 2.2 Beta builds prior to changeset 2004 are no longer supported (but TiddlyWiki 2.1 and earlier, of cause)
* v1.0.7 (2007-03-28)
** Also support &quot;pre&quot; formatted TiddlyWikis (introduced with TW 2.2) (when using &quot;in&quot; clause to work on external tiddlers)
* v1.0.6 (2006-09-16)
** Context provides &quot;viewerTiddler&quot;, i.e. the tiddler used to view the macro. Most times this is equal to the &quot;inTiddler&quot;, but when using the &quot;tiddler&quot; macro both may be different.
** Support &quot;begin&quot;, &quot;end&quot; and &quot;none&quot; expressions in &quot;write&quot; action
* v1.0.5 (2006-02-05)
** Pass tiddler containing the macro with wikify, context object also holds reference to tiddler containing the macro (&quot;inTiddler&quot;). Thanks to SimonBaird.
** Support Firefox 1.5.0.1
** Internal
*** Make &quot;JSLint&quot; conform
*** &quot;Only install once&quot;
* v1.0.4 (2006-01-06)
** Support TiddlyWiki 2.0
* v1.0.3 (2005-12-22)
** Features: 
*** Write output to a file supports multi-byte environments (Thanks to Bram Chen) 
*** Provide API to access the forEachTiddler functionality directly through JavaScript (see getTiddlers and performMacro)
** Enhancements:
*** Improved error messages on InternetExplorer.
* v1.0.2 (2005-12-10)
** Features: 
*** context object also holds reference to store (TiddlyWiki)
** Fixed Bugs: 
*** ForEachTiddler 1.0.1 has broken support on win32 Opera 8.51 (Thanks to BrunoSabin for reporting)
* v1.0.1 (2005-12-08)
** Features: 
*** Access tiddlers stored in separated TiddlyWikis through the &quot;in&quot; option. I.e. you are no longer limited to only work on the &quot;current TiddlyWiki&quot;.
*** Write output to an external file using the &quot;toFile&quot; option of the &quot;write&quot; action. With this option you may write your customized tiddler exports.
*** Use the &quot;script&quot; section to define &quot;helper&quot; JavaScript functions etc. to be used in the various JavaScript expressions (whereClause, sortClause, action arguments,...).
*** Access and store context information for the current forEachTiddler invocation (through the build-in &quot;context&quot; object) .
*** Improved script evaluation (for where/sort clause and write scripts).
* v1.0.0 (2005-11-20)
** initial version

!Code
***/
//{{{

	
//============================================================================
//============================================================================
//		   ForEachTiddlerPlugin
//============================================================================
//============================================================================

// Only install once
if (!version.extensions.ForEachTiddlerPlugin) {

if (!window.abego) window.abego = {};

version.extensions.ForEachTiddlerPlugin = {
	major: 1, minor: 0, revision: 8, 
	date: new Date(2007,3,12), 
	source: &quot;http://tiddlywiki.abego-software.de/#ForEachTiddlerPlugin&quot;,
	licence: &quot;[[BSD open source license (abego Software)|http://www.abego-software.de/legal/apl-v10.html]]&quot;,
	copyright: &quot;Copyright (c) abego Software GmbH, 2005-2007 (www.abego-software.de)&quot;
};

// For backward compatibility with TW 1.2.x
//
if (!TiddlyWiki.prototype.forEachTiddler) {
	TiddlyWiki.prototype.forEachTiddler = function(callback) {
		for(var t in this.tiddlers) {
			callback.call(this,t,this.tiddlers[t]);
		}
	};
}

//============================================================================
// forEachTiddler Macro
//============================================================================

version.extensions.forEachTiddler = {
	major: 1, minor: 0, revision: 8, date: new Date(2007,3,12), provider: &quot;http://tiddlywiki.abego-software.de&quot;};

// ---------------------------------------------------------------------------
// Configurations and constants 
// ---------------------------------------------------------------------------

config.macros.forEachTiddler = {
	 // Standard Properties
	 label: &quot;forEachTiddler&quot;,
	 prompt: &quot;Perform actions on a (sorted) selection of tiddlers&quot;,

	 // actions
	 actions: {
		 addToList: {},
		 write: {}
	 }
};

// ---------------------------------------------------------------------------
//  The forEachTiddler Macro Handler 
// ---------------------------------------------------------------------------

config.macros.forEachTiddler.getContainingTiddler = function(e) {
	while(e &amp;&amp; !hasClass(e,&quot;tiddler&quot;))
		e = e.parentNode;
	var title = e ? e.getAttribute(&quot;tiddler&quot;) : null; 
	return title ? store.getTiddler(title) : null;
};

config.macros.forEachTiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
	// config.macros.forEachTiddler.traceMacroCall(place,macroName,params,wikifier,paramString,tiddler);

	if (!tiddler) tiddler = config.macros.forEachTiddler.getContainingTiddler(place);
	// --- Parsing ------------------------------------------

	var i = 0; // index running over the params
	// Parse the &quot;in&quot; clause
	var tiddlyWikiPath = undefined;
	if ((i &lt; params.length) &amp;&amp; params[i] == &quot;in&quot;) {
		i++;
		if (i &gt;= params.length) {
			this.handleError(place, &quot;TiddlyWiki path expected behind 'in'.&quot;);
			return;
		}
		tiddlyWikiPath = this.paramEncode((i &lt; params.length) ? params[i] : &quot;&quot;);
		i++;
	}

	// Parse the where clause
	var whereClause =&quot;true&quot;;
	if ((i &lt; params.length) &amp;&amp; params[i] == &quot;where&quot;) {
		i++;
		whereClause = this.paramEncode((i &lt; params.length) ? params[i] : &quot;&quot;);
		i++;
	}

	// Parse the sort stuff
	var sortClause = null;
	var sortAscending = true; 
	if ((i &lt; params.length) &amp;&amp; params[i] == &quot;sortBy&quot;) {
		i++;
		if (i &gt;= params.length) {
			this.handleError(place, &quot;sortClause missing behind 'sortBy'.&quot;);
			return;
		}
		sortClause = this.paramEncode(params[i]);
		i++;

		if ((i &lt; params.length) &amp;&amp; (params[i] == &quot;ascending&quot; || params[i] == &quot;descending&quot;)) {
			 sortAscending = params[i] == &quot;ascending&quot;;
			 i++;
		}
	}

	// Parse the script
	var scriptText = null;
	if ((i &lt; params.length) &amp;&amp; params[i] == &quot;script&quot;) {
		i++;
		scriptText = this.paramEncode((i &lt; params.length) ? params[i] : &quot;&quot;);
		i++;
	}

	// Parse the action. 
	// When we are already at the end use the default action
	var actionName = &quot;addToList&quot;;
	if (i &lt; params.length) {
	   if (!config.macros.forEachTiddler.actions[params[i]]) {
			this.handleError(place, &quot;Unknown action '&quot;+params[i]+&quot;'.&quot;);
			return;
		} else {
			actionName = params[i]; 
			i++;
		}
	} 
	
	// Get the action parameter
	// (the parsing is done inside the individual action implementation.)
	var actionParameter = params.slice(i);


	// --- Processing ------------------------------------------
	try {
		this.performMacro({
				place: place, 
				inTiddler: tiddler,
				whereClause: whereClause, 
				sortClause: sortClause, 
				sortAscending: sortAscending, 
				actionName: actionName, 
				actionParameter: actionParameter, 
				scriptText: scriptText, 
				tiddlyWikiPath: tiddlyWikiPath});

	} catch (e) {
		this.handleError(place, e);
	}
};

// Returns an object with properties &quot;tiddlers&quot; and &quot;context&quot;.
// tiddlers holds the (sorted) tiddlers selected by the parameter,
// context the context of the execution of the macro.
//
// The action is not yet performed.
//
// @parameter see performMacro
//
config.macros.forEachTiddler.getTiddlersAndContext = function(parameter) {

	var context = config.macros.forEachTiddler.createContext(parameter.place, parameter.whereClause, parameter.sortClause, parameter.sortAscending, parameter.actionName, parameter.actionParameter, parameter.scriptText, parameter.tiddlyWikiPath, parameter.inTiddler);

	var tiddlyWiki = parameter.tiddlyWikiPath ? this.loadTiddlyWiki(parameter.tiddlyWikiPath) : store;
	context[&quot;tiddlyWiki&quot;] = tiddlyWiki;
	
	// Get the tiddlers, as defined by the whereClause
	var tiddlers = this.findTiddlers(parameter.whereClause, context, tiddlyWiki);
	context[&quot;tiddlers&quot;] = tiddlers;

	// Sort the tiddlers, when sorting is required.
	if (parameter.sortClause) {
		this.sortTiddlers(tiddlers, parameter.sortClause, parameter.sortAscending, context);
	}

	return {tiddlers: tiddlers, context: context};
};

// Returns the (sorted) tiddlers selected by the parameter.
//
// The action is not yet performed.
//
// @parameter see performMacro
//
config.macros.forEachTiddler.getTiddlers = function(parameter) {
	return this.getTiddlersAndContext(parameter).tiddlers;
};

// Performs the macros with the given parameter.
//
// @param parameter holds the parameter of the macro as separate properties.
//				  The following properties are supported:
//
//						place
//						whereClause
//						sortClause
//						sortAscending
//						actionName
//						actionParameter
//						scriptText
//						tiddlyWikiPath
//
//					All properties are optional. 
//					For most actions the place property must be defined.
//
config.macros.forEachTiddler.performMacro = function(parameter) {
	var tiddlersAndContext = this.getTiddlersAndContext(parameter);

	// Perform the action
	var actionName = parameter.actionName ? parameter.actionName : &quot;addToList&quot;;
	var action = config.macros.forEachTiddler.actions[actionName];
	if (!action) {
		this.handleError(parameter.place, &quot;Unknown action '&quot;+actionName+&quot;'.&quot;);
		return;
	}

	var actionHandler = action.handler;
	actionHandler(parameter.place, tiddlersAndContext.tiddlers, parameter.actionParameter, tiddlersAndContext.context);
};

// ---------------------------------------------------------------------------
//  The actions 
// ---------------------------------------------------------------------------

// Internal.
//
// --- The addToList Action -----------------------------------------------
//
config.macros.forEachTiddler.actions.addToList.handler = function(place, tiddlers, parameter, context) {
	// Parse the parameter
	var p = 0;

	// Check for extra parameters
	if (parameter.length &gt; p) {
		config.macros.forEachTiddler.createExtraParameterErrorElement(place, &quot;addToList&quot;, parameter, p);
		return;
	}

	// Perform the action.
	var list = document.createElement(&quot;ul&quot;);
	place.appendChild(list);
	for (var i = 0; i &lt; tiddlers.length; i++) {
		var tiddler = tiddlers[i];
		var listItem = document.createElement(&quot;li&quot;);
		list.appendChild(listItem);
		createTiddlyLink(listItem, tiddler.title, true);
	}
};

abego.parseNamedParameter = function(name, parameter, i) {
	var beginExpression = null;
	if ((i &lt; parameter.length) &amp;&amp; parameter[i] == name) {
		i++;
		if (i &gt;= parameter.length) {
			throw &quot;Missing text behind '%0'&quot;.format([name]);
		}
		
		return config.macros.forEachTiddler.paramEncode(parameter[i]);
	}
	return null;
}

// Internal.
//
// --- The write Action ---------------------------------------------------
//
config.macros.forEachTiddler.actions.write.handler = function(place, tiddlers, parameter, context) {
	// Parse the parameter
	var p = 0;
	if (p &gt;= parameter.length) {
		this.handleError(place, &quot;Missing expression behind 'write'.&quot;);
		return;
	}

	var textExpression = config.macros.forEachTiddler.paramEncode(parameter[p]);
	p++;

	// Parse the &quot;begin&quot; option
	var beginExpression = abego.parseNamedParameter(&quot;begin&quot;, parameter, p);
	if (beginExpression !== null) 
		p += 2;
	var endExpression = abego.parseNamedParameter(&quot;end&quot;, parameter, p);
	if (endExpression !== null) 
		p += 2;
	var noneExpression = abego.parseNamedParameter(&quot;none&quot;, parameter, p);
	if (noneExpression !== null) 
		p += 2;

	// Parse the &quot;toFile&quot; option
	var filename = null;
	var lineSeparator = undefined;
	if ((p &lt; parameter.length) &amp;&amp; parameter[p] == &quot;toFile&quot;) {
		p++;
		if (p &gt;= parameter.length) {
			this.handleError(place, &quot;Filename expected behind 'toFile' of 'write' action.&quot;);
			return;
		}
		
		filename = config.macros.forEachTiddler.getLocalPath(config.macros.forEachTiddler.paramEncode(parameter[p]));
		p++;
		if ((p &lt; parameter.length) &amp;&amp; parameter[p] == &quot;withLineSeparator&quot;) {
			p++;
			if (p &gt;= parameter.length) {
				this.handleError(place, &quot;Line separator text expected behind 'withLineSeparator' of 'write' action.&quot;);
				return;
			}
			lineSeparator = config.macros.forEachTiddler.paramEncode(parameter[p]);
			p++;
		}
	}
	
	// Check for extra parameters
	if (parameter.length &gt; p) {
		config.macros.forEachTiddler.createExtraParameterErrorElement(place, &quot;write&quot;, parameter, p);
		return;
	}

	// Perform the action.
	var func = config.macros.forEachTiddler.getEvalTiddlerFunction(textExpression, context);
	var count = tiddlers.length;
	var text = &quot;&quot;;
	if (count &gt; 0 &amp;&amp; beginExpression)
		text += config.macros.forEachTiddler.getEvalTiddlerFunction(beginExpression, context)(undefined, context, count, undefined);
	
	for (var i = 0; i &lt; count; i++) {
		var tiddler = tiddlers[i];
		text += func(tiddler, context, count, i);
	}
	
	if (count &gt; 0 &amp;&amp; endExpression)
		text += config.macros.forEachTiddler.getEvalTiddlerFunction(endExpression, context)(undefined, context, count, undefined);

	if (count == 0 &amp;&amp; noneExpression) 
		text += config.macros.forEachTiddler.getEvalTiddlerFunction(noneExpression, context)(undefined, context, count, undefined);
		

	if (filename) {
		if (lineSeparator !== undefined) {
			lineSeparator = lineSeparator.replace(/\\n/mg, &quot;\n&quot;).replace(/\\r/mg, &quot;\r&quot;);
			text = text.replace(/\n/mg,lineSeparator);
		}
		saveFile(filename, convertUnicodeToUTF8(text));
	} else {
		var wrapper = createTiddlyElement(place, &quot;span&quot;);
		wikify(text, wrapper, null/* highlightRegExp */, context.inTiddler);
	}
};


// ---------------------------------------------------------------------------
//  Helpers
// ---------------------------------------------------------------------------

// Internal.
//
config.macros.forEachTiddler.createContext = function(placeParam, whereClauseParam, sortClauseParam, sortAscendingParam, actionNameParam, actionParameterParam, scriptText, tiddlyWikiPathParam, inTiddlerParam) {
	return {
		place : placeParam, 
		whereClause : whereClauseParam, 
		sortClause : sortClauseParam, 
		sortAscending : sortAscendingParam, 
		script : scriptText,
		actionName : actionNameParam, 
		actionParameter : actionParameterParam,
		tiddlyWikiPath : tiddlyWikiPathParam,
		inTiddler : inTiddlerParam, // the tiddler containing the &lt;&lt;forEachTiddler ...&gt;&gt; macro call.
		viewerTiddler : config.macros.forEachTiddler.getContainingTiddler(placeParam) // the tiddler showing the forEachTiddler result
	};
};

// Internal.
//
// Returns a TiddlyWiki with the tiddlers loaded from the TiddlyWiki of 
// the given path.
//
config.macros.forEachTiddler.loadTiddlyWiki = function(path, idPrefix) {
	if (!idPrefix) {
		idPrefix = &quot;store&quot;;
	}
	var lenPrefix = idPrefix.length;
	
	// Read the content of the given file
	var content = loadFile(this.getLocalPath(path));
	if(content === null) {
		throw &quot;TiddlyWiki '&quot;+path+&quot;' not found.&quot;;
	}
	
	var tiddlyWiki = new TiddlyWiki();

	// Starting with TW 2.2 there is a helper function to import the tiddlers
	if (tiddlyWiki.importTiddlyWiki) {
		if (!tiddlyWiki.importTiddlyWiki(content))
			throw &quot;File '&quot;+path+&quot;' is not a TiddlyWiki.&quot;;
		tiddlyWiki.dirty = false;
		return tiddlyWiki;
	}
	
	// The legacy code, for TW &lt; 2.2
	
	// Locate the storeArea div's
	var posOpeningDiv = content.indexOf(startSaveArea);
	var posClosingDiv = content.lastIndexOf(endSaveArea);
	if((posOpeningDiv == -1) || (posClosingDiv == -1)) {
		throw &quot;File '&quot;+path+&quot;' is not a TiddlyWiki.&quot;;
	}
	var storageText = content.substr(posOpeningDiv + startSaveArea.length, posClosingDiv);
	
	// Create a &quot;div&quot; element that contains the storage text
	var myStorageDiv = document.createElement(&quot;div&quot;);
	myStorageDiv.innerHTML = storageText;
	myStorageDiv.normalize();
	
	// Create all tiddlers in a new TiddlyWiki
	// (following code is modified copy of TiddlyWiki.prototype.loadFromDiv)
	var store = myStorageDiv.childNodes;
	for(var t = 0; t &lt; store.length; t++) {
		var e = store[t];
		var title = null;
		if(e.getAttribute)
			title = e.getAttribute(&quot;tiddler&quot;);
		if(!title &amp;&amp; e.id &amp;&amp; e.id.substr(0,lenPrefix) == idPrefix)
			title = e.id.substr(lenPrefix);
		if(title &amp;&amp; title !== &quot;&quot;) {
			var tiddler = tiddlyWiki.createTiddler(title);
			tiddler.loadFromDiv(e,title);
		}
	}
	tiddlyWiki.dirty = false;

	return tiddlyWiki;
};


	
// Internal.
//
// Returns a function that has a function body returning the given javaScriptExpression.
// The function has the parameters:
// 
//	 (tiddler, context, count, index)
//
config.macros.forEachTiddler.getEvalTiddlerFunction = function (javaScriptExpression, context) {
	var script = context[&quot;script&quot;];
	var functionText = &quot;var theFunction = function(tiddler, context, count, index) { return &quot;+javaScriptExpression+&quot;}&quot;;
	var fullText = (script ? script+&quot;;&quot; : &quot;&quot;)+functionText+&quot;;theFunction;&quot;;
	return eval(fullText);
};

// Internal.
//
config.macros.forEachTiddler.findTiddlers = function(whereClause, context, tiddlyWiki) {
	var result = [];
	var func = config.macros.forEachTiddler.getEvalTiddlerFunction(whereClause, context);
	tiddlyWiki.forEachTiddler(function(title,tiddler) {
		if (func(tiddler, context, undefined, undefined)) {
			result.push(tiddler);
		}
	});
	return result;
};

// Internal.
//
config.macros.forEachTiddler.createExtraParameterErrorElement = function(place, actionName, parameter, firstUnusedIndex) {
	var message = &quot;Extra parameter behind '&quot;+actionName+&quot;':&quot;;
	for (var i = firstUnusedIndex; i &lt; parameter.length; i++) {
		message += &quot; &quot;+parameter[i];
	}
	this.handleError(place, message);
};

// Internal.
//
config.macros.forEachTiddler.sortAscending = function(tiddlerA, tiddlerB) {
	var result = 
		(tiddlerA.forEachTiddlerSortValue == tiddlerB.forEachTiddlerSortValue) 
			? 0
			: (tiddlerA.forEachTiddlerSortValue &lt; tiddlerB.forEachTiddlerSortValue)
			   ? -1 
			   : +1; 
	return result;
};

// Internal.
//
config.macros.forEachTiddler.sortDescending = function(tiddlerA, tiddlerB) {
	var result = 
		(tiddlerA.forEachTiddlerSortValue == tiddlerB.forEachTiddlerSortValue) 
			? 0
			: (tiddlerA.forEachTiddlerSortValue &lt; tiddlerB.forEachTiddlerSortValue)
			   ? +1 
			   : -1; 
	return result;
};

// Internal.
//
config.macros.forEachTiddler.sortTiddlers = function(tiddlers, sortClause, ascending, context) {
	// To avoid evaluating the sortClause whenever two items are compared 
	// we pre-calculate the sortValue for every item in the array and store it in a 
	// temporary property (&quot;forEachTiddlerSortValue&quot;) of the tiddlers.
	var func = config.macros.forEachTiddler.getEvalTiddlerFunction(sortClause, context);
	var count = tiddlers.length;
	var i;
	for (i = 0; i &lt; count; i++) {
		var tiddler = tiddlers[i];
		tiddler.forEachTiddlerSortValue = func(tiddler,context, undefined, undefined);
	}

	// Do the sorting
	tiddlers.sort(ascending ? this.sortAscending : this.sortDescending);

	// Delete the temporary property that holds the sortValue.	
	for (i = 0; i &lt; tiddlers.length; i++) {
		delete tiddlers[i].forEachTiddlerSortValue;
	}
};


// Internal.
//
config.macros.forEachTiddler.trace = function(message) {
	displayMessage(message);
};

// Internal.
//
config.macros.forEachTiddler.traceMacroCall = function(place,macroName,params) {
	var message =&quot;&lt;&lt;&quot;+macroName;
	for (var i = 0; i &lt; params.length; i++) {
		message += &quot; &quot;+params[i];
	}
	message += &quot;&gt;&gt;&quot;;
	displayMessage(message);
};


// Internal.
//
// Creates an element that holds an error message
// 
config.macros.forEachTiddler.createErrorElement = function(place, exception) {
	var message = (exception.description) ? exception.description : exception.toString();
	return createTiddlyElement(place,&quot;span&quot;,null,&quot;forEachTiddlerError&quot;,&quot;&lt;&lt;forEachTiddler ...&gt;&gt;: &quot;+message);
};

// Internal.
//
// @param place [may be null]
//
config.macros.forEachTiddler.handleError = function(place, exception) {
	if (place) {
		this.createErrorElement(place, exception);
	} else {
		throw exception;
	}
};

// Internal.
//
// Encodes the given string.
//
// Replaces 
//	 &quot;$))&quot; to &quot;&gt;&gt;&quot;
//	 &quot;$)&quot; to &quot;&gt;&quot;
//
config.macros.forEachTiddler.paramEncode = function(s) {
	var reGTGT = new RegExp(&quot;\\$\\)\\)&quot;,&quot;mg&quot;);
	var reGT = new RegExp(&quot;\\$\\)&quot;,&quot;mg&quot;);
	return s.replace(reGTGT, &quot;&gt;&gt;&quot;).replace(reGT, &quot;&gt;&quot;);
};

// Internal.
//
// Returns the given original path (that is a file path, starting with &quot;file:&quot;)
// as a path to a local file, in the systems native file format.
//
// Location information in the originalPath (i.e. the &quot;#&quot; and stuff following)
// is stripped.
// 
config.macros.forEachTiddler.getLocalPath = function(originalPath) {
	// Remove any location part of the URL
	var hashPos = originalPath.indexOf(&quot;#&quot;);
	if(hashPos != -1)
		originalPath = originalPath.substr(0,hashPos);
	// Convert to a native file format assuming
	// &quot;file:///x:/path/path/path...&quot; - pc local file --&gt; &quot;x:\path\path\path...&quot;
	// &quot;file://///server/share/path/path/path...&quot; - FireFox pc network file --&gt; &quot;\\server\share\path\path\path...&quot;
	// &quot;file:///path/path/path...&quot; - mac/unix local file --&gt; &quot;/path/path/path...&quot;
	// &quot;file://server/share/path/path/path...&quot; - pc network file --&gt; &quot;\\server\share\path\path\path...&quot;
	var localPath;
	if(originalPath.charAt(9) == &quot;:&quot;) // pc local file
		localPath = unescape(originalPath.substr(8)).replace(new RegExp(&quot;/&quot;,&quot;g&quot;),&quot;\\&quot;);
	else if(originalPath.indexOf(&quot;file://///&quot;) === 0) // FireFox pc network file
		localPath = &quot;\\\\&quot; + unescape(originalPath.substr(10)).replace(new RegExp(&quot;/&quot;,&quot;g&quot;),&quot;\\&quot;);
	else if(originalPath.indexOf(&quot;file:///&quot;) === 0) // mac/unix local file
		localPath = unescape(originalPath.substr(7));
	else if(originalPath.indexOf(&quot;file:/&quot;) === 0) // mac/unix local file
		localPath = unescape(originalPath.substr(5));
	else // pc network file
		localPath = &quot;\\\\&quot; + unescape(originalPath.substr(7)).replace(new RegExp(&quot;/&quot;,&quot;g&quot;),&quot;\\&quot;);	
	return localPath;
};

// ---------------------------------------------------------------------------
// Stylesheet Extensions (may be overridden by local StyleSheet)
// ---------------------------------------------------------------------------
//
setStylesheet(
	&quot;.forEachTiddlerError{color: #ffffff;background-color: #880000;}&quot;,
	&quot;forEachTiddler&quot;);

//============================================================================
// End of forEachTiddler Macro
//============================================================================


//============================================================================
// String.startsWith Function
//============================================================================
//
// Returns true if the string starts with the given prefix, false otherwise.
//
version.extensions[&quot;String.startsWith&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
String.prototype.startsWith = function(prefix) {
	var n =  prefix.length;
	return (this.length &gt;= n) &amp;&amp; (this.slice(0, n) == prefix);
};



//============================================================================
// String.endsWith Function
//============================================================================
//
// Returns true if the string ends with the given suffix, false otherwise.
//
version.extensions[&quot;String.endsWith&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
String.prototype.endsWith = function(suffix) {
	var n = suffix.length;
	return (this.length &gt;= n) &amp;&amp; (this.right(n) == suffix);
};


//============================================================================
// String.contains Function
//============================================================================
//
// Returns true when the string contains the given substring, false otherwise.
//
version.extensions[&quot;String.contains&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
String.prototype.contains = function(substring) {
	return this.indexOf(substring) &gt;= 0;
};

//============================================================================
// Array.indexOf Function
//============================================================================
//
// Returns the index of the first occurance of the given item in the array or 
// -1 when no such item exists.
//
// @param item [may be null]
//
version.extensions[&quot;Array.indexOf&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
Array.prototype.indexOf = function(item) {
	for (var i = 0; i &lt; this.length; i++) {
		if (this[i] == item) {
			return i;
		}
	}
	return -1;
};

//============================================================================
// Array.contains Function
//============================================================================
//
// Returns true when the array contains the given item, otherwise false. 
//
// @param item [may be null]
//
version.extensions[&quot;Array.contains&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
Array.prototype.contains = function(item) {
	return (this.indexOf(item) &gt;= 0);
};

//============================================================================
// Array.containsAny Function
//============================================================================
//
// Returns true when the array contains at least one of the elements 
// of the item. Otherwise (or when items contains no elements) false is returned.
//
version.extensions[&quot;Array.containsAny&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
Array.prototype.containsAny = function(items) {
	for(var i = 0; i &lt; items.length; i++) {
		if (this.contains(items[i])) {
			return true;
		}
	}
	return false;
};


//============================================================================
// Array.containsAll Function
//============================================================================
//
// Returns true when the array contains all the items, otherwise false.
// 
// When items is null false is returned (even if the array contains a null).
//
// @param items [may be null] 
//
version.extensions[&quot;Array.containsAll&quot;] = {major: 1, minor: 0, revision: 0, date: new Date(2005,11,20), provider: &quot;http://tiddlywiki.abego-software.de&quot;};
//
Array.prototype.containsAll = function(items) {
	for(var i = 0; i &lt; items.length; i++) {
		if (!this.contains(items[i])) {
			return false;
		}
	}
	return true;
};


} // of &quot;install only once&quot;

// Used Globals (for JSLint) ==============
// ... DOM
/*global 	document */
// ... TiddlyWiki Core
/*global 	convertUnicodeToUTF8, createTiddlyElement, createTiddlyLink, 
			displayMessage, endSaveArea, hasClass, loadFile, saveFile, 
			startSaveArea, store, wikify */
//}}}


/***
!Licence and Copyright
Copyright (c) abego Software ~GmbH, 2005 ([[www.abego-software.de|http://www.abego-software.de]])

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of abego Software nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
***/

</pre>
</div>
<div title="ForEachTiddlerPlugin " modifier="giffmex" created="200708302214" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Create customizable lists, tables etc. for your selections of tiddlers. Specify the tiddlers to include and their order through a powerful language.&quot;,&quot;twversion&quot;:&quot;1.2.38+, 2.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="FormTiddler Introduction" modifier="UdoBorkowski" created="200512170023" tags="FormTiddlerProject">
<pre>The [[FormTiddlerPlugin]] allows you to enter your data in a form and store the form's data in your tiddlers.

(For more information on tiddler data see the [[DataTiddlerPlugin]].)

//''Define ~FormTemplate''//

When you want to enter data in a form you first have to define a [[FormTemplate]] tiddler. A FormTemplate tiddler is a tiddler that contains named HTML INPUT elements (such as textfields, password fields, lists etc.) that define the stuff that should be edited in the form. E.g. you may have a FormTemplate that looks like this:

&lt;html&gt;
 &lt;b&gt;Name:&lt;/b&gt;&lt;br/&gt;
 &lt;input name=userName type=text /&gt;&lt;br/&gt;
 &lt;b&gt;Password:&lt;/b&gt;&lt;br/&gt;
 &lt;input name=pwd type=password /&gt;&lt;br/&gt;
&lt;/html&gt;

The correspond HTML text looks like this
{{{
&lt;html&gt;
 &lt;b&gt;Name:&lt;/b&gt;&lt;br/&gt;
 &lt;input name=userName type=text /&gt;&lt;br/&gt;
 &lt;b&gt;Password:&lt;/b&gt;&lt;br/&gt;
 &lt;input name=pwd type=password /&gt;&lt;br/&gt;
&lt;/html&gt;
}}}

The name of the INPUT element is also the name of the data field it is editing. E.g. a text field defined like this: 
{{{
&lt;input name=userName type=text /&gt;
}}}
will edit the data field &quot;userName&quot; of the tiddler.


You are free to layout the INPUT elements as you like, but don't add a &quot;form&quot; element around them and don't define 'onchange' handlers, since this will be done automatically by the {{{&lt;&lt;formTiddler ...&gt;&gt;}}} macro.


//''Use ~FormTemplates (through the {{{&lt;&lt;formTiddler ...&gt;&gt;}}} macro)''//

In a second step you add the {{{&lt;&lt;formTiddler ...&gt;&gt;}}} macro to tiddlers that should be edited. In the macro you are referencing the [[FormTemplate]] that should be used to edit the tiddler's data. You may refer to the same FormTemplate tiddler in as many tiddlers as you like. Every such tiddler displays the same INPUT elements as the FormTemplate, but with the &quot;data&quot; of each individual tiddler.

In addition you may more than one {{{&lt;&lt;formTiddler...&gt;&gt;}}} macro call in one tiddler. Just make sure that the names of the elements in the referenced FormTemplate tiddlers do not collide. This feature may be useful if you want to construct a larger input form from a set of smaller FormTemplates.

You can easily create tiddlers with an embedded {{{&lt;&lt;formTiddler...&gt;&gt;}}} macro call using the [[&lt;&lt;newTiddlerWithForm...&gt;&gt;|NewTiddlerWithFormMacro]] macro. The macro shows a button similar to the &quot;new tiddler&quot; button and creates the requested tiddler, ready to enter data. For details see NewTiddlerWithFormMacro.


//''&quot;Structured&quot; and &quot;Free&quot; Data''//

Typically you will edit a tiddler that uses the {{{&lt;&lt;formTiddler...&gt;&gt;}}} macro through the form. But you are free to also edit the tiddler &quot;as usual&quot;, through the build-in edit feature. I.e. you may mix &quot;structured data&quot; (as entered through the form) with &quot;free data&quot;. I.e. on a &quot;Contact&quot; tiddler you may add an image to the tiddler, or add extra links to related persons. Or you add more tags. Just make sure that you don't modify the {{{&lt;data&gt;...&lt;/data&gt;}}} section of the tiddler, since this contains the data maintained by the form.

Also notice that since the data entered in the forms is stored in the tiddler's text (in the {{{&lt;data&gt;...&lt;/data&gt;}}} section) using the &quot;search&quot; feature will also find the texts you entered in the forms (even though it will not hilite the texts in the fields).


//''Applications''//

Using the [[FormTiddlerPlugin]] it is easy to manage things like:
* [[Contacts]]
* [[Bugreports]]
* ~ToDo Lists
* and many more.

Since a FormTemplate is typically used for many tiddlers of the same kind you may also consider using the ForEachTiddlerMacro to collect data across multiple tiddlers (e.g. to get a list of all contacts, a summary page for the bug reports etc.)

(See also [[FormTiddler Examples]])


//''HTML Elements''//

For those not that familiar with the HTML INPUT elements here a short overview with HTML snippets. 
|!Type|!HTML Example|!Comment|
|button|{{{&lt;input name=btn type=button value=&quot;Just a button&quot; /&gt;}}}|no data|
|checkbox|{{{&lt;input name=isVIP type=checkbox /&gt;is VIP}}}||
|file|{{{&lt;input name=attachment type=file /&gt;}}}|The &quot;file&quot; input element typically does not restore the path of the previously selected file. Nevertheless the path of the file is stored in the tiddler.|
|hidden|{{{&lt;input name=hiddenValue type=hidden value=&quot;This is a hidden value&quot; /&gt;}}}||
|password|{{{&lt;input name=pwd type=password /&gt;}}}|The data entered in a &quot;password&quot; field is stored as clear text in the tiddler.|
|radio|{{{&lt;input name=level type=radio value=&quot;Beginner&quot; /&gt;Beginner&lt;input name=level type=radio value=&quot;Expert&quot; /&gt;Expert&lt;input name=level type=radio value=&quot;Guru&quot; /&gt;Guru}}}||
|reset|{{{&lt;input name=btnReset type=reset /&gt;}}}|no data|
|select-one|{{{&lt;select name=browser &gt;&lt;option&gt;Firefox&lt;option&gt;Internet Explorer&lt;option&gt;Opera&lt;option&gt;Other&lt;/select &gt;}}}||
|select-multiple|{{{&lt;select name=music MULTIPLE &gt;&lt;option&gt; R&amp;B &lt;option&gt; Jazz &lt;option&gt; Blues &lt;option&gt; New Age&lt;/select &gt;}}}||
|submit|{{{&lt;input name=btnSubmit type=submit /&gt;}}}|no data|
|text|{{{&lt;input name=userName type=text/&gt;}}}||
|textarea|{{{&lt;TEXTAREA name=notes rows=4 cols=80 &gt;&lt;/TEXTAREA&gt;}}}||

For details consult the Web or a textbook on HTML editing.</pre>
</div>
<div title="FormTiddlerMacro" modifier="UdoBorkowski" created="200512140258" tags="FormTiddlerProject">
<pre>The {{{&lt;&lt;formTiddler ...&gt;&gt;}}} macro defined by the FormTiddlerPlugin. 

When a tiddler T1 references the (FormTemplate) tiddler T2 in the FormTiddlerMacro, the data of T1 can be edited through the INPUT elements defined by T2.</pre>
</div>
<div title="FormTiddlerPlugin" modifier="MorrisGray" modified="200709130239" created="200601050046" tags="UdoBorkowski systemConfig">
<pre>/***
&lt;&lt;checkForDataTiddlerPlugin&gt;&gt;
|''Name:''|FormTiddlerPlugin|
|''Version:''|1.0.6 (2007-06-24)|
|''Source:''|http://tiddlywiki.abego-software.de/#FormTiddlerPlugin|
|''Author:''|UdoBorkowski (ub [at] abego-software [dot] de)|
|''Licence:''|[[BSD open source license]]|
|''Macros:''|formTiddler, checkForDataTiddlerPlugin, newTiddlerWithForm|
|''Requires:''|DataTiddlerPlugin|
|''TiddlyWiki:''|1.2.38+, 2.0|
|''Browser:''|Firefox 1.0.4+; InternetExplorer 6.0|
!Description
Use form-based tiddlers to enter your tiddler data using text fields, listboxes, checkboxes etc. (All standard HTML Form input elements supported).

''Syntax:'' 
|&gt;|{{{&lt;&lt;}}}''formTiddler'' //tiddlerName//{{{&gt;&gt;}}}|
|//tiddlerName//|The name of the FormTemplate tiddler to be used to edit the data of the tiddler containing the macro.|

|&gt;|{{{&lt;&lt;}}}''newTiddlerWithForm'' //formTemplateName// //buttonLabel// [//titleExpression// [''askUser'']] {{{&gt;&gt;}}}|
|//formTemplateName//|The name of the tiddler that defines the form the new tiddler should use.|
|//buttonLabel//|The label of the button|
|//titleExpression//|A (quoted) JavaScript String expression that defines the title (/name) of the new tiddler.|
|''askUser''|Typically the user is not asked for the title when a title is specified (and not yet used). When ''askUser'' is given the user will be asked in any case. This may be used when the calculated title is just a suggestion that must be confirmed by the user|
|&gt;|~~Syntax formatting: Keywords in ''bold'', optional parts in [...]. 'or' means that exactly one of the two alternatives must exist.~~|

For details and how to use the macros see the [[introduction|FormTiddler Introduction]] and the [[examples|FormTiddler Examples]].

!Revision history
* v1.0.6 (2007-06-24)
** Fixed problem when using SELECT component in Internet Explorer (thanks to MaikBoenig for reporting)
* v1.0.5 (2006-02-24)
** Removed &quot;debugger;&quot; instruction
* v1.0.4 (2006-02-07)
** Bug: On IE no data is written to data section when field values changed (thanks to KenGirard for reporting)
* v1.0.3 (2006-02-05)
** Bug: {{{&quot;No form template specified in &lt;&lt;formTiddler&gt;&gt;&quot;}}} when using formTiddler macro on InternetExplorer (thanks to KenGirard for reporting)
* v1.0.2 (2006-01-06)
** Support TiddlyWiki 2.0
* v1.0.1 (2005-12-22)
** Features: 
*** Support InternetExplorer
*** Added newTiddlerWithForm Macro
* v1.0.0 (2005-12-14)
** initial version

!Code
***/
//{{{

//============================================================================
//============================================================================
//						FormTiddlerPlugin
//============================================================================
//============================================================================

if (!window.abego) window.abego = {};

abego.getOptionsValue = function(element,i) {
	var v = element.options[i].value;
	if (!v &amp;&amp; element.options[i].text)
		v = element.options[i].text;
	return v;
};

version.extensions.FormTiddlerPlugin = {
	major: 1, minor: 0, revision: 5,
	date: new Date(2006, 2, 24), 
	type: 'plugin',
	source: &quot;http://tiddlywiki.abego-software.de/#FormTiddlerPlugin&quot;
};

// For backward compatibility with v1.2.x
//
if (!window.story) window.story=window; 
if (!TiddlyWiki.prototype.getTiddler) TiddlyWiki.prototype.getTiddler = function(title) { return t = this.tiddlers[title]; return (t != undefined &amp;&amp; t instanceof Tiddler) ? t : null; } 

//============================================================================
// formTiddler Macro
//============================================================================

// -------------------------------------------------------------------------------
// Configurations and constants 
// -------------------------------------------------------------------------------

config.macros.formTiddler = {
	// Standard Properties
	label: &quot;formTiddler&quot;,
	version: {major: 1, minor: 0, revision: 4, date: new Date(2006, 2, 7)},
	prompt: &quot;Edit tiddler data using forms&quot;,

	// Define the &quot;setters&quot; that set the values of INPUT elements of a given type
	// (must match the corresponding &quot;getter&quot;)
	setter: {  
		button:				function(e, value) {/*contains no data */ },
		checkbox:			function(e, value) {e.checked = value;},
		file:				function(e, value) {try {e.value = value;} catch(e) {/* ignore, possibly security error*/}},
		hidden:				function(e, value) {e.value = value;},
		password:			function(e, value) {e.value = value;},
		radio:				function(e, value) {e.checked = (e.value == value);},
		reset:				function(e, value) {/*contains no data */ },
		&quot;select-one&quot;:		function(e, value) {config.macros.formTiddler.setSelectOneValue(e,value);},
		&quot;select-multiple&quot;:	function(e, value) {config.macros.formTiddler.setSelectMultipleValue(e,value);},
		submit:				function(e, value) {/*contains no data */},
		text:				function(e, value) {e.value = value;},
		textarea:			function(e, value) {e.value = value;}
	},

	// Define the &quot;getters&quot; that return the value of INPUT elements of a given type
	// Return undefined to not store any data.
	getter: {  
		button:				function(e, value) {return undefined;},
		checkbox:			function(e, value) {return e.checked;},
		file:				function(e, value) {return e.value;},
		hidden:				function(e, value) {return e.value;},
		password:			function(e, value) {return e.value;},
		radio:				function(e, value) {return e.checked ? e.value : undefined;},
		reset:				function(e, value) {return undefined;},
		&quot;select-one&quot;:		function(e, value) {return config.macros.formTiddler.getSelectOneValue(e);},
		&quot;select-multiple&quot;:	function(e, value) {return config.macros.formTiddler.getSelectMultipleValue(e);},
		submit:				function(e, value) {return undefined;},
		text:				function(e, value) {return e.value;},
		textarea:			function(e, value) {return e.value;}
	}
};


// -------------------------------------------------------------------------------
// The formTiddler Macro Handler 
// -------------------------------------------------------------------------------

config.macros.formTiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler) {
	if (!config.macros.formTiddler.checkForExtensions(place, macroName)) {
		return;
	}
	// --- Parsing ------------------------------------------

	var i = 0; // index running over the params

	// get the name of the form template tiddler
	var formTemplateName = undefined;
	if (i &lt; params.length) {
		formTemplateName = params[i];
		i++;
	}

	if (!formTemplateName) {
		config.macros.formTiddler.createErrorElement(place, &quot;No form template specified in &lt;&lt;&quot; + macroName + &quot;&gt;&gt;.&quot;);
		return;
	}


	// --- Processing ------------------------------------------

	// Get the form template text. 
	// (This contains the INPUT elements for the form.)
	var formTemplateTiddler = store.getTiddler(formTemplateName);
	if (!formTemplateTiddler) {
		config.macros.formTiddler.createErrorElement(place, &quot;Form template '&quot; + formTemplateName + &quot;' not found.&quot;);
		return;
	}
	var templateText = formTemplateTiddler.text;
	if(!templateText) {
		// Shortcut: when template text is empty we do nothing.
		return;
	}

	// Get the name of the tiddler containing this &quot;formTiddler&quot; macro
	// (i.e. the tiddler, that will be edited and that contains the data)
	var tiddlerName = config.macros.formTiddler.getContainingTiddlerName(place);

	// Append a &quot;form&quot; element. 
	var formName = &quot;form&quot;+formTemplateName+&quot;__&quot;+tiddlerName;
	var e = document.createElement(&quot;form&quot;);
	e.setAttribute(&quot;name&quot;, formName);
	place.appendChild(e);

	// &quot;Embed&quot; the elements defined by the templateText (i.e. the INPUT elements) 
	// into the &quot;form&quot; element we just created
	wikify(templateText, e);

	// Initialize the INPUT elements.
	config.macros.formTiddler.initValuesAndHandlersInFormElements(formName, DataTiddler.getDataObject(tiddlerName));
}


// -------------------------------------------------------------------------------
// Form Data Access 
// -------------------------------------------------------------------------------

// Internal.
//
// Initialize the INPUT elements of the form with the values of their &quot;matching&quot;
// data fields in the tiddler. Also setup the onChange handler to ensure that
// changes in the INPUT elements are stored in the tiddler's data.
//
config.macros.formTiddler.initValuesAndHandlersInFormElements = function(formName, data) {
	// config.macros.formTiddler.trace(&quot;initValuesAndHandlersInFormElements(formName=&quot;+formName+&quot;, data=&quot;+data+&quot;)&quot;);

	// find the form
	var form = config.macros.formTiddler.findForm(formName);
	if (!form) {
		return;
	}

	try {
		var elems = form.elements;
		for (var i = 0; i &lt; elems.length; i++) {
			var c = elems[i];
		
			var setter = config.macros.formTiddler.setter[c.type];
			if (setter) {
				var value = data[c.name];
				if (value != null) {
					setter(c, value);
				}
				c.onchange = onFormTiddlerChange;
			} else {
				config.macros.formTiddler.displayFormTiddlerError(&quot;No setter defined for INPUT element of type '&quot;+c.type+&quot;'. (Element '&quot;+c.name+&quot;' in form '&quot;+formName+&quot;')&quot;);
			}
		}
	} catch(e) {
		config.macros.formTiddler.displayFormTiddlerError(&quot;Error when updating elements with new formData. &quot;+e);
	}
}


// Internal.
//
// @return [may be null]
//
config.macros.formTiddler.findForm = function(formName) {
	// We must manually iterate through the document's forms, since
	// IE does not support the &quot;document[formName]&quot; approach

	var forms = window.document.forms;
	for (var i = 0; i &lt; forms.length; i++) {
		var form = forms[i];
		if (form.name == formName) {
			return form;
		}
	}

	return null;
}


// Internal.
//
config.macros.formTiddler.setSelectOneValue = function(element,value) {
	var n = element.options.length;
	for (var i = 0; i &lt; n; i++) {
		element.options[i].selected = abego.getOptionsValue(element,i) == value;
	}
}

// Internal.
//
config.macros.formTiddler.setSelectMultipleValue = function(element,value) {
	var values = {};
	for (var i = 0; i &lt; value.length; i++) {
		values[value[i]] = true;
	}
	
	var n = element.length;
	for (var i = 0; i &lt; n; i++) {
		element.options[i].selected = !(!values[abego.getOptionsValue(element,i)]);
	}
}

// Internal.
//
config.macros.formTiddler.getSelectOneValue = function(element) {
	var i = element.selectedIndex;
	return (i &gt;= 0) ? abego.getOptionsValue(element,i) : null;
}

// Internal.
//
config.macros.formTiddler.getSelectMultipleValue = function(element) {
	var values = [];
	var n = element.length;
	for (var i = 0; i &lt; n; i++) {
		if (element.options[i].selected) {
			values.push(abego.getOptionsValue(element,i));
		}
	}
	return values;
}



// -------------------------------------------------------------------------------
// Helpers 
// -------------------------------------------------------------------------------

// Internal.
//
config.macros.formTiddler.checkForExtensions = function(place,macroName) {
	if (!version.extensions.DataTiddlerPlugin) {
		config.macros.formTiddler.createErrorElement(place, &quot;&lt;&lt;&quot; + macroName + &quot;&gt;&gt; requires the DataTiddlerPlugin. (You can get it from http://tiddlywiki.abego-software.de/#DataTiddlerPlugin)&quot;);
		return false;
	}
	return true;
}

// Internal.
//
// Displays a trace message in the &quot;TiddlyWiki&quot; message pane.
// (used for debugging)
//
config.macros.formTiddler.trace = function(s) {
	displayMessage(&quot;Trace: &quot;+s);
}

// Internal.
//
// Display some error message in the &quot;TiddlyWiki&quot; message pane.
//
config.macros.formTiddler.displayFormTiddlerError = function(s) {
	alert(&quot;FormTiddlerPlugin Error: &quot;+s);
}

// Internal.
//
// Creates an element that holds an error message
// 
config.macros.formTiddler.createErrorElement = function(place, message) {
	return createTiddlyElement(place,&quot;span&quot;,null,&quot;formTiddlerError&quot;,message);
}

// Internal.
//
// Returns the name of the tiddler containing the given element.
// 
config.macros.formTiddler.getContainingTiddlerName = function(element) {
	return story.findContainingTiddler(element).id.substr(7);
}

// -------------------------------------------------------------------------------
// Event Handlers 
// -------------------------------------------------------------------------------

// This function must be called by the INPUT elements whenever their
// data changes. Typically this is done through an &quot;onChange&quot; handler.
//
function onFormTiddlerChange (e) {
	// config.macros.formTiddler.trace(&quot;onFormTiddlerChange &quot;+e);

	if (!e) var e = window.event;

	var target = resolveTarget(e);
	var tiddlerName = config.macros.formTiddler.getContainingTiddlerName(target);
	var getter = config.macros.formTiddler.getter[target.type];
	if (getter) {
		var value = getter(target);
		DataTiddler.setData(tiddlerName, target.name, value);
	} else {
		config.macros.formTiddler.displayFormTiddlerError(&quot;No getter defined for INPUT element of type '&quot;+target.type+&quot;'. (Element '&quot;+target.name+&quot;' used in tiddler '&quot;+tiddlerName+&quot;')&quot;);
	}
}

// ensure that the function can be used in HTML event handler
window.onFormTiddlerChange = onFormTiddlerChange;


// -------------------------------------------------------------------------------
// Stylesheet Extensions (may be overridden by local StyleSheet)
// -------------------------------------------------------------------------------

setStylesheet(
	&quot;.formTiddlerError{color: #ffffff;background-color: #880000;}&quot;,
	&quot;formTiddler&quot;);


//============================================================================
// checkForDataTiddlerPlugin Macro
//============================================================================

config.macros.checkForDataTiddlerPlugin = {
	// Standard Properties
	label: &quot;checkForDataTiddlerPlugin&quot;,
	version: {major: 1, minor: 0, revision: 0, date: new Date(2005, 12, 14)},
	prompt: &quot;Check if the DataTiddlerPlugin exists&quot;
}

config.macros.checkForDataTiddlerPlugin.handler = function(place,macroName,params) {
	config.macros.formTiddler.checkForExtensions(place, config.macros.formTiddler.label);
}



//============================================================================
// newTiddlerWithForm Macro
//============================================================================

config.macros.newTiddlerWithForm = {
	// Standard Properties
	label: &quot;newTiddlerWithForm&quot;,
	version: {major: 1, minor: 0, revision: 1, date: new Date(2006, 1, 6)},
	prompt: &quot;Creates a new Tiddler with a &lt;&lt;formTiddler ...&gt;&gt; macro&quot;
}

config.macros.newTiddlerWithForm.handler = function(place,macroName,params) {
	// --- Parsing ------------------------------------------

	var i = 0; // index running over the params

	// get the name of the form template tiddler
	var formTemplateName = undefined;
	if (i &lt; params.length) {
		formTemplateName = params[i];
		i++;
	}

	if (!formTemplateName) {
		config.macros.formTiddler.createErrorElement(place, &quot;No form template specified in &lt;&lt;&quot; + macroName + &quot;&gt;&gt;.&quot;);
		return;
	}

	// get the button label
	var buttonLabel = undefined;
	if (i &lt; params.length) {
		buttonLabel = params[i];
		i++;
	}

	if (!buttonLabel) {
		config.macros.formTiddler.createErrorElement(place, &quot;No button label specified in &lt;&lt;&quot; + macroName + &quot;&gt;&gt;.&quot;);
		return;
	}

	// get the (optional) tiddlerName script and &quot;askUser&quot;
	var tiddlerNameScript = undefined;
	var askUser = false;
	if (i &lt; params.length) {
		tiddlerNameScript = params[i];
		i++;

		if (i &lt; params.length &amp;&amp; params[i] == &quot;askUser&quot;) {
			askUser = true;
			i++;
		}
	}

	// --- Processing ------------------------------------------

	if(!readOnly) {
		var onClick = function() {
			var tiddlerName;
			if (tiddlerNameScript) {
				try {
					tiddlerName = eval(tiddlerNameScript);
				} catch (ex) {
				}
			}
			if (!tiddlerName || askUser) {
				tiddlerName = prompt(&quot;Please specify a tiddler name.&quot;, askUser ? tiddlerName : &quot;&quot;);
			}
			while (tiddlerName &amp;&amp; store.getTiddler(tiddlerName)) {
				tiddlerName = prompt(&quot;A tiddler named '&quot;+tiddlerName+&quot;' already exists.\n\n&quot;+&quot;Please specify a tiddler name.&quot;, tiddlerName);
			}

			// tiddlerName is either null (user canceled) or a name that is not yet in the store.
			if (tiddlerName) {
				var body = &quot;&lt;&lt;formTiddler [[&quot;+formTemplateName+&quot;]]&gt;&gt;&quot;;
				var tags = [];
				store.saveTiddler(tiddlerName,tiddlerName,body,config.options.txtUserName,new Date(),tags);
				story.displayTiddler(null,tiddlerName,1);
			}
		}

		createTiddlyButton(place,buttonLabel,buttonLabel,onClick);
    }
}

//}}}


/***
!Licence and Copyright
Copyright (c) abego Software ~GmbH, 2005 ([[www.abego-software.de|http://www.abego-software.de]])

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of abego Software nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
***/
</pre>
</div>
<div title="FormTiddlerPlugin " modifier="giffmex" modified="200708302211" created="200708302206" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;description&quot;:&quot;Use form-based tiddlers to enter your tiddler data using text fields, listboxes, checkboxes etc. (All standard HTML Form input elements supported).&quot;,&quot;twversion&quot;:&quot;1.2.38+, 2.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="Formatting and viewing text" modifier="tiddlyvault" modified="200709161321" created="200708302143" tags="msgray" changecount="5">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Formatting and viewing text&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="Forms and databases" modifier="tiddlyvault" modified="200804131700" created="200708302143" changecount="1">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Forms and databases&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="FullScreenPlugin" modifier="giffmex" created="200709011720" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Toggle between viewing tiddlers fullscreen and normally. Very handy for when you need more viewing space.&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="Games" modifier="giffmex" modified="200709030233" created="200709030207">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Games&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="GenerateRssByTagPlugin" modifier="giffmex" modified="200709011737" created="200709011736" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;BidiX&quot;,&quot;link&quot;:&quot;http://tiddlywiki.bidix.info/#%5B%5BExtension%20directory%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;description&quot;:&quot;GenerateRssByTagPlugin overwrites the core generateRSS() function and defines a txtRssTag option to specify the tag to use (defaulted to \&quot;toRSS\&quot; ).&quot;}&lt;/data&gt;</pre>
</div>
<div title="GotoPlugin" modifier="giffmex" modified="200709021202" created="200709021201" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;View any tiddler by entering it's title - displays list of possible matches.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="GrayTestEverSearch" modifier="MorrisGray" modified="200709122353" created="200709122058" tags="systemDisableConfig msgray killbookmark excludeLists excludeSearch">
<pre>/***
''GrayTestEverSearch'' for TiddlyWiki 2.0
^^author: Morris S. Gray
source: http://tiddlyspot.com/twhelp/
license: [[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]^^
|&gt;|bgcolor:#eaeaea;@@color:#509;&lt;&lt;search&gt;&gt; ver: &lt;&lt;version&gt;&gt;@@|
|bgcolor(#509):@@color:#fff;&lt;&lt;option chkSearchTitles&gt;&gt; Titles &lt;&lt;option chkSearchText&gt;&gt; Text &lt;&lt;option chkSearchTags&gt;&gt;Tag&lt;&lt;option chkHoldSearches&gt;&gt; Hold@@|

''A Plugin Tweak for:'' SearchOptionPlugin
!!!!!Description
&lt;&lt;&lt;
This plugin defines an alternative format for the SearchResults tiddler that is generated by the SearchOptionsPlugin  Ver: ''2006.01.20 [2.1.7]'' or greater.
&lt;&lt;&lt;
!!!!!Installation
&lt;&lt;&lt;
Import (or copy/paste) the following tiddlers into your document:
''GrayTestEverSearch'' (tagged with &lt;&lt;tag systemConfig&gt;&gt;) 
&lt;&lt;&lt;
!!!!!Revision History
&lt;&lt;&lt;
''2006.02.03  [1.0.5]''
Added facility for holding the results of multiple searches with tick box on dashboard.
''2006.02.02  [1.0.4]''
Added several options, cleaned up design.Planning one version basic and one with added options this is the added options version.
''2006.01.27  [1.0.3''
Added a column for the size of the text in each tiddler, this does not include the size of the title or tags.  Added overall TW statistics button requires TiddlerStatsPlugin.
''2006.01.23 [1.0.2 ]''
''a)''Changed function reportSearchResults(text,matches) to  window.reportSearchResults=function(text,matches)
''b)''Added a line so that Incremental Search is automatically disabled config.options.chkSearchIncremental=false; turn off key-by-key searching
''c)''Removed space inside parens. bgcolor(#fe8 )&quot; to &quot;bgcolor(#fe8)&quot;.  This
is what was causing IE to 'crap out' halfway through drawing the table
headings.
''d)''Added {{{config.options.chkSearchList=true;}}}
''2006.01.20 [1.0.1]''
ELS: reportSearchResults() definition moved to this Plugin Tweak tiddler and removed extranous code
''2006.01.19 [1.0.0]''
This is an adaptation of Eric Shulman's SearchOptionsPlugin. Adapted by MorrisGray to provide search results in table form. All the necessary controls for refining the search is provided within the table including slide-down access to AdvancedOptions.
&lt;&lt;&lt;
!!!!!Code
***/
//{{{


//{{{
if (config.options.chkSinglePageMode==undefined) config.options.chkSinglePageMode=false;
if (config.options.chkRegExpSearch==undefined) config.options.chkRegExpSearch=true;
if (config.options.chkSearchTitles==undefined) config.options.chkSearchTitles=false;
if (config.options.chkSearchText==undefined) config.options.chkSearchText=true;
if (config.options.chkSearchTags==undefined) config.options.chkSearchTags=false;
if (config.options.chkSearchTitlesFirst==undefined) config.options.chkSearchTitlesFirst=true;
if (config.options.chkSearchList==undefined) config.options.chkSearchList=true;
if (config.options.chkSearchIncremental==undefined) config.options.chkSearchIncremental=false;
if (config.options.chkToggleLinks==true) config.options.chkToggleLinks=false;
if (config.options.chkHoldSearches==undefined) config.options.chkHoldSearches=false;
if (config.options.chkSortTags==undefined) config.options.chkSortTags=false;

config.options.chkToggleLinks=false;
config.options.chkSinglePageMode=false;
config.options.chkHoldSearches=false;
config.options.chkSearchIncremental=false;
config.options.chkHttpReadOnly = false;
config.options.chkRegExpSearch=true;
config.options.chkSearchList=true;
config.options.chkToggleLinks=true;

config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSortTags&gt;&gt; Sort byTags&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkHoldSearches&gt;&gt; Hold search results&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchTitles&gt;&gt; Search in tiddler titles&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchText&gt;&gt; Search in tiddler text&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchTags&gt;&gt; Search in tiddler tags&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchTitlesFirst&gt;&gt; Search results show title matches first&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchList&gt;&gt; Search results show list of matching tiddlers&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchIncremental&gt;&gt; Incremental searching&quot;;
//}}}


// Give the report a custom name
config.macros.search.reportTitle=&quot;TWHelp-SearchResults&quot;;

// Override default SearchOptionsPlugin formatting for SearchResults tiddler
window.reportSearchResults=function(text,matches)

{
        var title=config.macros.search.reportTitle
	config.macros.search.reportTitle;
	var q = config.options.chkRegExpSearch ? &quot;/&quot; : &quot;'&quot;;
        if (!config.options.chkHoldSearches)  body=&quot;&quot;;
body+=&quot;\n Search Adapter Compliments of http://twhelp.tiddlyspot.com\n&quot;;
body+=&quot;\n|&gt;|bgcolor(#eaeaea):@@color(#509):''&quot;+config.macros.search.successMsg.format([matches.length,q+text+q])+&quot;''@@|bgcolor(#509):  @@color(#fff): TW ver: &lt;&lt;version&gt;&gt;@@ &quot;+&quot;|&quot;+&quot;\n&quot;;
        body+=&quot;|&gt;|&gt;|bgcolor(#eaeaea):@@color(#509):&lt;&lt;search&gt;&gt; &lt;&lt;option chkSearchTitles&gt;&gt; Titles &lt;&lt;option chkSearchText&gt;&gt; Text &lt;&lt;option chkSearchTags&gt;&gt;Tags &lt;&lt;option chkHoldSearches&gt;&gt; Hold @@|&quot;+&quot;\n&quot;;
        body+=&quot;\n|bgcolor(#509):&amp;nbsp;|bgcolor(#509): @@color(#fff):''Titles''@@ |bgcolor(#509): @@color(#fff): ''Size''@@ |bgcolor(#509): @@color(#fff): ''Tags''@@ |h&quot;;
	for(var t=0;t&lt;matches.length;t++) 
        body+=&quot;\n&quot;+&quot;| &quot;+(t+1)+&quot;|[[&quot;+matches[t].title+&quot;]]| &quot;+matches[t].text.length+&quot;|&quot;+&quot;@@&quot;+matches[t].tags+&quot;@@&quot;+&quot;|&quot;;
        body+=&quot;\n&quot;;
       


	// create/update the tiddler
	var tiddler=store.getTiddler(title); if (!tiddler) tiddler=new Tiddler();
	tiddler.set(title,body,config.options.txtUserName,(new Date()),&quot;excludeLists excludeSearch killbookmark&quot;);
	store.addTiddler(tiddler); story.closeTiddler(title);


	// render tiddler
	var oldprompt=config.macros.search.label;
	config.macros.search.label=&quot;search again&quot;; // use alternate &quot;search again&quot; label
        story.displayTiddler(null,title,1); // force refresh
	config.macros.search.label=oldprompt;	// restore standard search label
}

//}}}

/*
config.macros.lastSearchText = &quot;&quot;;
config.lastSearchText = &quot;&quot;;
*/</pre>
</div>
<div title="GuitarTabPlugin" modifier="tiddlyvault" modified="200907281512" created="200907281508" tags="list music" changecount="2">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Paul Gallagher&quot;,&quot;link&quot;:&quot;http://jtab.tardate.com/jtabtwiki-help.htm&quot;,&quot;twversion&quot;:&quot;2.5r2&quot;,&quot;category&quot;:&quot;Music&quot;,&quot;description&quot;:&quot;jTabTwiki (GuitarTabPlugin) combines the guitar chord and tab notation power of jTab with TiddlyWiki. Together, they allow you to instantly setup a personal guitar tab and chord chart wiki/notebook.&lt;br&gt;&lt;br&gt;The simple jTab chord and tabulature notation is automatically rendered on your wiki pages as SVG-based chord charts and tab&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="HTML Slidy Maker" modifier="giffmex" modified="200709031857" created="200709031856" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Potto&quot;,&quot;link&quot;:&quot;http://www.potto.client.jp/htmlslidymaker/index.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;description&quot;:&quot;A slider.&quot;}&lt;/data&gt;</pre>
</div>
<div title="HTMLFormattingPlugin" modifier="giffmex" modified="200709011412" created="200708310239" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Embed wiki syntax formatting inside of HTML content.&quot;}&lt;/data&gt;</pre>
</div>
<div title="HTMLFormattingPluginMG" modifier="MorrisGray" modified="200709122324" created="200709122312" tags="excludeLists excludeSearch systemDisableConfig msgray">
<pre>/***
|Name|HTMLFormattingPlugin|
|Source|http://www.TiddlyTools.com/#HTMLFormattingPlugin|
|Version|2.1.4|
|Author|Eric Shulman - ELS Design Studios|
|License|http://www.TiddlyTools.com/#LegalStatements &lt;&lt;br&gt;&gt;and [[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|~CoreVersion|2.1|
|Type|plugin|
|Requires||
|Overrides||
|Description|Use wiki syntax formatting inside of HTML content|

The shorthand Wiki-style formatting syntax of ~TiddlyWiki is very convenient and enables most content to be reasonably well presented. However, there are times when tried-and-true HTML formatting syntax allows more more precise control of the content display.

When HTML formatting syntax is embedded within a tiddler (in between {{{&lt;}}}{{{html&gt;}}} and {{{&lt;}}}{{{/html&gt;}}} markers) TiddlyWiki passes this content to the browser for processing as 'native' HTML.  However, TiddlyWiki does not also process the HTML source content for any embedded wiki-formatting syntax it may contain.  This means that while you can use HTML formatted content, you cannot mix wiki-formatted content within the HTML formatting.
!!!!!Usage
&lt;&lt;&lt;
The ~HTMLFormatting plugin allows you to freely ''mix wiki-style formatting syntax within HTML formatted content'' by extending the action of the standard TiddlyWiki formatting handler.

When a tiddler is about to be displayed, ~TiddlyWiki looks for tiddler content contained within ''&lt;{{{html}}}&gt;'' and ''&lt;{{{/html}}}&gt;'' HTML tags.  This content (if any) is passed directly to the browser's internal &quot;rendering engine&quot; to process as ~HTML-formatted content.  Once the HTML formatting has been processed, all the pieces of text occuring in between the HTML formatting are then processed by the ~TiddlyWiki rendering engine, one piece at a time, so that normal wiki-style formatting can be applied to the individual text pieces.
&lt;&lt;&lt;
!!!!!Line breaks
&lt;part Linebreaks hidden&gt;
&lt;&lt;&lt;
One major difference between Wiki formatting and HTML formatting is how &quot;line breaks&quot; are processed. Wiki formatting treats all line breaks as literal content to be displayed //as-is//. However, because HTML normally ignores line breaks and actually processes them as simple &quot;word separators&quot; instead, many people who write HTML include extra line breaks in their documents, just to make the &quot;source code&quot; easier to read.

Even though you can use HTML tags within your tiddler content, the default treatment for line breaks still follows the Wiki-style rule (i.e., all new lines are displayed as-is). When adding HTML content to a tiddler (especially if you cut-and-paste it from another web page), you should take care to avoid adding extra line breaks to the text.

If removing all the extra line breaks from your HTML content would be a big hassle, you can quickly //override the default Wiki-style line break rule// so that the line breaks use the standard HTML rules instead.  Placing a ''&lt;{{{hide linebreaks}}}&gt;'' tag within the tiddler's HTML content changes all line breaks to spaces before rendering the content, so that the literal line breaks will be processed as simple word-breaks instead.

Note: this does //not// alter the actual tiddler content that is stored in the document, just the manner in which it is displayed. Any line breaks contained in the tiddler will still be there when you edit its content. Also, to include a literal line break when the ''&lt;{{{hide linebreaks}}}&gt;'' tag is present, you will need to use a ''&lt;{{{br}}}&gt;'' or ''&lt;{{{p}}}&gt;'' HTML tag instead of simply typing a line break.
&lt;&lt;&lt;
&lt;/part&gt;
!!!!!How it works
&lt;&lt;&lt;
The TW core support for HTML does not let you put ANY wiki-style syntax (including TW macros) *inside* the {{{&lt;html&gt;...&lt;/html&gt;}}} block.  Everything between {{{&lt;html&gt;}}} and {{{&lt;/html&gt;}}} is handed to the browser for processing and that is it.  Fortunately, this plugin ADDS the ability to let you put wiki-syntax (including macros) inside the html.  It does this by first giving the tiddler source content to the browser to process the HTML, and then handling any wiki-based syntax that remains afterward.

However, not all wiki syntax can be safely passed through the browser's parser. Specifically, any TW macros inside the HTML will get 'eaten' by the browser since the macro brackets, {{{&lt;&lt;...&gt;&gt;}}} use the &quot;&lt;&quot; and &quot;&gt;&quot; that normally delimit the HTML/XML syntax recognized by the browser's parser.

Similarly, you can't use InlineJavascript within the HTML because the {{{&lt;script&gt;...&lt;/script&gt;}}} syntax will also be consumed by the browser and there will be nothing left to process afterward.  Note: unfortunately, even though the browser removes the {{{&lt;script&gt;...&lt;/script&gt;}}} sequence, it doesn't actually execute the embedded javascript code that it removes, so any scripts contained inside of &lt;html&gt; blocks in TW are currently being ignored. :-(

As a work-around to allow TW *macros* (but not inline scripts) to exist inside of &lt;html&gt; formatted blocks of content, the plugin first converts the {{{&lt;&lt;}}} and {{{&gt;&gt;}}} into &quot;%%(&quot; and &quot;)%%&quot;, making them &quot;indigestible&quot; so they can pass unchanged through the belly of the beast (the browser's HTML parser).

After the browser has done its job, the wiki syntax sequences (including the &quot;undigested&quot; macros) are contained in #text nodes in the browser-generated DOM elements.  The plugin then recursively locates and processes each #text node, converts the %%( and )%% back into {{{&lt;&lt;}}} and {{{&gt;&gt;}}}, passes the result to wikify() for further rendering of the wiki-formatted syntax into a containing SPAN that replaces the previous #text node.  At the end of this process, none of the encoded %%( and )%% sequences remain in the rendered tiddler output.
&lt;&lt;&lt;
!!!!!Installation
&lt;&lt;&lt;
import (or copy/paste) the following tiddlers into your document:
''HTMLFormattingPlugin'' (tagged with &lt;&lt;tag systemConfig&gt;&gt;)
^^documentation and javascript for HTMLFormatting handling^^
&lt;&lt;&lt;
!!!!!Revision History
&lt;&lt;&lt;
''2006.09.10 [2.1.4]'' update formatter for 2.1 compatibility (use this.lookaheadRegExp instead of temp variable)
''2006.05.28 [2.1.3]'' in wikifyTextNodes(), decode the *value* of TEXTAREA nodes, but don't wikify() its children.  (thanks to &quot;ayj&quot; for bug report)
''2006.02.19 [2.1.2]'' in wikifyTextNodes(), put SPAN element into tiddler DOM (replacing text node), BEFORE wikifying the text content.  This ensures that the 'place' passed to any macros is correctly defined when the macro is evaluated, so that calls to story.findContainingTiddler(place) will work as expected. (Thanks for bug report from GeoffSlocock)
''2006.02.05 [2.1.1]'' wrapped wikifier hijack in init function to eliminate globals and avoid FireFox 1.5.0.1 crash bug when referencing globals
''2005.12.01 [2.1.0]'' don't wikify #TEXT nodes inside SELECT and TEXTAREA elements
''2005.11.06 [2.0.1]'' code cleanup
''2005.10.31 [2.0.0]'' replaced hijack wikify() with hijack config.formatters[&quot;html&quot;] and simplified recursive WikifyTextNodes() code
''2005.10.09 [1.0.2]'' combined documentation and code into a single tiddler
''2005.08.05 [1.0.1]'' moved HTML and CSS definitions into plugin code instead of using separate tiddlers
''2005.07.26 [1.0.1]'' Re-released as a plugin. Added &lt;{{{html}}}&gt;...&lt;/{{{nohtml}}}&gt; and &lt;{{{hide newlines}}}&gt; handling
''2005.07.20 [1.0.0]'' Initial Release (as code adaptation)
&lt;&lt;&lt;
!!!!!Credits
&lt;&lt;&lt;
This feature was developed by EricShulman from [[ELS Design Studios|http:/www.elsdesign.com]]
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.HTMLFormatting = {major: 2, minor: 1, revision: 4, date: new Date(2006,9,10)};

// find the formatter for HTML and replace the handler
initHTMLFormatter();
function initHTMLFormatter()
{
	for (var i=0; i&lt;config.formatters.length &amp;&amp; config.formatters[i].name!=&quot;html&quot;; i++);
	if (i&lt;config.formatters.length)	config.formatters[i].handler=function(w) {
		if (!this.lookaheadRegExp)  // fixup for TW2.0.x
			this.lookaheadRegExp = new RegExp(this.lookahead,&quot;mg&quot;);
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			var html=lookaheadMatch[1];
			// optionally suppress wiki-style literal handling of newlines
			// strip any carriage returns added by Internet Explorer's textarea edit field
			// encode newlines as \n so Internet Explorer's HTML parser won't eat them
			// encode macro brackets (&lt;&lt; and &gt;&gt;) so HTML parser won't eat them
			if (html.indexOf('&lt;hide linebreaks&gt;')!=-1) html=html.replace(regexpNewLine,' ');
			html=html.replace(regexpCarriageReturn,'');
			html=html.replace(regexpNewLine,'\\n');
			html=html.replace(/&lt;&lt;/g,'%%(').replace(/&gt;&gt;/g,')%%');
			// create span to hold HTML
			// parse HTML and normalize the results
			// walk node tree and call wikify() on each text node
			var e = createTiddlyElement(w.output,&quot;span&quot;);
			e.innerHTML=html;
			e.normalize(); 
			wikifyTextNodes(e);
			// advance to next parse position
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
}

// wikify text nodes remaining after HTML content is processed (pre-order recursion)
function wikifyTextNodes(theNode)
{
	// textarea node doesn't get wikified, just decoded... 
	if (theNode.nodeName.toLowerCase()=='textarea')
		theNode.value=theNode.value.replace(/\%%\(/g,'&lt;&lt;').replace(/\)\%%/g,'&gt;&gt;').replace(regexpBackSlashEn,'\n');
	else for (var i=0;i&lt;theNode.childNodes.length;i++) {
		var theChild=theNode.childNodes.item(i);
		if (theChild.nodeName.toLowerCase()=='option') continue;
		if (theChild.nodeName.toLowerCase()=='select') continue;
		wikifyTextNodes(theChild);
		if (theChild.nodeName=='#text') {
			var txt=theChild.nodeValue;
			// decode macro brackets and newlines
			txt=txt.replace(/\%%\(/g,'&lt;&lt;').replace(/\)\%%/g,'&gt;&gt;').replace(regexpBackSlashEn,'\n');
			// replace text node with wikified() span
			var newNode=createTiddlyElement(null,&quot;span&quot;);
			theNode.replaceChild(newNode,theChild);
			wikify(txt,newNode);
		}
	}
}
//}}}</pre>
</div>
<div title="HaloscanMacro" modifier="giffmex" modified="200709092259" created="200709092257" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;description&quot;:&quot;The HaloscanMacro enables readers to post comments and trackbacks to your TiddlyWiki entries. It works by using the Haloscan service, which is currently free (for a basic account). Currently, you must have a Haloscan account to use this macro, but it should be easy to adapt to other systems.&quot;,&quot;author&quot;:&quot;Speth&quot;,&quot;link&quot;:&quot;http://end.com/~speth/HaloscanMacro.html&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.x&quot;}&lt;/data&gt;</pre>
</div>
<div title="HelloWorldMacro" modifier="giffmex" modified="200709092109" created="200709092108" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;It's a Hello World TiddlyWiki macro. [Dave: Whatever that means!]&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;}&lt;/data&gt;</pre>
</div>
<div title="HideTiddlerBackground" modifier="giffmex" modified="200709112138" created="200709112136" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Other style changes&quot;,&quot;description&quot;:&quot;Hide a tiddler's background and border (if any).&quot;}&lt;/data&gt;</pre>
</div>
<div title="HideTiddlerSubtitle" modifier="giffmex" modified="200709051323" created="200709051322" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Hide a tiddler's subtitle (dates/created by) display.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="HideTiddlerTags" modifier="giffmex" modified="200709112124" created="200709112123" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Hide a tiddler's tagged/tagging display elements.&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="HideTiddlerTitle" modifier="giffmex" modified="200709051324" created="200709051323" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Hide a tiddler's title display elements (name, dates, and author)&quot;}&lt;/data&gt;</pre>
</div>
<div title="HideTiddlerToolbar" modifier="giffmex" created="200709051325" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Hide a tiddler's toolbar display.&quot;}&lt;/data&gt;</pre>
</div>
<div title="HideWhenPlugin" modifier="giffmex" modified="200709030006" created="200709030003" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Allows conditional inclusion/exclusion in templates. In other words, you can hide or reveal certain content of your tiddler under certain conditions. For example, when the tiddler is tagged Bart Simpson, it will show an image of Bart Simpson. Or in edit mode only it will show an address form with fields. Or if tagged task, will show a task toolbar, etc.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Hidelfshowlf plugin" modifier="giffmex" modified="200709032051" created="200709032050" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Riccardo Gherardi&quot;,&quot;link&quot;:&quot;http://rgplugins.tiddlyspot.com/#%5B%5BhideIfshowIf%20plugin%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;Allows conditional inclusion/exclusion. Portions from:\tHideWhenPlugin (Simon Baird), Silently macro (Gimcrack'd) and WebView (AlanHecht).&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;}&lt;/data&gt;</pre>
</div>
<div title="HoverMenuPlugin" modifier="giffmex" modified="200709011724" created="200709011723" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Creates a hovering menu that scrolls with the page and is always accessible.&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="Hypergraph plugin" modifier="giffmex" modified="200709011709" created="200709011702" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Dawn Ahukanna&quot;,&quot;link&quot;:&quot;http://dahukanna.net/wiki/tiddlywiki.htm&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.3&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Use it to navigate the document and open tiddlers based on selecting graph nodes. See example [[here|http://project.dahukanna.net/tiddlywiki/twextensions-206.htm]].&quot;}&lt;/data&gt;</pre>
</div>
<div title="IconMacro" modifier="giffmex" modified="200709011616" created="200709011615" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;category&quot;:&quot;Icons&quot;,&quot;description&quot;:&quot;Replace macro buttons with icons.&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="Icons, smileys" modifier="MorrisGray" modified="200709122345" created="200709011614">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Icons&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ImageLink" modifier="giffmex" created="200709032133" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;author&quot;:&quot;Alan Hecht&quot;,&quot;link&quot;:&quot;http://www.personal.psu.edu/ach12/tiddlywiki/extensions.htm&quot;,&quot;twversion&quot;:&quot;2.0 compliant&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;description&quot;:&quot;Inserts an external image file as a hyperlink to a URL, a tiddler, or a javascript function.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ImagePathPlugin" modifier="giffmex" modified="200709021200" created="200709021159" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;description&quot;:&quot;Tell TiddlyWiki where to look for image files. Permits multiple 'fallback' locations.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Images, media and presentations" modifier="giffmex" modified="200709021217" created="200708311207">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Images and presentations&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ImportDFwikisPlugin" modifier="giffmex" modified="200709032014" created="200709032010" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;description&quot;:&quot;Import pages from your Moodle NWiki to TiddlyWiki Tiddlers.&quot;,&quot;twversion&quot;:&quot;2.1.2&quot;,&quot;author&quot;:&quot;Oriol Nieto , Alejandro Moreno, Dídac Calventus &amp; Ludo (Marc Alier)&quot;,&quot;link&quot;:&quot;http://moodle.tiddlyspot.com/&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="ImportTiddlersPlugin" modifier="giffmex" modified="200708310301" created="200708310300" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Working with multiple TiddlyWikis&quot;,&quot;description&quot;:&quot;This plugin lets you selectively combine tiddlers from any two ~TiddlyWiki documents. An interactive control panel lets you pick a document to import from, and then select which tiddlers to import, with prompting for skip, rename, merge or replace actions when importing tiddlers that match existing titles. Automatically add tags to imported tiddlers so they are easy to find later on. Generates a detailed report of import 'history' in ~ImportedTiddlers.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ImprovedSlicesPlugin" modifier="tiddlyvault" modified="200804131650" created="200804130104" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Lyall Pearce&quot;,&quot;link&quot;:&quot;http://remotely-helpful.com/TiddlyWiki/ImprovedSlicesPlugin.html#ImprovedSlicesPlugin&quot;,&quot;twversion&quot;:&quot;2.2&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Corrects defects in the searching of Slices. Additionally, adds the capability to return a selected range of cells from a slice contained within a Table.&lt;br&gt;&lt;br&gt;If you don't use Slices, you probably do not need this Plugin. If you do, I think you will find this plugin well worth the effort to install.&quot;}&lt;/data&gt;</pre>
</div>
<div title="IncludePlugin" modifier="giffmex" modified="200708302217" created="200708302216" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Working with multiple TiddlyWikis&quot;,&quot;description&quot;:&quot;„Include“ other TiddlyWikis in your „main“ TiddlyWiki, link to included tiddlers, view them in your „main“ TiddlyWiki (without opening another TiddlyWiki). Even „search“ looks for included tiddlers. A great way to share tiddlers, to speed up \&quot;save changes\&quot; and to keep your TiddlyWikis small.&quot;,&quot;twversion&quot;:&quot;2.1.3&quot;}&lt;/data&gt;</pre>
</div>
<div title="InlineJavascriptPlugin " modifier="giffmex" modified="200709011621" created="200708310242" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Insert Javascript executable code directly into your tiddler content. Call directly into TW core utility routines, define new functions, calculate values, add dynamically-generated TiddlyWiki-formatted output into tiddler content, or perform any other programmatic actions each time the tiddler is rendered.&quot;}&lt;/data&gt;</pre>
</div>
<div title="InlineJavascriptPluginMG" modifier="MorrisGray" modified="200709122040" created="200709122037" tags="systemConfig msgray excludeLists excludeSearch">
<pre>/***
|Name|InlineJavascriptPlugin|
|Source|http://www.TiddlyTools.com/#InlineJavascriptPlugin|
|Version|1.6.0|
|Author|Eric Shulman - ELS Design Studios|
|License|http://www.TiddlyTools.com/#LegalStatements &lt;&lt;br&gt;&gt;and [[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|~CoreVersion|2.1|
|Type|plugin|
|Requires||
|Overrides||
|Description|Insert Javascript executable code directly into your tiddler content.|

''Call directly into TW core utility routines, define new functions, calculate values, add dynamically-generated TiddlyWiki-formatted output'' into tiddler content, or perform any other programmatic actions each time the tiddler is rendered.
!!!!!Usage
&lt;&lt;&lt;
When installed, this plugin adds new wiki syntax for surrounding tiddler content with {{{&lt;script&gt;}}} and {{{&lt;/script&gt;}}} markers, so that it can be treated as embedded javascript and executed each time the tiddler is rendered.

''Deferred execution from an 'onClick' link''
By including a {{{label=&quot;...&quot;}}} parameter in the initial {{{&lt;script&gt;}}} marker, the plugin will create a link to an 'onclick' script that will only be executed when that specific link is clicked, rather than running the script each time the tiddler is rendered.  You may also include a {{{title=&quot;...&quot;}}} parameter to specify the 'tooltip' text that will appear whenever the mouse is moved over the onClick link text

''External script source files:''
You can also load javascript from an external source URL, by including a src=&quot;...&quot; parameter in the initial {{{&lt;script&gt;}}} marker (e.g., {{{&lt;script src=&quot;demo.js&quot;&gt;&lt;/script&gt;}}}).  This is particularly useful when incorporating third-party javascript libraries for use in custom extensions and plugins.  The 'foreign' javascript code remains isolated in a separate file that can be easily replaced whenever an updated library file becomes available.

''Display script source in tiddler output''
By including the keyword parameter &quot;show&quot;, in the initial {{{&lt;script&gt;}}} marker, the plugin will include the script source code in the output that it displays in the tiddler.

''Defining javascript functions and libraries:''
Although the external javascript file is loaded while the tiddler content is being rendered, any functions it defines will not be available for use until //after// the rendering has been completed.  Thus, you cannot load a library and //immediately// use it's functions within the same tiddler.  However, once that tiddler has been loaded, the library functions can be freely used in any tiddler (even the one in which it was initially loaded).

To ensure that your javascript functions are always available when needed, you should load the libraries from a tiddler that will be rendered as soon as your TiddlyWiki document is opened.  For example, you could put your {{{&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;}}} syntax into a tiddler called LoadScripts, and then add {{{&lt;&lt;tiddler LoadScripts&gt;&gt;}}} in your MainMenu tiddler.

Since the MainMenu is always rendered immediately upon opening your document, the library will always be loaded before any other tiddlers that rely upon the functions it defines.  Loading an external javascript library does not produce any direct output in the tiddler, so these definitions should have no impact on the appearance of your MainMenu.

''Creating dynamic tiddler content''
An important difference between this implementation of embedded scripting and conventional embedded javascript techniques for web pages is the method used to produce output that is dynamically inserted into the document:
* In a typical web document, you use the document.write() function to output text sequences (often containing HTML tags) that are then rendered when the entire document is first loaded into the browser window.
* However, in a ~TiddlyWiki document, tiddlers (and other DOM elements) are created, deleted, and rendered &quot;on-the-fly&quot;, so writing directly to the global 'document' object does not produce the results you want (i.e., replacing the embedded script within the tiddler content), and completely replaces the entire ~TiddlyWiki document in your browser window.
* To allow these scripts to work unmodified, the plugin automatically converts all occurences of document.write() so that the output is inserted into the tiddler content instead of replacing the entire ~TiddlyWiki document.

If your script does not use document.write() to create dynamically embedded content within a tiddler, your javascript can, as an alternative, explicitly return a text value that the plugin can then pass through the wikify() rendering engine to insert into the tiddler display.  For example, using {{{return &quot;thistext&quot;}}} will produce the same output as {{{document.write(&quot;thistext&quot;)}}}.

//Note: your script code is automatically 'wrapped' inside a function, {{{_out()}}}, so that any return value you provide can be correctly handled by the plugin and inserted into the tiddler.  To avoid unpredictable results (and possibly fatal execution errors), this function should never be redefined or called from ''within'' your script code.//

''Accessing the ~TiddlyWiki DOM''
The plugin provides one pre-defined variable, 'place', that is passed in to your javascript code so that it can have direct access to the containing DOM element into which the tiddler output is currently being rendered.

Access to this DOM element allows you to create scripts that can:
* vary their actions based upon the specific location in which they are embedded
* access 'tiddler-relative' information (use findContainingTiddler(place))
* perform direct DOM manipulations (when returning wikified text is not enough)
&lt;&lt;&lt;
!!!!!Examples
&lt;&lt;&lt;
an &quot;alert&quot; message box:
&gt;&lt;script show&gt;
	alert('InlineJavascriptPlugin: this is a demonstration message');
&lt;/script&gt;
dynamic output:
&gt;&lt;script show&gt;
	return (new Date()).toString();
&lt;/script&gt;
wikified dynamic output:
&gt;&lt;script show&gt;
	return &quot;link to current user: [[&quot;+config.options.txtUserName+&quot;]]&quot;;
&lt;/script&gt;
dynamic output using 'place' to get size information for current tiddler:
&gt;&lt;script show&gt;
   if (!window.story) window.story=window;
   var title=story.findContainingTiddler(place).id.substr(7);
   return title+&quot; is using &quot;+store.getTiddlerText(title).length+&quot; bytes&quot;;
&lt;/script&gt;
creating an 'onclick' button/link that runs a script:
&gt;&lt;script label=&quot;click here&quot; title=&quot;clicking this link will show an 'alert' box&quot; show&gt;
   if (!window.story) window.story=window;
   alert(&quot;Hello World!\nlinktext='&quot;+place.firstChild.data+&quot;'\ntiddler='&quot;+story.findContainingTiddler(place).id.substr(7)+&quot;'&quot;);
&lt;/script&gt;
loading a script from a source url:
&gt;http://www.TiddlyTools.com/demo.js contains:
&gt;&gt;{{{function demo() { alert('this output is from demo(), defined in demo.js') } }}}
&gt;&gt;{{{alert('InlineJavascriptPlugin: demo.js has been loaded'); }}}
&gt;&lt;script src=&quot;demo.js&quot; show&gt;
	return &quot;loading demo.js...&quot;
&lt;/script&gt;
&gt;&lt;script label=&quot;click to execute demo() function&quot; show&gt;
	demo()
&lt;/script&gt;
&lt;&lt;&lt;
!!!!!Installation
&lt;&lt;&lt;
import (or copy/paste) the following tiddlers into your document:
''InlineJavascriptPlugin'' (tagged with &lt;&lt;tag systemConfig&gt;&gt;)
&lt;&lt;&lt;
!!!!!Revision History
&lt;&lt;&lt;
''2007.02.19 [1.6.0]'' added support for title=&quot;...&quot; to specify mouseover tooltip when using an onclick (label=&quot;...&quot;) script
''2006.10.16 [1.5.2]'' add newline before closing '}' in 'function out_' wrapper.  Fixes error caused when last line of script is a comment.
''2006.06.01 [1.5.1]'' when calling wikify() on script return value, pass hightlightRegExp and tiddler params so macros that rely on these values can render properly
''2006.04.19 [1.5.0]'' added 'show' parameter to force display of javascript source code in tiddler output
''2006.01.05 [1.4.0]'' added support 'onclick' scripts.  When label=&quot;...&quot; param is present, a button/link is created using the indicated label text, and the script is only executed when the button/link is clicked.  'place' value is set to match the clicked button/link element.
''2005.12.13 [1.3.1]'' when catching eval error in IE, e.description contains the error text, instead of e.toString().  Fixed error reporting so IE shows the correct response text.  Based on a suggestion by UdoBorkowski
''2005.11.09 [1.3.0]'' for 'inline' scripts (i.e., not scripts loaded with src=&quot;...&quot;), automatically replace calls to 'document.write()' with 'place.innerHTML+=' so script output is directed into tiddler content.  Based on a suggestion by BradleyMeck
''2005.11.08 [1.2.0]'' handle loading of javascript from an external URL via src=&quot;...&quot; syntax
''2005.11.08 [1.1.0]'' pass 'place' param into scripts to provide direct DOM access 
''2005.11.08 [1.0.0]'' initial release
&lt;&lt;&lt;
!!!!!Credits
&lt;&lt;&lt;
This feature was developed by EricShulman from [[ELS Design Studios|http:/www.elsdesign.com]]
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.inlineJavascript= {major: 1, minor: 6, revision: 0, date: new Date(2007,2,19)};

config.formatters.push( {
	name: &quot;inlineJavascript&quot;,
	match: &quot;\\&lt;script&quot;,
	lookahead: &quot;\\&lt;script(?: src=\\\&quot;((?:.|\\n)*?)\\\&quot;)?(?: label=\\\&quot;((?:.|\\n)*?)\\\&quot;)?(?: title=\\\&quot;((?:.|\\n)*?)\\\&quot;)?( show)?\\&gt;((?:.|\\n)*?)\\&lt;/script\\&gt;&quot;,

	handler: function(w) {
		var lookaheadRegExp = new RegExp(this.lookahead,&quot;mg&quot;);
		lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = lookaheadRegExp.exec(w.source)
		if(lookaheadMatch &amp;&amp; lookaheadMatch.index == w.matchStart) {
			if (lookaheadMatch[1]) { // load a script library
				// make script tag, set src, add to body to execute, then remove for cleanup
				var script = document.createElement(&quot;script&quot;); script.src = lookaheadMatch[1];
				document.body.appendChild(script); document.body.removeChild(script);
			}
			if (lookaheadMatch[5]) { // there is script code
				if (lookaheadMatch[4]) // show inline script code in tiddler output
					wikify(&quot;{{{\n&quot;+lookaheadMatch[0]+&quot;\n}}}\n&quot;,w.output);
				if (lookaheadMatch[2]) { // create a link to an 'onclick' script
					// add a link, define click handler, save code in link (pass 'place'), set link attributes
					var link=createTiddlyElement(w.output,&quot;a&quot;,null,&quot;tiddlyLinkExisting&quot;,lookaheadMatch[2]);
					link.onclick=function(){try{return(eval(this.code))}catch(e){alert(e.description?e.description:e.toString())}}
					link.code=&quot;function _out(place){&quot;+lookaheadMatch[5]+&quot;\n};_out(this);&quot;
					link.setAttribute(&quot;title&quot;,lookaheadMatch[3]?lookaheadMatch[3]:&quot;&quot;);
					link.setAttribute(&quot;href&quot;,&quot;javascript:;&quot;);
					link.style.cursor=&quot;pointer&quot;;
				}
				else { // run inline script code
					var code=&quot;function _out(place){&quot;+lookaheadMatch[5]+&quot;\n};_out(w.output);&quot;
					code=code.replace(/document.write\(/gi,'place.innerHTML+=(');
					try { var out = eval(code); } catch(e) { out = e.description?e.description:e.toString(); }
					if (out &amp;&amp; out.length) wikify(out,w.output,w.highlightRegExp,w.tiddler);
				}
			}
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
		}
	}
} )
//}}}</pre>
</div>
<div title="InsertSmiley" modifier="giffmex" modified="200709032132" created="200709032131" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.0 compatible&quot;,&quot;category&quot;:&quot;Icons&quot;,&quot;author&quot;:&quot;Alan Hecht&quot;,&quot;link&quot;:&quot;http://www.personal.psu.edu/ach12/tiddlywiki/extensions.htm&quot;,&quot;description&quot;:&quot;Inserts a small smiley graphic at the location of the macro and does not require any external graphics. The method used should work on most current browser platforms.&quot;}&lt;/data&gt;</pre>
</div>
<div title="InstallThemePlugin" modifier="giffmex" modified="200708310312" created="200708310311" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;description&quot;:&quot;Automatically install specified theme pack and backup the old.&quot;}&lt;/data&gt;</pre>
</div>
<div title="InstantTimestamp" modifier="giffmex" created="200709092121" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;description&quot;:&quot;If you enter {ts} in your tiddler content (without the spaces) it will be replaced with a timestamp when you save the tiddler.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;}&lt;/data&gt;</pre>
</div>
<div title="Instructions" modifier="YourName" modified="200710062139" created="200710062119" tags="excludeLists excludeSearch killbookmark" changecount="11">
<pre>!!!Instructions for adding to the template

To add a new author, link, format or category to the master input template; edit NewPluginTemplateInput keeping things in alphabet order&lt;&lt;slider &quot;addOption&quot; &quot;AddToTemplate&quot; &quot;like this&quot; &quot;tooltip&quot; &gt;&gt; then save.

!!!Instructions for adding to the database

To add a new plugin to the database click 'new plugin' in the right sidebar.  While still in edit mode change the tiddler title to your requirements and 'close'.  Now fill in the form fields with the dropdowns as required and save.</pre>
</div>
<div title="IntelliTaggerPlugin" modifier="giffmex" modified="200708302152" created="200708302151" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Speed up tagging tiddlers using tag autocompletion and correction, tag suggestions and context sensitive tag guessing, \&quot;Edit Tags only\&quot; mode and many more. Especially when you are working with a lot of tags this is the plugin you are looking for.&quot;,&quot;twversion&quot;:&quot;2.0.8&quot;}&lt;/data&gt;</pre>
</div>
<div title="IsDirtyPlugin" modifier="giffmex" modified="200709011741" created="200709011740" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;When the TiddlyWiki needs to be saved the tiddler named IsDirty contains {{{' * '}}} else it is empty. IsDirty tiddler is also appended in front of the browser page title. Hint: Put it in front of your SiteTitle in your PageTemplate or in your MainMenu as an indicator.&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;author&quot;:&quot;BidiX&quot;,&quot;link&quot;:&quot;http://tiddlywiki.bidix.info/#%5B%5BExtension%20directory%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="JSPWikiAdaptorPlugin" modifier="giffmex" created="200709021237" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Adaptor for moving and converting data to and from JSP Wikis.&quot;,&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;}&lt;/data&gt;</pre>
</div>
<div title="JSPWikiFormatterPlugin" modifier="giffmex" modified="200709011605" created="200709011604" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Allows Tiddlers to use JSPWiki text formatting.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;author&quot;:&quot;Martin Budden&quot;}&lt;/data&gt;</pre>
</div>
<div title="JavascriptShell" modifier="giffmex" modified="200709112218" created="200709112217" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;TidIDE: enter and invoke javascript in a command line.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;}&lt;/data&gt;</pre>
</div>
<div title="JumpMacro" modifier="giffmex" created="200709030022" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Macro version of the core jump command, that also provides an optional 'jump to top' button.&quot;}&lt;/data&gt;</pre>
</div>
<div title="JumpToTopMacro" modifier="giffmex" modified="200709030021" created="200709030020" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;A macro and a command for jumping to the top of the screen.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Macro&quot;}&lt;/data&gt;</pre>
</div>
<div title="KillAnimation" modifier="MorrisGray" created="200709130254" tags="systemConfig excludeSearch excludeLists msgray">
<pre>config.options.chkAnimate=false;

</pre>
</div>
<div title="Language tools" modifier="giffmex" modified="200708310004" created="200708302258">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Language tools&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]]&lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="Launch Application Plugin" modifier="giffmex" modified="200709011359" created="200709011357" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bradley Meck (~PeachTW)&quot;,&quot;link&quot;:&quot;http://bradleymeck.tiddlyspot.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with files and programs&quot;,&quot;description&quot;:&quot;Authors: Lyall Pearce, modified by Bradley Meck. Launch an application from within TiddlyWiki using a button. &lt;br&gt;&lt;br&gt;[Please note the authors' warning about security].&quot;}&lt;/data&gt;</pre>
</div>
<div title="LaunchApplicationPlugin (Pearce)" modifier="giffmex" modified="200709031313" created="200709031312" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Lyall Pearce&quot;,&quot;link&quot;:&quot;http://remotely-helpful.com/TiddlyWiki/LaunchApplication.html#LaunchApplicationPlugin&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2.4&quot;,&quot;category&quot;:&quot;Working with files and programs&quot;,&quot;description&quot;:&quot;Launch an application from within ~TiddlyWiki using a button.&quot;}&lt;/data&gt;</pre>
</div>
<div title="LegacyStrikeThroughPlugin" modifier="MartinBudden" created="200607210000" tags="systemConfig">
<pre>/***
|''Name:''|LegacyStrikeThroughPlugin|
|''Description:''|Support for legacy (pre 2.1) strike through formatting|
|''Version:''|1.0.2|
|''Date:''|Jul 21, 2006|
|''Source:''|http://www.tiddlywiki.com/#LegacyStrikeThroughPlugin|
|''Author:''|MartinBudden (mjbudden (at) gmail (dot) com)|
|''License:''|[[BSD open source license]]|
|''CoreVersion:''|2.1.0|
***/

//{{{
// Ensure that the LegacyStrikeThrough Plugin is only installed once.
if(!version.extensions.LegacyStrikeThroughPlugin) {
version.extensions.LegacyStrikeThroughPlugin = {installed:true};

config.formatters.push(
{
	name: &quot;legacyStrikeByChar&quot;,
	match: &quot;==&quot;,
	termRegExp: /(==)/mg,
	element: &quot;strike&quot;,
	handler: config.formatterHelpers.createElementAndWikify
});

} //# end of &quot;install only once&quot;
//}}}</pre>
</div>
<div title="LessBackupsPlugin" modifier="giffmex" modified="200709030008" created="200709030007" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;Intelligently limit the number of backup files you create. You end up with just backup one per year, per month, per weekday, per hour, minute, and second. So total number won't exceed about 200 or so. Can be reduced by commenting out the seconds/minutes/hours line from modes array.&lt;br&gt;Coauthors Daniel Baird and Saq Imtiaz.&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;}&lt;/data&gt;</pre>
</div>
<div title="Let's Get Tanked!" modifier="giffmex" created="200709051307" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Alternative stylesheet theme: dark blue fishtank photo background.&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;format&quot;:&quot;Theme&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="LinkToMeMacro" modifier="giffmex" modified="200709011748" created="200709011747" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;A one-liner that automatically makes a link to the current TiddlyWiki file. Helps visitors know they need to right-click to save.&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;}&lt;/data&gt;</pre>
</div>
<div title="Links" modifier="giffmex" modified="200709030034" created="200709030033">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Links&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ListAuthorPlugin" modifier="giffmex" created="200709032123" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;It's a macro for listing by creator or modifier.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;author&quot;:&quot;Greg Walker&quot;,&quot;link&quot;:&quot;http://gwsyzygy.googlepages.com/creator.html&quot;}&lt;/data&gt;</pre>
</div>
<div title="ListEditTemplate" modifier="giffmex" modified="200708301818" created="200708301326">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar +saveTiddler -cancelTiddler deleteTiddler'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit title'&gt;&lt;/div&gt;
&lt;div macro='annotations'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;&lt;span macro='tagChooser'&gt;&lt;/span&gt;&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="ListboxPlugin" modifier="giffmex" modified="200709021159" created="200709021158" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;description&quot;:&quot;Set tiddler fields by selecting enumerated values from a listbox or droplist.&quot;}&lt;/data&gt;</pre>
</div>
<div title="LoadExtPlugin" modifier="giffmex" created="200709011353" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;LoadExtPlugin allows you to load external extensions from the file lists (named .js) within those tiddlers taged with \&quot;ExtList\&quot;.&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Working with files and programs&quot;,&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="LoadTiddlersPlugin" modifier="giffmex" modified="200709021157" created="200709021155" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Macro for automated updates or one-click installations of tiddlers from remote sources.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="MainMenu" modifier="YourName" modified="200710062133" created="200708301245" tags="killbookmark msgray" changecount="4">
<pre>{{tuduSlider{&lt;&lt;slider chkAppearance Appearance 'Appearance »'&gt;&gt;}}}{{tuduSlider{&lt;&lt;slider chkNavigation Navigation 'Navigation »'&gt;&gt;}}}{{tuduSlider{&lt;&lt;slider chkTools Tools 'Tools »'&gt;&gt;}}}{{tuduSlider{&lt;&lt;slider chkWorkingWith WorkingWith 'Working with... »'&gt;&gt;}}}

 &lt;&lt;toggleSideBar 'toggle sideBar'&gt;&gt;
[[Instructions]]
NewPluginTemplateInput


^^~TiddlyWiki is © 2007 [[UnaMesa|http://www.unamesa.org/]]^^
</pre>
</div>
<div title="ManageTiddlersPlugin" modifier="giffmex" created="200709011343" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;List tiddlers with specific tag and let you manage the multiple selected tiddlers.&quot;}&lt;/data&gt;</pre>
</div>
<div title="MarkupPostBody" modifier="tiddlyvault" modified="200709181156" created="200709031455" changecount="1">
<pre></pre>
</div>
<div title="MathCell" modifier="giffmex" modified="200709042208" created="200709042206" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;MathCell is a TW plugin to allow for excel like spreadsheet capabilities inside of TW.&quot;,&quot;category&quot;:&quot;Tables&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Bradley Meck (~PeachTW)&quot;,&quot;link&quot;:&quot;http://genisis329.googlepages.com/TWMath.html&quot;}&lt;/data&gt;</pre>
</div>
<div title="MediaCenter" modifier="giffmex" created="200709051321" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Embedded multi-type player for winmedia, real, quicktime, flash, and JPG/GIF images.&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="MediaWikiAdaptorPlugin" modifier="giffmex" created="200709021238" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Adaptor for moving and converting data from MediaWikis.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;twversion&quot;:&quot;2.2&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;author&quot;:&quot;Martin Budden&quot;}&lt;/data&gt;</pre>
</div>
<div title="MediaWikiFormatterPlugin" modifier="giffmex" modified="200709011412" created="200708302306" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Allows you to insert MediaWiki formated text into a TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="MenuEditPlugin" modifier="giffmex" created="200709011807" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Adds 'doubleclick to edit source' to the MainMenu, SideBarOptions, and SideBarTabs.&quot;,&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="MenuMore" modifier="giffmex" modified="200709031911" created="200709031904" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Ocat&quot;,&quot;link&quot;:&quot;http://oldcat.googlegroups.com/web/MenuMoreEn.html&quot;,&quot;format&quot;:&quot;Theme&quot;,&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;A TiddlyWiki theme plus a highly flexible multi-switch menu system. &quot;}&lt;/data&gt;</pre>
</div>
<div title="Menus and sliders" modifier="giffmex" modified="200709030033" created="200708311207">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Menus and sliders&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="MiniBrowser" modifier="giffmex" created="200709051326" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Use an 'inline frame' to display another site inside a tiddler with navigation buttons and a dropdown list of favorite URLs.&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="MiniTiddlyServer" modifier="giffmex" modified="200709092150" created="200709092147" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Uploading TiddlyWikis to a server&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;author&quot;:&quot;Unknown&quot;,&quot;link&quot;:&quot;http://www.minitiddlyserver.com/&quot;,&quot;description&quot;:&quot;MTS is a versatile serverside environment for TiddlyWiki, unique in that it requires no plugins or hacks to your tiddlywiki at all. It uses (and requires) a php server, but doesn't need any database or fancy configuration. All it needs is to be uploaded to a folder on your server and run through a web browser. It is like a \&quot;Docking Station\&quot; for your TiddlyWiki. It doesn't change your TiddlyWiki at all, but just gives it more functionality, and allows it to plug in to the internet.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Minsweeper" modifier="giffmex" modified="200709030208" created="200709030207" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Daniel Baird&quot;,&quot;link&quot;:&quot;http://danielbaird.com/tiddlywinks/&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Games&quot;,&quot;description&quot;:&quot;As if we really needed this for ~TiddlyWiki... :-)&quot;}&lt;/data&gt;</pre>
</div>
<div title="MonkeyTaggerMacro" modifier="giffmex" created="200708302201" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;description&quot;:&quot;Drop down list that toggles tags tagged by given tag, see demo for better understanding. (aimed at task management).&quot;,&quot;twversion&quot;:&quot;2.07&quot;,&quot;category&quot;:&quot;Tagging&quot;}&lt;/data&gt;</pre>
</div>
<div title="MoveablePanelPlugin" modifier="giffmex" created="200709021154" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;description&quot;:&quot;Add move, size, max/restore mouse event handling and fold/unfold, hover/scroll, and close/dock toolbar command items to any floating slider panel or tiddler.&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="MptwLayoutPlugin" modifier="giffmex" created="200709011753" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;A package containing templates and css for the MonkeyPirateTiddlyWiki layout.&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="MultiTagEditorPlugin" modifier="giffmex" modified="200709092058" created="200709092057" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin enables the addition and deletion of tags from sets of tiddlers.&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;author&quot;:&quot;Ido Magal&quot;,&quot;link&quot;:&quot;http://ido-xp.tiddlyspot.com/&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="Music" modifier="tiddlyvault" created="200907281507" changecount="1">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;music&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Music&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="MyMacroMacro" modifier="giffmex" modified="200709120048" created="200709120047" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Allows you to define named shortcuts to your own macros with parameters and simplifies calling them. The {{{&lt;&lt;defineMyMacro&gt;&gt; }}}statements should go in your MainMenu or some other tiddler which displayed at startup.&quot;,&quot;category&quot;:&quot;Uncategorized tools&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;}&lt;/data&gt;</pre>
</div>
<div title="N.E.W.S. " modifier="giffmex" modified="200709011558" created="200709011550" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Yann Perrin&quot;,&quot;link&quot;:&quot;http://yann.perrin.googlepages.com/twkd.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;description&quot;:&quot;This plugin ensure that tiddlers with the chosen tag that were modified since your last visit are displayed. It also lists the tiddlers it manages as new or archived in a new ~shadowTiddler called ~NewsManager.&quot;}&lt;/data&gt;</pre>
</div>
<div title="N.E.W.S. plugin" modifier="giffmex" created="200709042152" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin ensures that tiddlers with the chosen tag that were modified since your last visit are displayed. It also lists the tiddlers it manages as new or archived in a new shadowTiddler called NewsManager.&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://yann.perrin.googlepages.com/twkd.html&quot;,&quot;author&quot;:&quot;Yann Perrin&quot;}&lt;/data&gt;</pre>
</div>
<div title="Navigating within a tiddler" modifier="giffmex" created="200709051232">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Navigating within a tiddler&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="Navigation" modifier="giffmex" modified="200709051231" created="200709011428" tags="menus">
<pre>*[[Navigating within a tiddler]]
*[[Searching and indexing tiddlers]]
*[[Tagging]]</pre>
</div>
<div title="NavigationMacro" modifier="giffmex" modified="200709011801" created="200709011800" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.08&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Creates Next and Previous buttons to allow navigating through tiddlers in order.&quot;}&lt;/data&gt;</pre>
</div>
<div title="NavigationMacro " modifier="giffmex" modified="200709011802" created="200709011801" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.08&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Creates Next and Previous buttons to allow navigating through tiddlers in order.&quot;}&lt;/data&gt;</pre>
</div>
<div title="NestedBrowserMacro" modifier="FND" modified="200710041413" created="200710041412" tags="list" changecount="2">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;RodneyGomes&quot;,&quot;link&quot;:&quot;http://devpad.tiddlyspot.com&quot;,&quot;description&quot;:&quot;Creates a browser pane inside a tiddler for viewing external pages.&quot;,&quot;category&quot;:&quot;Uncategorized tools&quot;}&lt;/data&gt;</pre>
</div>
<div title="NestedFormatterMacro" modifier="giffmex" modified="200709011407" created="200709011406" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;author&quot;:&quot;Bradley Meck (~PeachTW)&quot;,&quot;link&quot;:&quot;http://bradleymeck.tiddlyspot.com&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;This plugin's purpose is to produce a formatter that will allow for it to have nested structures. Included in this macro is an example at the bottom using parenthesis to give a font size increasing effect.&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="NestedSlidersPlugin" modifier="giffmex" modified="200709021152" created="200709021151" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Show content in nest-able 'slider' or 'floating' panels, without needing to create separate tiddlers for each panel.&quot;,&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="NewHereCommand" modifier="giffmex" modified="200709092125" created="200709092122" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;Code originally by ArphenLin. Small tweak by SimonBaird. Creates a new tiddler or journal 'here' - that is, at this point in a hierarchy of tags.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;}&lt;/data&gt;</pre>
</div>
<div title="NewHerePlugin" modifier="giffmex" modified="200709030013" created="200709030009" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Creates the 'new here' and 'new journal' macros in a tiddler. These macros create tiddlers and journals that reference the parent tiddler in various ways.&quot;}&lt;/data&gt;</pre>
</div>
<div title="NewMeansNewPlugin" modifier="giffmex" created="200709030014" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;If 'New Tiddler' already exists then create 'New Tiddler (1)' and so on.&quot;}&lt;/data&gt;</pre>
</div>
<div title="NewPluginTemplate" modifier="YourName" created="200710060541" changecount="1">
<pre>&lt;html&gt;&lt;hide linebreaks&gt;
&lt;style&gt; .rolodex table {border: 0px solid; background-color:#eeeff;}
.rolodex tr, .rolodex td {border: 0px solid;}
&lt;/style&gt;&lt;span class=&quot;rolodex&quot;&gt;
 &lt;table&gt;
&lt;tr&gt;
&lt;td align=&quot;right&quot;&gt;&lt;b&gt;Author:&lt;/b&gt;&lt;/td&gt;
 &lt;td colspan=&quot;3&quot;&gt;&lt;input name=author style=&quot;width:100%&quot; /&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;right&quot;&gt;&lt;b&gt;Link:&lt;/b&gt;&lt;/td&gt;
 &lt;td colspan=&quot;3&quot;&gt;&lt;input name=link style=&quot;width:100%&quot; /&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;right&quot;&gt;&lt;b&gt;Format:&lt;/b&gt;&lt;/td&gt;
&lt;td colspan=&quot;3&quot;&gt;&lt;input name=format style=&quot;width:100%&quot; /&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;right&quot;&gt;&lt;b&gt;For TW version:&lt;/b&gt;
&lt;/td&gt;&lt;td colspan=&quot;3&quot;&gt;&lt;input name=twversion type=text  width:100%;&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td align=&quot;right&quot;&gt;&lt;b&gt;Category:&lt;/b&gt;&lt;/td&gt;
 &lt;td colspan=&quot;3&quot;&gt;&lt;input name=category style=&quot;width:100%&quot; /&gt;
&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;
 &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;Description:&lt;/b&gt;&lt;/td&gt;
 &lt;td colspan=&quot;3&quot;&gt;&lt;textarea name=description rows=&quot;7&quot; cols=&quot;40&quot; style=&quot;width:100%&quot; &gt;&lt;/textarea&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;&lt;/span&gt; &lt;/html&gt;</pre>
</div>
<div title="NewPluginTemplateInput" modifier="tiddlyvault" modified="201205141924" created="200708301824" tags="killbookmark" changecount="17">
<pre>&lt;html&gt;
&lt;style&gt; .rolodex table {border: 0px solid; background-color:#eeeff;}
.rolodex tr, .rolodex td {border: 0px solid;}
&lt;/style&gt;&lt;span class=&quot;rolodex&quot;&gt;
 &lt;table&gt;
&lt;tr&gt;
&lt;td align=&quot;right&quot;&gt;&lt;b&gt;Author:&lt;/b&gt;&lt;/td&gt;
 &lt;td colspan=&quot;3&quot;&gt;&lt;select name=author style=&quot;width:100%&quot; /&gt;
&lt;option&gt;Alan Hecht
&lt;option&gt;Arphen Lin
&lt;option&gt;Anshul Nigham
&lt;option&gt;BidiX
&lt;option&gt;Bob Denny (Red Mt. Vista)
&lt;option&gt;Bob McElrath (Bob's)
&lt;option&gt;Bradley Meck (~PeachTW)
&lt;option&gt;Bram Chen (~PrinceTW)
&lt;option&gt;ccTiddly
&lt;option&gt;&quot;Chris&quot; (Gimcrack'd)
&lt;option&gt;Clint Checketts
&lt;option&gt;Conal Elliott
&lt;option&gt;Daniel Baird
&lt;option&gt;Dawn Ahukanna
&lt;option&gt;Doug Compton
&lt;option&gt;Eric Shulman (~TiddlyTools)
&lt;option&gt;Fabrice
&lt;option&gt;Frank Dellaert
&lt;option&gt;FND
&lt;option&gt;George Brackett
&lt;option&gt;Greg Walker
&lt;option&gt;Ido Magal
&lt;option&gt;Jack Parke (Jack's)
&lt;option&gt;Jens Killus
&lt;option&gt;Jeremy Harper
&lt;option&gt;Jeremy Ruston
&lt;option&gt;Jeremy Sheeley
&lt;option&gt;Joeraii
&lt;option&gt;Jon Scully
&lt;option&gt;Julian Knight
&lt;option&gt;Laurence Man
&lt;option&gt;Luke Blanshard
&lt;option&gt;Lyall Pearce
&lt;option&gt;Marc Castejon
&lt;option&gt;Martin Budden
&lt;option&gt;Mike Miller
&lt;option&gt;Ocat
&lt;option&gt;Pascal
&lt;option&gt;Paul Gallagher
&lt;option&gt;Paulo Soares
&lt;option&gt;Peter Jipsen
&lt;option&gt;Potto
&lt;option&gt;Riccardo Gherardi 
&lt;option&gt;Richard Hobbis
&lt;option&gt;RodneyGomes
&lt;option&gt;Rodrigo Fonseca
&lt;option&gt;Saq Imtiaz (Lewcid)
&lt;option&gt;Simon Baird (~MonkeyPirate)
&lt;option&gt;Soloport
&lt;option&gt;Speth
&lt;option&gt;Udo Borkowski (Abego)
&lt;option&gt;Steve Rumsby
&lt;option&gt;Unknown
&lt;option&gt;Vincent DiBartolo
&lt;option&gt;Walt Woods
&lt;option&gt;Willy de la Court
&lt;option&gt;Yann Perrin
&lt;option&gt;Oriol Nieto , Alejandro Moreno, Dídac Calventus &amp; Ludo (Marc Alier)
&lt;option&gt;? (VisualTW)
&lt;/select&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;right&quot;&gt;&lt;b&gt;Link:&lt;/b&gt;&lt;/td&gt;
 &lt;td colspan=&quot;3&quot;&gt;&lt;select name=link style=&quot;width:100%&quot; /&gt;
&lt;option&gt;http://aiddlywiki.sourceforge.net/wikibar_demo_2.html
&lt;option&gt;http://bob.mcelrath.org/plugins.html#systemConfig
&lt;option&gt;http://bradleymeck.tiddlyspot.com
&lt;option&gt;http://cctiddly.sourceforge.net/
&lt;option&gt;http://coderswiki.jenskillus.de/
&lt;option&gt;http://conflation.org/#BlogUserPlugin
&lt;option&gt;http://dahukanna.net/wiki/tiddlywiki.htm
&lt;option&gt;http://danielbaird.com/tiddlywinks/
&lt;option&gt;http://devpad.tiddlyspot.com
&lt;option&gt;http://discerningtags.tiddlyspot.com/
&lt;option&gt;http://du180.n77.queensu.ca/TW/ToC.html
&lt;option&gt;http://end.com/~speth/HaloscanMacro.html
&lt;option&gt;http://fire.atspace.org/
&lt;option&gt;http://genisis329.googlepages.com/TWMath.html
&lt;option&gt;http://gimcrackd.com/etc/src/#%5B%5BWhat's%20this%3F%5D%5D
&lt;option&gt;http://gwsyzygy.googlepages.com/creator.html
&lt;option&gt;http://ido-xp.tiddlyspot.com/
&lt;option&gt;http://jackparke.googlepages.com/jtw.html
&lt;option&gt;http://journal.conal.net/#%5B%5Bsite%20map%5D%5D
&lt;option&gt;http://jtab.tardate.com/jtabtwiki-help.htm
&lt;option&gt;http://knighjm.googlepages.com/knightnet-default-tw.html#PlugIn-Knightnet
&lt;option&gt;http://labwiki.sourceforge.net/
&lt;option&gt;http://lewcid.googlepages.com/presentation_empty_full.html#Documentation
&lt;option&gt;http://lewcid.org/tiddlywiki-bookmarklets/
&lt;option&gt;http://luceatlux.net/macros/answer
&lt;option&gt;http://math.chapman.edu/~jipsen/asciencepad/asciencepad.html
&lt;option&gt;http://moodle.tiddlyspot.com/
&lt;option&gt;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D
&lt;option&gt;http://mptw2.tiddlyspot.com/#Plugins
&lt;option&gt;http://oldcat.googlegroups.com/web/AccordionEffect.html
&lt;option&gt;http://oldcat.googlegroups.com/web/MenuMoreEn.html
&lt;option&gt;http://oldcat.googlegroups.com/web/Simple2.html
&lt;option&gt;http://oregonstate.edu/~woodswa/tiddlywikiplugs.html
&lt;option&gt;http://paularodrigo.homeip.net/stickydate.html#StickyDatePlugin
&lt;option&gt;http://project.dahukanna.net/tiddlywiki/timeline/sampletimeline220b5.html
&lt;option&gt;http://ptw.sourceforge.net/ptwe.html#Plugins
&lt;option&gt;http://remindermacros.tiddlyspot.com/
&lt;option&gt;http://remotely-helpful.com/TiddlyWiki/ImprovedSlicesPlugin.html#ImprovedSlicesPlugin
&lt;option&gt;http://remotely-helpful.com/TiddlyWiki/LaunchApplication.html#LaunchApplicationPlugin
&lt;option&gt;http://remotely-helpful.com/TiddlyWiki/TiddlerEncryptionPlugin.html#TiddlerEncryptionPlugin
&lt;option&gt;http://rgplugins.tiddlyspot.com/#%5B%5BhideIfshowIf%20plugin%5D%5D
&lt;option&gt;http://solo.dc3.com/tw/#%5B%5BMy%20Plugins%5D%5D
&lt;option&gt;http://soloport.tiddlyspot.com/#ExcludeTimelinePlugin
&lt;option&gt;http://syncoutlooknotes.tiddlyspot.com/#SyncOutlookNotes
&lt;option&gt;http://tiddlysnip.com/#About
&lt;option&gt;http://tiddlystyles.com
&lt;option&gt;http://tiddlythemes.com/#Home
&lt;option&gt;http://tiddlywiki.abego-software.de/#Plugins
&lt;option&gt;http://tiddlywiki.bidix.info/#%5B%5BExtension%20directory%5D%5D
&lt;option&gt;http://tiddlywiki.ouvaton.org/Demo.html#RichTextPlugin
&lt;option&gt;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D
&lt;option&gt;http://umibozu.org/en/index.html#Features
&lt;option&gt;http://visualtw.ouvaton.org/VisualTW.html
&lt;option&gt;http://weave.tiddlyspot.com
&lt;option&gt;http://www.anshul.info/blogwiki.html
&lt;option&gt;http://www.blogjones.com/TiddlyWikiTutorial.html#smiley
&lt;option&gt;http://www.cs.utexas.edu/~joeraii/pytw/
&lt;option&gt;http://www.cs.utexas.edu/~joeraii/siglet/
&lt;option&gt;http://www.linux-lovers.be/RevisionsPlugin/#RevisionsPlugin
&lt;option&gt;http://www.martinswiki.com
&lt;option&gt;http://www.martinswiki.com/timeline/
&lt;option&gt;http://www.math.ist.utl.pt/~psoares/addons.html#Plugins
&lt;option&gt;http://www.minitiddlyserver.com/
&lt;option&gt;http://www.minormania.com/tiddlylock/tiddlylock.html#TiddlyLockPlugin
&lt;option&gt;http://www.personal.psu.edu/ach12/tiddlywiki/extensions.htm
&lt;option&gt;http://www.potto.client.jp/htmlslidymaker/index.html
&lt;option&gt;http://www.superphysique.net/#%5B%5BSEO%20TiddlyWiki%20Plugin%5D%5D
&lt;option&gt;http://www.tiddlytools.com
&lt;option&gt;http://www.tiddly-twab.com
&lt;option&gt;http://www.zagware.com/tw/plugins.html#DcTableOfContentsPlugin
&lt;option&gt;http://www-static.cc.gatech.edu/~dellaert/dhtml/tiddly.html
&lt;option&gt;http://yann.perrin.googlepages.com/twkd.html
&lt;/select&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;right&quot;&gt;&lt;b&gt;Format:&lt;/b&gt;&lt;/td&gt;
&lt;td colspan=&quot;3&quot;&gt;&lt;select name=format style=&quot;width:100%&quot; /&gt;
&lt;option&gt;Plugin
&lt;option&gt;Macro
&lt;option&gt;Script
&lt;option&gt;Theme
&lt;option&gt;Firefox extension
&lt;option&gt;Bookmarklet
&lt;option&gt;Other
&lt;/select&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;right&quot;&gt;&lt;b&gt;For TW version:&lt;/b&gt;
&lt;/td&gt;&lt;td colspan=&quot;3&quot;&gt;&lt;input name=twversion type=text  width:100%;&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td align=&quot;right&quot;&gt;&lt;b&gt;Category:&lt;/b&gt;&lt;/td&gt;
 &lt;td colspan=&quot;3&quot;&gt;&lt;select name=category style=&quot;width:100%&quot; /&gt;
&lt;option&gt;Aids for website visitors
&lt;option&gt;Behind the scenes
&lt;option&gt;Calculators
&lt;option&gt;Colors
&lt;option&gt;Formatting and viewing text
&lt;option&gt;Forms and databases
&lt;option&gt;Games
&lt;option&gt;Icons
&lt;option&gt;Images and presentations
&lt;option&gt;Links
&lt;option&gt;Menus and sliders
&lt;option&gt;Music
&lt;option&gt;Navigating within a tiddler
&lt;option&gt;Non-English languages
&lt;option&gt;Other style changes
&lt;option&gt;Popups
&lt;option&gt;Saving and reviewing changes
&lt;option&gt;Scientific and mathematical notation
&lt;option&gt;Searching and indexing tiddlers
&lt;option&gt;Security
&lt;option&gt;Statistics
&lt;option&gt;Tabbed folders
&lt;option&gt;Tables
&lt;option&gt;Tagging
&lt;option&gt;Themes
&lt;option&gt;Tiddler manipulation
&lt;option&gt;Time and calendars
&lt;option&gt;Toggling page elements
&lt;option&gt;Uncategorized tools
&lt;option&gt;Uploading TiddlyWikis to a server
&lt;option&gt;Working with browsers
&lt;option&gt;Working with files and programs
&lt;option&gt;Working with keyboards
&lt;option&gt;Working with multiple TiddlyWikis
&lt;option&gt;Working with other codes and formats
&lt;option&gt;Working with websites, incl IFrames
&lt;/select&gt;&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;
 &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;Description:&lt;/b&gt;&lt;/td&gt;
 &lt;td colspan=&quot;3&quot;&gt;&lt;textarea name=description rows=&quot;7&quot; cols=&quot;40&quot; style=&quot;width:100%&quot; &gt;&lt;/textarea&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;&lt;/span&gt; &lt;/html&gt;</pre>
</div>
<div title="NextTiddler" modifier="giffmex" modified="200709112300" created="200709112259" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Insert a link that, when clicked, closes the current tiddler and opens another one in its place.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Non-English languages" modifier="giffmex" modified="200709011817" created="200709011440">
<pre>For translations of ~TiddlyWiki into other languages, see http://trac.tiddlywiki.org/wiki/Translations.
&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Non-English languages&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]]&lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="NukeAllCookies" modifier="tiddlyvault" modified="200712051355" created="200712051353" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Deletes all cookies for the current document.&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Working with browsers&quot;}&lt;/data&gt;</pre>
</div>
<div title="NukeShadows" modifier="tiddlyvault" modified="200712051351" created="200712051350" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Restores all shadow tiddlers to their default values.&quot;,&quot;category&quot;:&quot;Security&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="OpenMostRecentTiddler" modifier="giffmex" modified="200709112122" created="200709112121" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Go to the most recently modified tiddler.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="OpenTaggedTiddlers" modifier="giffmex" modified="200709112123" created="200709112122" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Open multiple tagged tiddlers with a single click.&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="OpenTiddlers" modifier="giffmex" modified="200709112259" created="200709112258" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;description&quot;:&quot;Open multiple tiddlers with a single click.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;2.1&quot;}&lt;/data&gt;</pre>
</div>
<div title="OpenTiddlersMacro" modifier="giffmex" modified="200709030034" created="200709030024" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;description&quot;:&quot;Allows creation of tiddlyLinks that open multiple tiddlers. Also useful for creating links to shadowTiddlers, which if normally created are not in bold.&quot;,&quot;category&quot;:&quot;Links&quot;}&lt;/data&gt;</pre>
</div>
<div title="OpenTopPlugin" modifier="giffmex" created="200709030023" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Open new tiddlers at the top of the screen.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Other style changes" modifier="giffmex" created="200709112127">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Other style changes&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="PBWikiFormatterPlugin" modifier="giffmex" created="200709011608" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;This is an early release of the PBWikiFormatterPlugin, which allows you to insert PBWiki formated text into a TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="PartTiddlerPlugin" modifier="giffmex" modified="200709011528" created="200709011527" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.3&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;With the &lt;part aPartName&gt; ... &lt;/part&gt; feature you can structure your tiddler text into separate parts. Each part can be referenced as a \&quot;normal\&quot; tiddler, using the \&quot;tiddlerName/partName\&quot; syntax.&quot;}&lt;/data&gt;</pre>
</div>
<div title="PasswordOptionPlugin" modifier="giffmex" created="200708311248" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;BidiX&quot;,&quot;link&quot;:&quot;http://tiddlywiki.bidix.info/#%5B%5BExtension%20directory%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;~PasswordOptionPlugin extends the core Options with a non encrypted password type.&quot;,&quot;category&quot;:&quot;Security&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="PasswordPromptPlugin" modifier="giffmex" modified="200709051246" created="200709051245" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Create a prompt for masked password inputs. Contributors: Lewcid, BidiX, Loic.&quot;,&quot;category&quot;:&quot;Security&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;FND&quot;,&quot;link&quot;:&quot;http://devpad.tiddlyspot.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="PersistentFormPlugin" modifier="giffmex" modified="200709011314" created="200709011313" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob Denny (Red Mt. Vista)&quot;,&quot;link&quot;:&quot;http://solo.dc3.com/tw/#%5B%5BMy%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.0.11, 2.1.0&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;description&quot;:&quot;This macro adds field persistence to HTML forms embedded in tiddlers, and an optional reset button to clear the form and erase any persisted field values. See the PostFormPlugin. Persistence is done using the same scheme that TiddlyWiki's options use, cookies.&quot;}&lt;/data&gt;</pre>
</div>
<div title="PersonPlugin" modifier="tiddlyvault" modified="200709161322" created="200709031937" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Frank Dellaert&quot;,&quot;link&quot;:&quot;http://www-static.cc.gatech.edu/~dellaert/dhtml/tiddly.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Links&quot;,&quot;description&quot;:&quot;A TiddlyWikiMacro to create aliases (similar to AliasPlugin) that refer to people. The macro takes the following (mandatory) arguments: &lt;br&gt;&lt;br&gt;* macro name, e.g. \&quot;FDE\&quot;&lt;br&gt;&lt;br&gt;* person name, e.g. \&quot;Frank Dellaert\&quot;&lt;br&gt;&lt;br&gt;* url: a url to a web-page&lt;br&gt;&lt;br&gt;A second macro, \&quot;personLookup\&quot; supports reverse lookup, which is used in the BibTexPlugin.&quot;}&lt;/data&gt;</pre>
</div>
<div title="PhotoShowPlugin" modifier="giffmex" modified="200709031317" created="200709031316" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Paulo Soares&quot;,&quot;link&quot;:&quot;http://www.math.ist.utl.pt/~psoares/addons.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;description&quot;:&quot;This plugin is a small companion to the SlideShowPlugin. It automates the creation of a gallery of numbered pictures from a directory that will be ready for a slide show.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Picnik" modifier="tiddlyvault" modified="201205141928" created="201205141922" tags="list" changecount="5">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;''The plugin's tiddler:'' http://coderswiki.jenskillus.de/#PicnikPlugin. ''Demonstration:'' http://coderswiki.jenskillus.de/#[[Walls%20of%20Constantinople]]. ''Download of preconfigured package:'' http://coderswiki.jenskillus.de/#[[Download%20Picnik]]. Picnik is a highly configurable image gallery plugin. Picnik operates in two modes: When working locally you can add new images from your harddrive to the gallery, simply tell picnik the directory where your images are and it will scan the directory. Information about found images (file name, location in subfolders) will be stored in a hidden tiddler. Then upload your Tiddlywiki HTML file and your image folder to the web and the plugin will use the hidden tiddler to display the gallery. Out of the box picnik will display  images similar to the thumbnail view in a file manager and link each image to an individual tiddler based on the image name. You may use a special tiddler as template for these individual tiddlers for prefilling them with markup for displaying the image and information about it.&quot;,&quot;link&quot;:&quot;http://coderswiki.jenskillus.de/&quot;,&quot;category&quot;:&quot;Images and presentations&quot;}&lt;/data&gt;</pre>
</div>
<div title="Plain" modifier="giffmex" created="200709051308" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Alternative stylesheet theme: white backgrounds with minimal adjustments.&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Theme&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="PlasticCalendarPlugin" modifier="giffmex" modified="200709031319" created="200709031318" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin creates custom Gregorian calendars and is based on previous work by TiagoDionízio.&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.math.ist.utl.pt/~psoares/addons.html#Plugins&quot;,&quot;author&quot;:&quot;Paulo Soares&quot;}&lt;/data&gt;</pre>
</div>
<div title="PlayerPlugin" modifier="giffmex" created="200709031258" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Embed a media player in a tiddler.&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Images and presentations&quot;}&lt;/data&gt;</pre>
</div>
<div title="PluralAliasPlugin" modifier="giffmex" modified="200709030056" created="200709030055" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Links&quot;,&quot;description&quot;:&quot;This plugin ensures links to tiddlers in plural or singular form without the need to create duplicate tiddlers or resort to pretty linking.&quot;}&lt;/data&gt;</pre>
</div>
<div title="PmWikiFormatterPlugin" modifier="giffmex" modified="200709011607" created="200709011606" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;This is an early release of the PmWikiFormatterPlugin, which allows you to insert PmWiki formated text into a TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="PolyGlotPlugin" modifier="giffmex" modified="200709042202" created="200709042201" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Non-English languages&quot;,&quot;twversion&quot;:&quot;Requires 2.0.7&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://yann.perrin.googlepages.com/twkd.html&quot;,&quot;author&quot;:&quot;Yann Perrin&quot;}&lt;/data&gt;</pre>
</div>
<div title="PopupMacro" modifier="giffmex" created="200709011730" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Create popups with custom content.&quot;,&quot;twversion&quot;:&quot;2.0.8&quot;,&quot;category&quot;:&quot;Popups&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="PopupTiddlersByAuthor" modifier="giffmex" modified="200709112221" created="200709112220" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Create a popup list of tiddlers modified by a given author.&quot;}&lt;/data&gt;</pre>
</div>
<div title="PopupTipsPlugin" modifier="giffmex" modified="200709011341" created="200709011340" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;twversion&quot;:&quot;2.2.0&quot;,&quot;category&quot;:&quot;Popups&quot;,&quot;description&quot;:&quot;Display tips and alias from a pre-defineded tiddler.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Popups" modifier="giffmex" created="200709011341">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Popups&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="PostFormPlugin" modifier="giffmex" modified="200709011314" created="200709011310" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob Denny (Red Mt. Vista)&quot;,&quot;link&quot;:&quot;http://solo.dc3.com/tw/#%5B%5BMy%20Plugins%5D%5D&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;twversion&quot;:&quot;2.0.11, 2.1.0&quot;,&quot;description&quot;:&quot;This macro replaces the normal submit button for an HTML form contained in a tiddler. More than one form may appear in the tiddler, and this macro may be invoked on any of them. In addition, multiple invocations of this macro may appear in a tiddler, allowing you to provide posting from more than one form in a tiddler.&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="Presentation package (Lewcid)" modifier="giffmex" modified="200709030219" created="200709030217" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.googlepages.com/presentation_empty_full.html#Documentation&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;description&quot;:&quot;A full presentation package with separate modes for authors and viewers.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ProxyService" modifier="giffmex" created="200709120100" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Other&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;author&quot;:&quot;BidiX&quot;,&quot;link&quot;:&quot;http://tiddlywiki.bidix.info/#%5B%5BExtension%20directory%5D%5D&quot;,&quot;description&quot;:&quot;Access a remote url even if TiddlyWiki is viewed over HTTP.&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;}&lt;/data&gt;</pre>
</div>
<div title="PublicationPlugin" modifier="tiddlyvault" modified="200709161320" created="200709031935" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Frank Dellaert&quot;,&quot;link&quot;:&quot;http://www-static.cc.gatech.edu/~dellaert/dhtml/tiddly.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;A simple plugin to format publication references. This macro takes the following (mandatory) arguments in order: &lt;br&gt;&lt;br&gt;* title: title of the publication &lt;br&gt;&lt;br&gt;* url: url to publication &lt;br&gt;&lt;br&gt;* authors: a comma separated list of author names or aliases defined using AliasPlugin&lt;br&gt;&lt;br&gt;* citation: booktitle or journal or institution, will become a Tiddler link&lt;br&gt;&lt;br&gt;* year: publication year&lt;br&gt;&lt;br&gt;The publication is then rendered using a link to the paper, with author aliases substituted (if defined), and the citation rendered as a Tiddler link.&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;}&lt;/data&gt;</pre>
</div>
<div title="PublishMacro" modifier="giffmex" modified="200709030052" created="200709030049" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;Publish tiddlers tagged with the tags you place in the window (comma separated) as HTML pages to the subfolder 'publish' (you must create this). Use the PublishTemplateHead and PublishTemplateBody templates to style your pages and the PublishIndexTemplate to define an index page.&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;}&lt;/data&gt;</pre>
</div>
<div title="PublisherMode" modifier="tiddlyvault" modified="200712051403" created="200712051353" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Behind the scenes&quot;,&quot;description&quot;:&quot;For use with PublisherPlugin; reloads file in specified viewing/editing mode.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Pytw" modifier="giffmex" modified="200709032158" created="200709032157" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Unknown&quot;,&quot;link&quot;:&quot;http://www.cs.utexas.edu/~joeraii/pytw/&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;category&quot;:&quot;Uploading TiddlyWikis to a server&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;Using pytw, changes made to tiddlers are saved on the server, so you don't have to download the html file and carry it with you. Compared to other server side packages for Tiddly Wiki, I maintain that pytw is one of the simplest (about 200 lines of code, gratuitously commented).&quot;}&lt;/data&gt;</pre>
</div>
<div title="QuickEditToolbar" modifier="giffmex" created="200709112222" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;Quickly insert TiddlyWiki tiddler links or common formatting sequences directly into tiddler content.&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="QuickOpenTagPlugin" modifier="giffmex" modified="200708302046" created="200708302033" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;Changes tag links to make it easier to open tags as tiddlers&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;twversion&quot;:&quot;2.2.1&quot;}&lt;/data&gt;</pre>
</div>
<div title="QuoteOfTheDayPlugin" modifier="giffmex" modified="200709031234" created="200709031233" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Display a randomly selected \&quot;quote of the day\&quot; from a list defined in a separate tiddler.&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="RSSReaderPlugin" modifier="giffmex" modified="200709011352" created="200708302357" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;BidiX&quot;,&quot;link&quot;:&quot;http://tiddlywiki.bidix.info/#%5B%5BExtension%20directory%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2.0&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;description&quot;:&quot;An RSS reader for ~TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="RandomThemeChooser" modifier="giffmex" modified="200709051338" created="200709051337" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Select a stylesheet theme at random.&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="RearrangeTiddlersPlugin" modifier="giffmex" modified="200709112119" created="200709112117" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Joeraii&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Drag tiddlers by title to re-order story column display. Adapted by Eric Shulman.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;}&lt;/data&gt;</pre>
</div>
<div title="RecentChangesPlugin" modifier="giffmex" created="200709031256" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;description&quot;:&quot;Display droplist of recently changed tiddlers with goto, edit, and preview buttons.&quot;}&lt;/data&gt;</pre>
</div>
<div title="RedirectMacro" modifier="giffmex" modified="200709030121" created="200709030120" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This macro tells TW to find all instances of a word and makes it point to a different link. For example, whenever I put the word 'Clint' in a tiddler I want TiddlyWiki to turn it into a link that points to a tiddler titled 'Clint Checketts' Or the word 'TW' could point to a tiddler called 'TiddlyWiki' It even matches clint (which is lowercase) Clint leet lEEt LEET.&quot;,&quot;author&quot;:&quot;Clint Checketts&quot;,&quot;link&quot;:&quot;http://tiddlystyles.com&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Links&quot;}&lt;/data&gt;</pre>
</div>
<div title="ReferrersMacro" modifier="giffmex" modified="200709030058" created="200709030057" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;Display a list of tiddlers linking to this plugin.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;}&lt;/data&gt;</pre>
</div>
<div title="RefreshCommand" modifier="giffmex" modified="200709092126" created="200709092125" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;A toolbar button that refreshes your tiddler.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;}&lt;/data&gt;</pre>
</div>
<div title="RefreshIFramePlugin" modifier="giffmex" modified="200709011351" created="200709011323" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob Denny (Red Mt. Vista)&quot;,&quot;link&quot;:&quot;http://solo.dc3.com/tw/#%5B%5BMy%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.0.11, 2.1.0&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;description&quot;:&quot;This macro provides a tiddler with an &lt;iframe&gt; refresh control. This permits refreshing just the iframe, avoiding flashing due to refreshing the entire tiddler. Normally, a refresh button appears at the location of the macro invocation. Clicking this button causes the contents of the tiddler to be refreshed. Optionally, a checkbox may also be displayed with which the user can enable and disable automatic periodic refresh of the tiddler at an interval specified by the third parameter. Finally, for special applications, a fourth parameter may be given, and if \&quot;true\&quot; both the button and the checkbox will be hidden, and the tiddler will simply refresh periodically at the interval given by the third parameter.&quot;}&lt;/data&gt;</pre>
</div>
<div title="RefreshTiddler" modifier="giffmex" created="200709112148" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Link that forces a refresh of the current tiddler.&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="RefreshTiddlerPlugin" modifier="giffmex" modified="200709011446" created="200709011318" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob Denny (Red Mt. Vista)&quot;,&quot;link&quot;:&quot;http://solo.dc3.com/tw/#%5B%5BMy%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.0.11, 2.1.0&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;This macro provides a tiddler with refresh control. Why would you want this? Perhaps for a webcam feed which is updated every 15, 30, 60 secs etc... or RSS feed from an active news site etc. At a minimum, a refresh button appears at the location of the macro invocation. Clicking this button causes the contents of the tiddler to be refreshed. Optionally, a checkbox may also be displayed with which the user can enable and disable automatic periodic refresh of the tiddler at a specified interval.&quot;}&lt;/data&gt;</pre>
</div>
<div title="RelatedTiddlersPlugin" modifier="giffmex" modified="200709031258" created="200709031257" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Starting from a selected tiddler, display a list and/or tree of linked or transcluded tiddlers.&quot;}&lt;/data&gt;</pre>
</div>
<div title="RelativeLinkMacro" modifier="giffmex" created="200709051236" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Creates PrettyLinks relative to the current tiddler.&quot;,&quot;category&quot;:&quot;Links&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;author&quot;:&quot;FND&quot;,&quot;link&quot;:&quot;http://devpad.tiddlyspot.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="ReminderPlugin" modifier="giffmex" modified="200709032047" created="200709032046" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jeremy Sheeley&quot;,&quot;link&quot;:&quot;http://remindermacros.tiddlyspot.com/&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.0+&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;description&quot;:&quot;This plugin provides macros for tagging a date with a reminder. Use the reminder macro to do this. The showReminders and displayTiddlersWithReminder macros automatically search through all available tiddlers looking for upcoming reminders.&quot;}&lt;/data&gt;</pre>
</div>
<div title="RenameTag" modifier="tiddlyvault" modified="200712051348" created="200712051347" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Renames all occurrences of a tag.&quot;}&lt;/data&gt;</pre>
</div>
<div title="RenameTagsPlugin" modifier="giffmex" modified="200708302046" created="200708301933" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;twversion&quot;:&quot;2.2.1&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;description&quot;:&quot;Allows you to easily rename or delete tags across multiple tiddlers&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="ReplaceDoubleClick" modifier="giffmex" modified="200709120041" created="200709120040" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Uncategorized tools&quot;,&quot;description&quot;:&quot;Disable doubleclick-to-edit-tiddler or replace doubleclick with shift/ctrl/alt+singleclick.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ReplaceTiddlerTitle" modifier="giffmex" modified="200709112209" created="200709112208" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;description&quot;:&quot;Replace tiddler's title text with other content - may include wiki syntax.&quot;}&lt;/data&gt;</pre>
</div>
<div title="RescueRawTWContent" modifier="tiddlyvault" modified="200712051401" created="200712051354" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jeremy Ruston&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Behind the scenes&quot;,&quot;description&quot;:&quot;Opens a new window containing the raw content of the current document.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ResizeEditTextPlugin" modifier="giffmex" modified="200709092157" created="200709092156" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Adds a handle below the textarea of a tiddler, in edit mode, that the user can drag with the mouse to resize the textarea.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;twversion&quot;:&quot;2.1.2&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://soloport.tiddlyspot.com/#ExcludeTimelinePlugin&quot;,&quot;author&quot;:&quot;Jon Scully&quot;}&lt;/data&gt;</pre>
</div>
<div title="Revisions Plugin" modifier="giffmex" modified="200709011402" created="200709011401" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bradley Meck (~PeachTW)&quot;,&quot;link&quot;:&quot;http://bradleymeck.tiddlyspot.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;description&quot;:&quot;This plugin allows people to save multiple revisions of tiddlers and view the changes of tiddlers over time with the ability to restore previous versions of a tiddler.&quot;}&lt;/data&gt;</pre>
</div>
<div title="RevisionsPlugin" modifier="tiddlyvault" modified="200903281252" created="200903281247" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Willy de la Court&quot;,&quot;link&quot;:&quot;http://www.linux-lovers.be/RevisionsPlugin/#RevisionsPlugin&quot;,&quot;twversion&quot;:&quot;2.5&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;description&quot;:&quot;This plugin automatically creates revisions when saving.&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="RewritePlugin" modifier="giffmex" created="200709092250" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Automatically replace strings with others. The replacement string gets wikified as well, allowing for cascading rewrites. (No check for cycles, so watch out.) If you want to use a string that has a replacement rule, prefix it with a backslash.&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;author&quot;:&quot;Conal Elliott&quot;,&quot;link&quot;:&quot;http://journal.conal.net/#%5B%5Bsite%20map%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="RewritePlugin: Haskell" modifier="giffmex" modified="200709092249" created="200709092248" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Some rewrites to make math/Haskell notation look prettier and easier to write.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Conal Elliott&quot;,&quot;link&quot;:&quot;http://journal.conal.net/#%5B%5Bsite%20map%5D%5D&quot;}&lt;/data&gt;</pre>
</div>
<div title="RichTextPlugin" modifier="giffmex" modified="200709031920" created="200709031918" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Pascal&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;twversion&quot;:&quot;2.1.x&quot;,&quot;description&quot;:&quot;Integrate tinyMCE richtext editor in TiddlyWiki.&quot;,&quot;link&quot;:&quot;http://tiddlywiki.ouvaton.org/Demo.html#RichTextPlugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="RolloverPlugin" modifier="tiddlyvault" modified="200709161321" created="200709031939" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Frank Dellaert&quot;,&quot;link&quot;:&quot;http://www-static.cc.gatech.edu/~dellaert/dhtml/tiddly.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;A TiddlyWikiMacro that inserts an image with a rollover backup image. It takes three mandatory arguments: &lt;br&gt;&lt;br&gt;* a unique name to identify the img tag. If not unique, none of the rollover macros will work.&lt;br&gt;&lt;br&gt;* the default image&lt;br&gt;&lt;br&gt;* the secondary image&lt;br&gt;&lt;br&gt;and two optional arguments: &lt;br&gt;&lt;br&gt;* the url the image points to when clicked. If not given, the second image will be the target. &lt;br&gt;&lt;br&gt;* optional arguments passed to the image tag&quot;,&quot;category&quot;:&quot;Images and presentations&quot;}&lt;/data&gt;</pre>
</div>
<div title="RunMacroIfTagged" modifier="giffmex" modified="200709092129" created="200709092128" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;No clue what this does...&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;}&lt;/data&gt;</pre>
</div>
<div title="SEOTiddlyWikiPlugin" modifier="giffmex" modified="200709031916" created="200709031914" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Fabrice&quot;,&quot;link&quot;:&quot;http://www.superphysique.net/#%5B%5BSEO%20TiddlyWiki%20Plugin%5D%5D&quot;,&quot;description&quot;:&quot;I wrote this Search Engine Optimization plugin to improve TiddlyWiki website's ranking on Google, Yahoo, etc. Basically, it does two things:&lt;br&gt;&lt;br&gt;1) For each tiddler and each tag of this one, it creates a html file with the tiddler's content and named according to the tiddler's title. The html file is written in a way that it can be easily crawled by a search engine (short and with html format, notTiddlyWiki's format), but if it is opened (which will be the case if it appears in the results of a search engine), it redirects to the TiddlyWiki with the corresponding tiddler opened.&lt;br&gt;&lt;br&gt;2) It creates the sitemap.xml and urllist.txt files for Google and Yahoo which included generated html files.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="SHA-1UnwoundPlugin" modifier="giffmex" created="200709021242" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;SHA1UnwoundPlugin is a faster (but larger) SHA-1 hash algorithm with unwound loops.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;author&quot;:&quot;Martin Budden&quot;}&lt;/data&gt;</pre>
</div>
<div title="SQLQueryPlugin" modifier="giffmex" modified="200709120045" created="200709120044" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Query a SQL database (defined in SQLConfig) and display results in a tiddler.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SafeMode" modifier="tiddlyvault" modified="200712051352" created="200712051351" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Security&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;description&quot;:&quot;Reloads the current document in safe mode.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SaveAndReloadMacro" modifier="giffmex" modified="200709011729" created="200709011728" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Creates a button that saves and reloads your TW.&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SaveCloseTiddlerPlugin" modifier="giffmex" created="200709011751" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Provides two extra toolbar commands, saveCloseTiddler and cancelCloseTiddler.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="SaveFromWebPlugin" modifier="giffmex" modified="200709112117" created="200709112116" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Normally, when you are viewing a TiddlyWiki document over the web (i.e., not via file://) and you select the \&quot;save changes\&quot; (or \&quot;save to disk\&quot;) command, an error message is displayed: \&quot;You need to save this TiddlyWiki to a file before you can save changes.\&quot; This plugin extends the use of &lt;&lt;saveChanges&gt;&gt; so that when you are viewing and/or editing a remote TiddlyWiki document, instead of receiving this somewhat confusing and unhelpful message, you can still click the \&quot;save changes\&quot; (or \&quot;save to disk\&quot;) command to store a copy of the remote document directly onto your local filesystem, including any unsaved tiddler changes/additions you have made while working on-line. BETA/EXPERIMENTAL - USE WITH CAUTION - VERIFY ALL SAVED CHANGES - RETAIN BACKUPS.&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;}&lt;/data&gt;</pre>
</div>
<div title="SaveOnExitPlugin" modifier="giffmex" modified="200709031301" created="200709031300" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;As of TW 2.0.5, when exiting from a TW session with unsaved tiddler changes, an \&quot;onbeforeunload\&quot; event handler calls upon confirmExit() to display a message box with a warning message and options to stay on the current page or continue exiting and lose all changes.&lt;br&gt;&lt;br&gt;However, not all browsers support the use of the \&quot;onbeforeunload\&quot; event, so TW still supports the previous \&quot;onunload\&quot; event handler, which offers a \&quot;save-or-discard-before-exiting\&quot; option, but cannot stop the browser from exiting the TW session. Normally, when the newer confirmation message is used, the older message box is suppressed, so that only one confirmation message will be displayed.&lt;br&gt;&lt;br&gt;This plugin prevents the \&quot;Save or Discard\&quot; confirmation message from being suppressed, so that the 'save-on-exit' option is still available, even after responding to the default \&quot;Exit or Cancel\&quot; message. This double check procedure adds just a bit more \&quot;data safety\&quot; to the TW exit process.&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SaveTiddlerToFile" modifier="giffmex" modified="200709112225" created="200709112223" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Save tiddler SOURCE text to a local file.&quot;,&quot;category&quot;:&quot;Working with files and programs&quot;}&lt;/data&gt;</pre>
</div>
<div title="Saving and reviewing changes" modifier="giffmex" modified="200709011741" created="200709011404">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Saving and reviewing changes&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="Scientific Notation" modifier="giffmex" modified="200708302141" created="200708302129" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob McElrath (Bob's)&quot;,&quot;link&quot;:&quot;http://bob.mcelrath.org/plugins.html#systemConfig&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.03&quot;,&quot;category&quot;:&quot;Scientific and mathematical notation&quot;,&quot;description&quot;:&quot;This plugin will render numbers expressed in scientific notation, such as 3.5483e12 using the jsMath plugin to display it in an intuitive way such as 3551012 . You may customize the number of significant figures displayed, as well as \&quot;normalize\&quot; numbers so that 47392.387e9 is displayed as 4741013 .&quot;}&lt;/data&gt;</pre>
</div>
<div title="Scientific and mathematical notation" modifier="giffmex" modified="200708302228" created="200708302121">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Scientific and mathematical notation&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ScrollBox" modifier="giffmex" modified="200709112301" created="200709112300" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Navigating within a tiddler&quot;,&quot;description&quot;:&quot;Display the contents of a tiddler in a fixed-height scrolling area.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ScrollingTabsPlugin" modifier="giffmex" created="200709032122" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin will reel in those tabs on the side that stretch on forever. Basically, it makes the tabgroup fit the screen and/or the content (display area).&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://gwsyzygy.googlepages.com/creator.html&quot;,&quot;author&quot;:&quot;Greg Walker&quot;}&lt;/data&gt;</pre>
</div>
<div title="ScrubTiddlerFields" modifier="tiddlyvault" modified="200712051359" created="200712051354" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Deletes all extended fields from a TiddlyWiki. &quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;author&quot;:&quot;Jeremy Ruston&quot;}&lt;/data&gt;</pre>
</div>
<div title="SearchOptionsPlugin" modifier="giffmex" created="200709031236" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;This plugin adds checkboxes (see below and in AdvancedOptions) to let you selectively configure the TiddlyWiki search function to just examine any combination of tiddler titles, text, or tags. It also provides an option to switch the search results order between 'titles mixed in' (default) and 'titles shown first', as well as an option display the search results as a list of links (in an auto-generated \&quot;SearchResults\&quot; tiddler), rather than actually displaying all matching tiddlers. You can also enable/disable the \&quot;incremental search\&quot; (key-by-key searching), so that a search is only initiated when you press the ENTER key or click on the \&quot;search:\&quot; prompt text.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SearchOptionsPluginMG" modifier="MorrisGray" modified="200709122040" created="200709122036" tags="systemConfig msgray excludeLists excludeSearch">
<pre>/***
|''Name:''|SearchOptionsPlugin|
|''Source:''|http://www.TiddlyTools.com/#SearchOptionsPlugin|
|''Author:''|Eric Shulman - ELS Design Studios|
|''License:''|[[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|''~CoreVersion:''|2.0.10|

The TiddlyWiki search function normally looks in both tiddler titles and tiddler body content ('text').  However, narrowing the search so that it examines only titles or only text, or expanding the search to include text contained in tiddler tags can be very helpful, especially when searching on common words or phrases.  In addition, it is often useful for the search results to show tiddlers with matching titles before tiddlers that contain matching text or tags.

!!!!!Usage
&lt;&lt;&lt;
This plugin adds checkboxes (see below and in AdvancedOptions) to let you selectively configure the TiddlyWiki search function to just examine any combination of tiddler titles, text, or tags.  It also provides an option to switch the search results order between 'titles mixed in' (default) and 'titles shown first', as well as an option display the search results as a list of links (in an auto-generated &quot;SearchResults&quot; tiddler), rather than actually displaying all matching tiddlers.  You can also enable/disable the &quot;incremental search&quot; (key-by-key searching), so that a search is only initiated when you press the ENTER key or click on the &quot;search:&quot; prompt text.
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
In additional to the checkboxes in AdvancedOptions, a self-contained control panel is included here for your convenience:
&lt;&lt;option chkSearchTitles&gt;&gt; Search tiddler titles
&lt;&lt;option chkSearchText&gt;&gt; Search tiddler text
&lt;&lt;option chkSearchTags&gt;&gt; Search in tiddler tags
&lt;&lt;option chkSearchFields&gt;&gt; Search in tiddler data fields
&lt;&lt;option chkSearchShadows&gt;&gt; Search shadow tiddlers
&lt;&lt;option chkSearchTitlesFirst&gt;&gt; Show title matches first
&lt;&lt;option chkSearchList&gt;&gt; Show list of matching tiddlers
&lt;&lt;option chkSearchIncremental&gt;&gt; Incremental searching
&lt;&lt;&lt;
!!!!!Installation
&lt;&lt;&lt;
import (or copy/paste) the following tiddlers into your document:
''SearchOptionsPlugin'' (tagged with &lt;&lt;tag systemConfig&gt;&gt;)
^^documentation and javascript for SearchOptionsPlugin handling^^

When installed, this plugin automatically adds checkboxes in the AdvancedOptions shadow tiddler so you can enable/disable the extended search behavior.  However, if you have customized your AdvancedOptions, you will need to manually add {{{&lt;&lt;option chkSearchTitles&gt;&gt;}}},  {{{&lt;&lt;option chkSearchText&gt;&gt;}}} and {{{&lt;&lt;option chkSearchTitlesFirst&gt;&gt;}}}  (with suitable prompt text) to your customized tiddler.
&lt;&lt;&lt;
!!!!!Revision History
&lt;&lt;&lt;
''2007.01.17 [mgray]'' disabled 'no search on empty box' by adding Alert to doSearch() from older version.
''2006.10.10 [2.4.0]'' added support for &quot;search in tiddler data&quot; (tiddler.fields)  Default is to search extended data.
''2006.04.06 [2.3.0]'' added support for &quot;search in shadow tiddlers&quot;.  Default is *not* to search in the shadows (i.e.standard TW behavior).  Note: if a shadow tiddler has a 'real' counterpart, only the real tiddler is searched, since the shadow is inaccessible for viewing/editing.
''2006.02.03 [2.2.1]'' rewrite timeout clearing code and blank search text handling to match 2.0.4 core release changes.  note that core no longer permits &quot;blank=all&quot; searches, so neither does this plugin.  To search for all, use &quot;.&quot; with text patterns enabled.
''2006.02.02 [2.2.0]'' in search.handler(), KeyHandler() function clears 'left over' timeout when search input is &lt; 3 chars.  Prevents searching on shorter text when shortened by rapid backspaces (&lt;500msec)
''2006.02.01 [2.1.9]'' in Story.prototype.search(), correct inverted logic for using/not using regular expressions when searching
also, blank search text now presents &quot;No search text.  Continue anyway?&quot; confirm() message box, so search on blank can still be processed if desired by user.
''2006.02.01 [2.1.8]'' in doSearch(), added alert/return if search text is blank
''2006.01.20 [2.1.7]'' fixed setting of config.macros.search.reportTitle so that Tweaks can override it.
''2006.01.19 [2.1.6]'' improved SearchResults formatting, added a &quot;search again&quot; form to the report (based on a suggestion from MorrisGray)
define results report title using config.macros.search.reportTitle instead of hard-coding the tiddler title
''2006.01.18 [2.1.5]'' Created separate functions for reportSearchResults(text,matches) and discardSearchResults(), so that other developers can create alternative report generators.
''2006.01.17 [2.1.4]'' Use regExp.search() instead of regExp.test() to scan for matches.  Correctd the problem where only half the matching tiddlers (the odd-numbered ones) were being reported.
''2006.01.15 [2.1.3]'' Added information (date/time, username, search options used) to SearchResults output
''2006.01.10 [2.1.2]'' use displayTiddlers() to render matched tiddlers.  This lets you display multiple matching tiddlers, even if SinglePageModePlugin is enabled.
''2006.01.08 [2.1.1]'' corrected invalid variable reference, &quot;txt.value&quot; to &quot;text&quot; in story.search()
''2006.01.08 [2.1.0]'' re-write to match new store.search(), store.search.handler() and story.search() functions.
''2005.12.30 [2.0.0]'' Upgraded to TW2.0
when rendering SearchResults tiddler, closeTiddler() first to ensure display is refreshed.
''2005.12.26 [1.4.0]'' added option to search for matching text in tiddler tags
''2005.12.21 [1.3.7]'' use \\ to 'escape' single quotes in tiddler titles when generating &quot;Open all matching tiddlers&quot; link.  Also, added access key: &quot;O&quot;, to trigger &quot;open all&quot; link.
Based on a suggestion by UdoBorkowski.
''2005.12.18 [1.3.6]'' call displayMessage() AFTER showing matching tiddlers so message is not cleared too soon
''2005.12.17 [1.3.5]'' if no matches found, just display message and delete any existing SearchResults tiddler.
''2005.12.17 [1.3.4]'' use {/%%/{/%%/{  and }/%%/}/%%/} to 'escape' display text in SearchResults tiddler to ensure that formatting contained in search string is not rendered 
Based on a suggestion by UdoBorkowski.
''2005.12.14 [1.3.3]'' tag SearchResults tiddler with 'excludeSearch' so it won't list itself in subsequent searches
Based on a suggestion by UdoBorkowski.
''2005.12.14 [1.3.2]'' added &quot;open all matching tiddlers...&quot; link to search results output.
Based on a suggestion by UdoBorkowski.
''2005.12.10 [1.3.1]'' added &quot;discard search results&quot; link to end of search list tiddler output for quick self-removal of 'SearchResults' tiddler.
''2005.12.01 [1.3.0]'' added chkSearchIncremental to enable/disable 'incremental' searching (i.e., search after each keystroke) (default is ENABLED).
added handling for Enter key so it can be used to start a search.
Based on a suggestion by LyallPearce
''2005.11.25 [1.2.1]'' renamed from SearchTitleOrTextPlugin to SearchOptionsPlugin
''2005.11.25 [1.2.0]'' added chkSearchList option
Based on a suggestion by RodneyGomes
''2005.10.19 [1.1.0]'' added chkSearchTitlesFirst option.
Based on a suggestion by ChristianHauck
''2005.10.18 [1.0.0]'' Initial Release
Based on a suggestion by LyallPearce.
&lt;&lt;&lt;
!!!!!Credits
&lt;&lt;&lt;
This feature was developed by EricShulman from [[ELS Design Studios|http:/www.elsdesign.com]].
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.SearchTitleOrText = {major: 2, minor: 4, revision: 0, date: new Date(2006,10,12)};
//}}}

//{{{
if (config.options.chkSearchTitles==undefined) config.options.chkSearchTitles=true;
if (config.options.chkSearchText==undefined) config.options.chkSearchText=true;
if (config.options.chkSearchTags==undefined) config.options.chkSearchTags=true;
if (config.options.chkSearchFields==undefined) config.options.chkSearchFields=true;
if (config.options.chkSearchTitlesFirst==undefined) config.options.chkSearchTitlesFirst=false;
if (config.options.chkSearchList==undefined) config.options.chkSearchList=false;
if (config.options.chkSearchIncremental==undefined) config.options.chkSearchIncremental=true;
if (config.options.chkSearchShadows==undefined) config.options.chkSearchShadows=false;

config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchTitles&gt;&gt; Search in tiddler titles&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchText&gt;&gt; Search in tiddler text&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchTags&gt;&gt; Search in tiddler tags&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchFields&gt;&gt; Search in tiddler data fields&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchShadows&gt;&gt; Search in shadow tiddlers&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchTitlesFirst&gt;&gt; Search results show title matches first&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchList&gt;&gt; Search results show list of matching tiddlers&quot;;
config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkSearchIncremental&gt;&gt; Incremental searching&quot;;
//}}}

//{{{
if (config.macros.search.reportTitle==undefined)
	config.macros.search.reportTitle=&quot;SearchResults&quot;;
//}}}

//{{{
config.macros.search.handler = function(place,macroName,params)
{
	var lastSearchText = &quot;&quot;;
	var searchTimeout = null;
	var doSearch = function(txt)
		{
		if (!txt.value.length &amp;&amp; !confirm(&quot;No search text.  Continue anyway?&quot;)) { txt.focus(); return; }
			{
			story.search(txt.value,config.options.chkCaseSensitiveSearch,config.options.chkRegExpSearch);
			lastSearchText = txt.value;
			}
		};
	var clickHandler = function(e)
		{
		doSearch(this.nextSibling);
		return false;
		};
	var keyHandler = function(e)
		{
		if (!e) var e = window.event;
		switch(e.keyCode)
			{
			case 13: // ELS: handle enter key
				doSearch(this);
				break;
			case 27:
				this.value = &quot;&quot;;
				clearMessage();
				break;
			}
		if (config.options.chkSearchIncremental)
			{
			if(this.value.length &gt; 2)
				{
				if(this.value != lastSearchText)
					{
					if(searchTimeout) clearTimeout(searchTimeout);
					var txt = this;
					searchTimeout = setTimeout(function() {doSearch(txt);},500);
					}
				}
			else
				if(searchTimeout) clearTimeout(searchTimeout);
			}
		};
	var focusHandler = function(e)
		{
		this.select();
		};
	var btn = createTiddlyButton(place,this.label,this.prompt,clickHandler);
	var txt = createTiddlyElement(place,&quot;input&quot;,null,null,null);
	if(params[0])
		txt.value = params[0];
	txt.onkeyup = keyHandler;
	txt.onfocus = focusHandler;
	txt.setAttribute(&quot;size&quot;,this.sizeTextbox);
	txt.setAttribute(&quot;accessKey&quot;,this.accessKey);
	txt.setAttribute(&quot;autocomplete&quot;,&quot;off&quot;);
	if(config.browser.isSafari)
		{
		txt.setAttribute(&quot;type&quot;,&quot;search&quot;);
		txt.setAttribute(&quot;results&quot;,&quot;5&quot;);
		}
	else
		txt.setAttribute(&quot;type&quot;,&quot;text&quot;);
}
//}}}

//{{{
Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	highlightHack = new RegExp(useRegExp ? text : text.escapeRegExp(),useCaseSensitive ? &quot;mg&quot; : &quot;img&quot;);
	var matches = store.search(highlightHack,&quot;title&quot;,&quot;excludeSearch&quot;);
	var q = useRegExp ? &quot;/&quot; : &quot;'&quot;;
	clearMessage();
	if (!matches.length) {
		if (config.options.chkSearchList) discardSearchResults();
		displayMessage(config.macros.search.failureMsg.format([q+text+q]));
	} else {
		if (config.options.chkSearchList) 
			reportSearchResults(text,matches);
		else {
			var titles = []; for(var t=0; t&lt;matches.length; t++) titles.push(matches[t].title);
			this.closeAllTiddlers(); story.displayTiddlers(null,titles);
			displayMessage(config.macros.search.successMsg.format([matches.length, q+text+q]));
		}
	}
	highlightHack = null;
}
//}}}

//{{{
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag)
{
	var candidates = this.reverseLookup(&quot;tags&quot;,excludeTag,false,sortField);

	// scan for matching titles first...
	var results = [];
	if (config.options.chkSearchTitles) {
		for(var t=0; t&lt;candidates.length; t++)
			if(candidates[t].title.search(searchRegExp)!=-1)
				results.push(candidates[t]);
		if (config.options.chkSearchShadows)
			for (var t in config.shadowTiddlers)
				if ((t.search(searchRegExp)!=-1) &amp;&amp; !store.tiddlerExists(t))
					results.push((new Tiddler()).assign(t,config.shadowTiddlers[t]));
	}
	// then scan for matching text, tags, or field data
	for(var t=0; t&lt;candidates.length; t++) {
		if (config.options.chkSearchText &amp;&amp; candidates[t].text.search(searchRegExp)!=-1)
			results.pushUnique(candidates[t]);
		if (config.options.chkSearchTags &amp;&amp; candidates[t].tags.join(&quot; &quot;).search(searchRegExp)!=-1)
			results.pushUnique(candidates[t]);
		if (config.options.chkSearchFields &amp;&amp; store.forEachField!=undefined) // requires TW2.1 or above
			store.forEachField(candidates[t],
				function(tid,field,val) { if (val.search(searchRegExp)!=-1) results.pushUnique(candidates[t]); },
				true); // extended fields only
	}
	// then check for matching text in shadows
	if (config.options.chkSearchShadows)
		for (var t in config.shadowTiddlers)
			if ((config.shadowTiddlers[t].search(searchRegExp)!=-1) &amp;&amp; !store.tiddlerExists(t))
				results.pushUnique((new Tiddler()).assign(t,config.shadowTiddlers[t]));

	// if not 'titles first',  re-sort results to so titles, text, tag and field matches are mixed together
	if(!sortField) sortField = &quot;title&quot;;
	var bySortField=function (a,b) {if(a[sortField] == b[sortField]) return(0); else return (a[sortField] &lt; b[sortField]) ? -1 : +1; }
	if (!config.options.chkSearchTitlesFirst) results.sort(bySortField);

	return results;
}
//}}}

// // ''REPORT GENERATOR''
//{{{
if (!window.reportSearchResults) window.reportSearchResults=function(text,matches)
{
	var title=config.macros.search.reportTitle
	var q = config.options.chkRegExpSearch ? &quot;/&quot; : &quot;'&quot;;
	var body=&quot;\n&quot;;

	// summary: nn tiddlers found matching '...', options used
	body+=&quot;''&quot;+config.macros.search.successMsg.format([matches.length,q+&quot;{{{&quot;+text+&quot;}}}&quot;+q])+&quot;''\n&quot;;
	body+=&quot;^^//searched in:// &quot;;
	body+=(config.options.chkSearchTitles?&quot;''titles'' &quot;:&quot;&quot;);
	body+=(config.options.chkSearchText?&quot;''text'' &quot;:&quot;&quot;);
	body+=(config.options.chkSearchTags?&quot;''tags'' &quot;:&quot;&quot;);
	body+=(config.options.chkSearchFields?&quot;''fields'' &quot;:&quot;&quot;);
	body+=(config.options.chkSearchShadows?&quot;''shadows'' &quot;:&quot;&quot;);
	if (config.options.chkCaseSensitiveSearch||config.options.chkRegExpSearch) {
		body+=&quot; //with options:// &quot;;
		body+=(config.options.chkCaseSensitiveSearch?&quot;''case sensitive'' &quot;:&quot;&quot;);
		body+=(config.options.chkRegExpSearch?&quot;''text patterns'' &quot;:&quot;&quot;);
	}
	body+=&quot;^^&quot;;

	// numbered list of links to matching tiddlers
	body+=&quot;\n&lt;&lt;&lt;&quot;;
	for(var t=0;t&lt;matches.length;t++) body+=&quot;\n# [[&quot;+matches[t].title+&quot;]]&quot;;
	body+=&quot;\n&lt;&lt;&lt;\n&quot;;

	// open all matches button
	body+=&quot;&lt;html&gt;&lt;input type=\&quot;button\&quot; href=\&quot;javascript:;\&quot; &quot;;
	body+=&quot;onclick=\&quot;story.displayTiddlers(null,[&quot;
	for(var t=0;t&lt;matches.length;t++)
		body+=&quot;'&quot;+matches[t].title.replace(/\'/mg,&quot;\\'&quot;)+&quot;'&quot;+((t&lt;matches.length-1)?&quot;, &quot;:&quot;&quot;);
	body+=&quot;],1);\&quot; &quot;;
	body+=&quot;accesskey=\&quot;O\&quot; &quot;;
	body+=&quot;value=\&quot;open all matching tiddlers\&quot;&gt;&lt;/html&gt; &quot;;

	// discard search results button
	body+=&quot;&lt;html&gt;&lt;input type=\&quot;button\&quot; href=\&quot;javascript:;\&quot; &quot;;
	body+=&quot;onclick=\&quot;story.closeTiddler('&quot;+title+&quot;'); store.deleteTiddler('&quot;+title+&quot;'); store.notify('&quot;+title+&quot;',true);\&quot; &quot;;
	body+=&quot;value=\&quot;discard &quot;+title+&quot;\&quot;&gt;&lt;/html&gt;&quot;;

	// search again
	body+=&quot;\n\n----\n&quot;;
	body+=&quot;&lt;&lt;search \&quot;&quot;+text+&quot;\&quot;&gt;&gt; &quot;;
	body+=&quot;&lt;&lt;option chkSearchTitles&gt;&gt;titles &quot;;
	body+=&quot;&lt;&lt;option chkSearchText&gt;&gt;text &quot;;
	body+=&quot;&lt;&lt;option chkSearchTags&gt;&gt;tags&quot;;
	body+=&quot;&lt;&lt;option chkSearchFields&gt;&gt;fields&quot;;
	body+=&quot;&lt;&lt;option chkSearchShadows&gt;&gt;shadows&quot;;
	body+=&quot;&lt;&lt;option chkCaseSensitiveSearch&gt;&gt;case-sensitive &quot;;
	body+=&quot;&lt;&lt;option chkRegExpSearch&gt;&gt;text patterns&quot;;

	// create/update the tiddler
	var tiddler=store.getTiddler(title); if (!tiddler) tiddler=new Tiddler();
	tiddler.set(title,body,config.options.txtUserName,(new Date()),&quot;excludeLists excludeSearch&quot;);
	store.addTiddler(tiddler); story.closeTiddler(title);

	// use alternate &quot;search again&quot; label in &lt;&lt;search&gt;&gt; macro
	var oldprompt=config.macros.search.label;
	config.macros.search.label=&quot;search again&quot;;

	// render/refresh tiddler
	story.displayTiddler(null,title,1);
	store.notify(title,true);

	// restore standard search label
	config.macros.search.label=oldprompt;

}

if (!window.discardSearchResults) window.discardSearchResults=function()
{
	// remove the tiddler
	story.closeTiddler(config.macros.search.reportTitle);
	store.deleteTiddler(config.macros.search.reportTitle);
}
//}}}</pre>
</div>
<div title="Searching and indexing tiddlers" modifier="tiddlyvault" modified="200804131650" created="200708302142" changecount="1">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Searching and indexing tiddlers&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="SectionMacro" modifier="giffmex" created="200709030043" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Allows you to create collapsable sections just like the slider macro but without needing to create new tiddlers for these sections.&quot;,&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;}&lt;/data&gt;</pre>
</div>
<div title="Security" modifier="tiddlyvault" modified="200804131653" created="200708302143" changecount="2">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Security&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="SelectPalettePlugin" modifier="giffmex" modified="200708302155" created="200708302154" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;Lets you easily change colour palette&quot;,&quot;category&quot;:&quot;Colors&quot;}&lt;/data&gt;</pre>
</div>
<div title="SelectStylesheetPlugin" modifier="giffmex" modified="200708302329" created="200708302328" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;description&quot;:&quot;Select alternative TiddlyWiki template/stylesheet 'themes' from a droplist.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SelectThemePlugin" modifier="giffmex" modified="200708302200" created="200708302159" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;description&quot;:&quot;On the fly switching between various TW layouts (themes).&quot;,&quot;twversion&quot;:&quot;2.x&quot;}&lt;/data&gt;</pre>
</div>
<div title="Send plugin" modifier="giffmex" modified="200709042157" created="200709042156" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This framework allows you to easily create macros that produce links referring to the current tiddler.&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://yann.perrin.googlepages.com/twkd.html&quot;,&quot;author&quot;:&quot;Yann Perrin&quot;}&lt;/data&gt;</pre>
</div>
<div title="SendTiddlerPlugin" modifier="giffmex" created="200709112114" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Adds sendTiddler toolbar command to submit individual tiddler source content to remote URLs for server-side processing. Useful for posting tiddler content to on-line blog services or custom-built server-side storage mechanisms.&quot;,&quot;category&quot;:&quot;Uploading TiddlyWikis to a server&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SetDefaultTiddlers" modifier="giffmex" modified="200709112228" created="200709112225" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Set contents of DefaultTiddlers list to match currently displayed tiddlers.&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;}&lt;/data&gt;</pre>
</div>
<div title="SetTiddlerBackground" modifier="giffmex" modified="200709112138" created="200709051328" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Set tiddler background and font color CSS attributes.&quot;,&quot;category&quot;:&quot;Other style changes&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SetTiddlerColumns" modifier="giffmex" modified="200709051330" created="200709051329" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Use CSS3 \&quot;-moz-column-count\&quot; to set single or multi-column tiddler layout.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SetTiddlerHeight" modifier="giffmex" modified="200709051331" created="200709051330" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Use CSS to set a fixed height for each tiddler.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SetUserName" modifier="tiddlyvault" modified="200712051347" created="200712051346" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Changes all tiddlers’ “modifier” to the specified value.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SetUserNamePlugin" modifier="giffmex" modified="200709112113" created="200709112112" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;If you are using the default (shadow) EditTemplate definition, it will be updated to invoke this macro, so that whenever a user attempts to edit/create a tiddler AND the username is \&quot;YourName\&quot;, they will be automatically prompted to enter a new username.&quot;,&quot;category&quot;:&quot;Security&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SettingsPlugin" modifier="giffmex" created="200709011530" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.0.7&quot;,&quot;category&quot;:&quot;Working with multiple TiddlyWikis&quot;,&quot;description&quot;:&quot;Manage your option settings' scope: keep settings private to a TiddlyWiki or share them with other TiddlyWikis.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowAllByTags" modifier="giffmex" created="200709112132" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;For each tag, show a numbered list of all tiddlers with that tag.&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowAllPermalinks" modifier="giffmex" modified="200709112134" created="200709112133" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;Generate a list containing permalinks for every tiddler in the document.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowClockMacro" modifier="giffmex" modified="200708311222" created="200708311221" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;description&quot;:&quot;Shows clock, including options for other time zones.&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowCurrentDirectory" modifier="giffmex" modified="200709051333" created="200709051332" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Show local filesystem directory using an IFRAME.&quot;,&quot;category&quot;:&quot;Working with files and programs&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowDateTime" modifier="giffmex" modified="200709051335" created="200709051334" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;description&quot;:&quot;Display current date, linked to moveable floating panel containing flash-based analog clock.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowExampleMacro" modifier="giffmex" created="200709092131" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This is a little utility useful for demonstrating markup and macro usage. There are two versions, one puts the example code and the wikified output in two columns of a table. The other puts the example code above the wikified output. Use \\ to escape &gt; for closing macros.&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowParamsMacro" modifier="giffmex" modified="200709120046" created="200709120045" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Uncategorized tools&quot;,&quot;description&quot;:&quot;Simply lists the parameters it is given. Used for testing named params.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowSlices" modifier="giffmex" created="200709112253" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;View values for all tiddler slices.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowTiddlerInfo" modifier="giffmex" modified="200709112245" created="200709112244" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Where 'TiddlerName' is any existing tiddler and 'ClipMarker' (optional) is a unique text string for delimiting the end of the clip.  Embed the clip marker in a tiddler (using a TW comment so it doesn't appear in that tiddler when displayed).  The script will display the tiddler source content up to the marker.&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowTiddlerStatistics" modifier="giffmex" modified="200709112247" created="200709112246" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Statistics&quot;,&quot;description&quot;:&quot;Display document summary / tiddler stats (newest, oldest, largest, smallest, etc.).&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowUpdatesPlugin" modifier="giffmex" created="200709011722" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;List updates to a TW since the users last visit&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ShowUserName" modifier="giffmex" modified="200709112252" created="200709112251" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Displays current username, Click for prompt box to change name.&quot;,&quot;category&quot;:&quot;Security&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SideBarOptions" modifier="YourName" modified="200710062104" created="200708301820" tags="msgray killbookmark" changecount="2">
<pre>&lt;&lt;tiddler TWHelpSearchBox&gt;&gt;
&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;newTiddler label:'new plugin' text:{{&quot;&lt;&lt;formTiddler NewPluginTemplateInput\&gt;\&gt;&quot;}} tag:&quot;list&quot;&gt;&gt;&lt;&lt;newJournal &quot;DD MMM YYYY&quot;&gt;&gt;&lt;&lt;upload http://tiddlyvault.tiddlyspot.com/store.cgi index.html . .  tiddlyvault&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&lt;&lt;slider chkSliderOptionsPanel OptionsPanel &quot;options »&quot; &quot;Change TiddlyWiki advanced options&quot;&gt;&gt;</pre>
</div>
<div title="Siglets" modifier="giffmex" modified="200709051252" created="200709051251" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Siglets are bits of CSS code that correspond to a specific tag. In the sidebar at left, the small colored squares are siglets generated from the first tag of each tiddler, note how the color is preserved in the Tiddler title, and the body as well. The shape is preserved across the sidebars and the popups, and the color is preserved everywhere. Using many colors and shapes helps your brain to develop associations faster, as well as makes it easier to scan the page for important information (e.g. TODO entries).&lt;br&gt;&lt;br&gt;Siglets help you keep track of some kind type or class information associated with a certain Tiddly entry, for example a TODO item tiddly, or a tiddly about Work, etc. They allow you to quickly scan a list of tiddlys and pick out what is necessary for a certain task. For example you can tag TODO tiddlies with an obnoxious color so that you make them want to go away.&quot;,&quot;category&quot;:&quot;Colors&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;link&quot;:&quot;http://www.cs.utexas.edu/~joeraii/siglet/&quot;,&quot;author&quot;:&quot;Joeraii&quot;}&lt;/data&gt;</pre>
</div>
<div title="Simile Timeline (Martin's)" modifier="giffmex" modified="200709092052" created="200709092051" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com/timeline/&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2 or better&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;description&quot;:&quot;Another timeline!&quot;}&lt;/data&gt;</pre>
</div>
<div title="SimileTimelineBundle" modifier="giffmex" modified="200708311216" created="200708311213" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Dawn Ahukanna&quot;,&quot;link&quot;:&quot;http://project.dahukanna.net/tiddlywiki/timeline/sampletimeline220b5.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;description&quot;:&quot;A really cool timeline for ~TiddlyWiki.&quot;,&quot;twversion&quot;:&quot;2.2.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="Simple2" modifier="giffmex" modified="200709031912" created="200709031911" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Ocat&quot;,&quot;link&quot;:&quot;http://oldcat.googlegroups.com/web/Simple2.html&quot;,&quot;format&quot;:&quot;Theme&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;description&quot;:&quot;A TiddlyWiki theme with a focus on readability.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SimpleClockPlugin" modifier="giffmex" modified="200708310310" created="200708310309" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;twversion&quot;:&quot;2.2&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;A simple clock.&quot;,&quot;category&quot;:&quot;Time and calendars&quot;}&lt;/data&gt;</pre>
</div>
<div title="SinglePageModePlugin" modifier="giffmex" modified="200709112112" created="200709112110" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;SinglePageMode allows you to configure TiddlyWiki to navigate more like a traditional multipage web site with only one item displayed at a time. When SinglePageMode is enabled, the title of the current tiddler is automatically displayed in the browser window's titlebar and the browser's location URL is updated with a 'permalink' for the current tiddler so that it is easier to create a browser 'bookmark' for the current tiddler.&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;}&lt;/data&gt;</pre>
</div>
<div title="SiteMapMacro" modifier="giffmex" modified="200709092133" created="200709092132" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Creates a nice sitemap of your file's tiddlers.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SiteSubtitle" modifier="giffmex" modified="200709032211" created="200708302018">
<pre>An index of ~TiddlyWiki extensions from http://www.giffmex.org
</pre>
</div>
<div title="SiteTitle" modifier="giffmex" modified="200708311251" created="200708302018">
<pre>~TiddlyVault</pre>
</div>
<div title="SiteUrl" modifier="YourName" modified="200710042108" created="200709011430" changecount="1">
<pre>http://tiddlyvault.tiddlyspot.com/</pre>
</div>
<div title="SliceGridPlugin" modifier="giffmex" created="200709112109" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Generate a \&quot;slice grid\&quot; table to get an instant 'birds-eye' overview of your entire document. BETA - should be OK, but may contain bugs - use as your own risk&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;2.1.3&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SlideShowPlugin" modifier="giffmex" modified="200709031318" created="200709031317" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin turns a TiddlyWiki tiddler into a simple slide show type display. You can have looping, timed or themed slide shows. It should work in a way that does not interfere with TiddlyWiki. When you close the slide show you get back to your good old TW. This is joint work with Clint Checketts.&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;author&quot;:&quot;Paulo Soares&quot;,&quot;link&quot;:&quot;http://www.math.ist.utl.pt/~psoares/addons.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="Slider2Plugin" modifier="giffmex" modified="200708311314" created="200708311313" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Menus and sliders&quot;,&quot;description&quot;:&quot;A slider for ~TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SliderFrame" modifier="giffmex" modified="200709051337" created="200709051336" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;description&quot;:&quot;Simple embedded IFRAME for specified URL with back/forward navigation.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Smart Quotes" modifier="giffmex" created="200709092222" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;</pre>
</div>
<div title="Smart quotes" modifier="giffmex" created="200709032149" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Conal Elliott&quot;,&quot;link&quot;:&quot;http://journal.conal.net/#%5B%5Bsite%20map%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;Turn regular quotes into “curly quotes”. Or backslashify to get \&quot;straight quotes\&quot;.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Smiley" modifier="giffmex" modified="200709031328" created="200709031327" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jeremy Harper&quot;,&quot;link&quot;:&quot;http://www.blogjones.com/TiddlyWikiTutorial.html#smiley&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Icons&quot;,&quot;description&quot;:&quot;The smiley images are embedded in the code and created 'on the fly.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SocialBookmark Plugin" modifier="giffmex" modified="200709042156" created="200709042154" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This macro will produce links to most of the social bookmarking sites. These will allow for quick posting of the current tiddler.&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;author&quot;:&quot;Yann Perrin&quot;,&quot;link&quot;:&quot;http://yann.perrin.googlepages.com/twkd.html&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="SocialTextFormatterPlugin" modifier="giffmex" modified="200709011610" created="200709011609" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This is the SocialtextFormatterPlugin, which allows you to insert Socialtext formated text into a TiddlyWiki.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="SocialtextAdaptorPlugin" modifier="giffmex" modified="200709021240" created="200709021239" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Adaptor for moving and converting data to and from Socialtext Wikis.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;twversion&quot;:&quot;2.2&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;author&quot;:&quot;Martin Budden&quot;}&lt;/data&gt;</pre>
</div>
<div title="SortableGridPlugin" modifier="giffmex" modified="200709011328" created="200709011327" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob Denny (Red Mt. Vista)&quot;,&quot;link&quot;:&quot;http://solo.dc3.com/tw/#%5B%5BMy%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.0.11 and 2.1.x&quot;,&quot;category&quot;:&quot;Tables&quot;,&quot;description&quot;:&quot;Additional authors: Stuart Langridge, Demian Johnson.&lt;br&gt;This plugin provides live sorting of tables by clicking on a column header. To sort in reverse, click the same column header a second time. An arrow in the sort column shows the direction of sorting.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SpiderMenuPlugin" modifier="giffmex" modified="200709011536" created="200709011535" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;? (VisualTW)&quot;,&quot;link&quot;:&quot;http://visualtw.ouvaton.org/VisualTW.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Display menus to browse through tiddler links and references.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SplashScreenPlugin" modifier="giffmex" modified="200709011549" created="200708302158" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.08&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;description&quot;:&quot;Provides a simple splash screen that is visible while the TW is loading.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Statistics" modifier="giffmex" created="200709112243">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Statistics&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="StatisticsMacro" modifier="giffmex" modified="200709042227" created="200709042224" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Behind the scenes&quot;,&quot;description&quot;:&quot;No clue what this does. Comes from a Russian site. I'm assuming it gives you statistics for a tiddler or for the file.&quot;,&quot;author&quot;:&quot;Unknown&quot;,&quot;link&quot;:&quot;http://fire.atspace.org/&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="StepWiseNavigation" modifier="giffmex" modified="200709092134" created="200709092133" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Keep just two tiddlers open a time, the one you clicked on and the one containing the link you just clicked.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.x&quot;}&lt;/data&gt;</pre>
</div>
<div title="StickyDatePlugin" modifier="giffmex" modified="200709031949" created="200709031947" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This is a simple plugin and a macro that allow you to set an arbitrary and permanent modified date to a Tiddler.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Rodrigo Fonseca&quot;,&quot;link&quot;:&quot;http://paularodrigo.homeip.net/stickydate.html#StickyDatePlugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="StyleSheet" modifier="MorrisGray" modified="200709130246" created="200709122050" tags="msgray killbookmark" author="Simon Baird" link="http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D" category="Formatting compatibility with other programs">
<pre>/*{{{*/

[[TWHelpStyle]]


.bold {
font-weight: bold;
}

.colory {
font-weight: bold; color: #bb3333;
}

.whitetext{
color: white;
}

.large {
font-size: 1.5em;
}

.tuduSlider .button{ display: block; color: #eeeeff; text-align: left;
font-weight: bold;
border-top: solid 1px #bbb;
border-left: solid 1px #bbb;
border-right: solid 1px #888;
border-bottom: solid 1px #888;
background: #550099;
margin-left: -0.3em;
padding: 0 1px 1px 20px;
}

.tuduSlider .button:hover{
border-top: solid 1px #777;
border-left: solid 1px #777;
border-right: solid 1px #bbb;
border-bottom: solid 1px #bbb;
background: #888;
padding: 1px 0 0 21px;
}

#mainMenu {text-align:left; font-size: 1em;}



/* (2) Makes text verdana. */

body {
 font-family: verdana;
}


/* (5) Shortens the height of the Header */

.headerShadow {
 padding: 2em 0em 1em 1em;
}

.headerForeground {
 padding: 2em 0em 1em 1em;
}

/* (6) Widens the mainmenu and adds padding between right-aligned menu text and the right edge of the menu. */

#mainMenu {
 width: 20em;
 padding: 4em 2em 2em 0.5 em;
}

/* (7) Moves tiddler display area to the right to account for widened mainmenu */

#displayArea {
 margin: 0em 14.5em 0em 21em;
 padding: 4em 2em 2em 0.5 em;
}



/*}}}*/</pre>
</div>
<div title="StyleSheetAdjustments (TiddlyTools)" modifier="giffmex" modified="200709051311" created="200709051310" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;An assortment of CSS overlay to extend/enhance the TiddlyWiki default shadowed stylesheets.&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Theme&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="StyleSheetPlugins" modifier="giffmex" created="200709051313" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Theme&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;description&quot;:&quot;The following CSS declarations modify default style classes defined by various plugins and scripts, and/or used in customized Page/View/Edit templates.&quot;}&lt;/data&gt;</pre>
</div>
<div title="StyleSheetShortcuts (TiddlyTools)" modifier="giffmex" modified="200709051315" created="200709051314" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;CSS classes for common formatting, alignment, boxes, tables, etc.&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="StyleTester" modifier="giffmex" modified="200709112129" created="200709112127" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Other style changes&quot;,&quot;description&quot;:&quot;TidIDE: define and apply CSS \&quot;on the fly\&quot;.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SuperSafeMode" modifier="tiddlyvault" modified="200712051353" created="200712051352" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Reloads the current document in safe mode and reset all shadow tiddlers.&quot;,&quot;category&quot;:&quot;Security&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="SuppressEmptyTagsPlugin" modifier="giffmex" created="200709051242" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Suppress tagged box when tiddler is untagged.&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;FND&quot;,&quot;link&quot;:&quot;http://devpad.tiddlyspot.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="SuppressEmptyTagsPlugin " modifier="giffmex" modified="200709051244" created="200709051243" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;FND&quot;,&quot;link&quot;:&quot;http://devpad.tiddlyspot.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;Suppress tagged box when tiddler is untagged.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SyncOutlokNotes" modifier="giffmex" modified="200709042215" created="200709042214" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Working with files and programs&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;Synchronizes your entire ~TiddlyWiki with the Notes in your Outlook program.&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;link&quot;:&quot;http://syncoutlooknotes.tiddlyspot.com/#SyncOutlookNotes&quot;,&quot;author&quot;:&quot;Mike Miller&quot;}&lt;/data&gt;</pre>
</div>
<div title="SynchronizePlugin" modifier="giffmex" modified="200709032019" created="200709032018" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin lets you synchronize tiddlers with dfwiki pages of a moodle 1.6.X with the nwiki module installed. That is, exporting or importing from a moodle server depending on the last modification date, just by pressing a button.&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;author&quot;:&quot;Oriol Nieto , Alejandro Moreno, Dídac Calventus &amp; Ludo (Marc Alier)&quot;,&quot;link&quot;:&quot;http://moodle.tiddlyspot.com/&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.2&quot;}&lt;/data&gt;</pre>
</div>
<div title="Syntaxify" modifier="giffmex" modified="200708302141" created="200708302136" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;twversion&quot;:&quot;2.0.0&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://bob.mcelrath.org/plugins.html#systemConfig&quot;,&quot;author&quot;:&quot;Bob McElrath (Bob's)&quot;,&quot;category&quot;:&quot;Scientific and mathematical notation&quot;,&quot;description&quot;:&quot;Performs syntax highlighting on CSS, JavaScript, and HTML/XML.&quot;}&lt;/data&gt;</pre>
</div>
<div title="SyntaxifyPlugin: Haskell" modifier="giffmex" created="200709092247" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Add support for Haskell syntax highlighting, as an extension to SyntaxifyPlugin.&quot;,&quot;author&quot;:&quot;Conal Elliott&quot;,&quot;link&quot;:&quot;http://journal.conal.net/#%5B%5Bsite%20map%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;}&lt;/data&gt;</pre>
</div>
<div title="TWHelp-SearchResults" modifier="tiddlyvault" modified="200907281505" created="200710060541" tags="excludeLists excludeSearch killbookmark">
<pre>^^Search Adapter Compliments of http://twhelp.tiddlyspot.com^^

|&gt;|bgcolor(#eaeaea):@@color(#509):''136 tiddlers found matching 'tools'''@@|bgcolor(#509):  @@color(#fff): TW ver: &lt;&lt;version&gt;&gt;@@ |
|&gt;|&gt;|bgcolor(#eaeaea):@@color(#509):&lt;&lt;search&gt;&gt; &lt;&lt;option chkSearchTitles&gt;&gt; Titles &lt;&lt;option chkSearchText&gt;&gt; Text &lt;&lt;option chkSearchTags&gt;&gt;Tags &lt;&lt;option chkHoldSearches&gt;&gt; Hold @@|

|bgcolor(#509):&amp;nbsp;|bgcolor(#509): @@color(#fff):''Titles''@@ |bgcolor(#509): @@color(#fff): ''Size''@@ |bgcolor(#509): @@color(#fff): ''Tags''@@ |h
| 1|[[ASciencePad]]| 1214|@@list@@|
| 2|[[ASciencePad ]]| 1205|@@list@@|
| 3|[[AliasPlugin]]| 412|@@list@@|
| 4|[[AttachFilePlugin]]| 1107|@@list@@|
| 5|[[AutoRefresh]]| 321|@@list@@|
| 6|[[AutoTaggerPlugin]]| 360|@@list@@|
| 7|[[BackstageTweaks (TiddlyTools)]]| 208|@@list@@|
| 8|[[Blackout]]| 270|@@list@@|
| 9|[[BreadcrumbsPlugin (TiddlyTools)]]| 337|@@list@@|
| 10|[[BrightText]]| 261|@@list@@|
| 11|[[CalendarPlugin]]| 203|@@list@@|
| 12|[[CheckboxPlugin]]| 247|@@list@@|
| 13|[[ChecklistScript]]| 285|@@list@@|
| 14|[[CloseSlider]]| 296|@@list@@|
| 15|[[CollapseTiddlersPlugin]]| 276|@@list@@|
| 16|[[ColumnCalculatorPlugin]]| 291|@@list@@|
| 17|[[CommentScript]]| 293|@@list@@|
| 18|[[CompareTiddlers]]| 275|@@list@@|
| 19|[[CookieManagerPlugin]]| 299|@@list@@|
| 20|[[CopyTiddlerPlugin]]| 254|@@list@@|
| 21|[[CoreTweaks]]| 531|@@list@@|
| 22|[[CoreTweaksArchive]]| 282|@@list@@|
| 23|[[DOMTweaksPlugin]]| 301|@@list@@|
| 24|[[DatePlugin]]| 1026|@@list@@|
| 25|[[DeliciousPlayTaggerPlugin]]| 293|@@list@@|
| 26|[[DisableWikiLinksPlugin (TiddlyTools)]]| 552|@@list@@|
| 27|[[DisplayAllTiddlers]]| 308|@@list@@|
| 28|[[Edge of Night]]| 258|@@list@@|
| 29|[[EditFieldPlugin]]| 988|@@list@@|
| 30|[[EditTiddlerPlugin]]| 295|@@list@@|
| 31|[[ExpandSlidersScript]]| 290|@@list@@|
| 32|[[ExportTiddlersPlugin]]| 728|@@list@@|
| 33|[[FAQViewer]]| 277|@@list@@|
| 34|[[FoldFirst]]| 259|@@list@@|
| 35|[[GotoPlugin]]| 296|@@list@@|
| 36|[[HTMLFormattingPlugin]]| 277|@@list@@|
| 37|[[HideTiddlerBackground]]| 255|@@list@@|
| 38|[[HideTiddlerSubtitle]]| 262|@@list@@|
| 39|[[HideTiddlerTags]]| 257|@@list@@|
| 40|[[HideTiddlerTitle]]| 274|@@list@@|
| 41|[[HideTiddlerToolbar]]| 242|@@list@@|
| 42|[[ImagePathPlugin]]| 298|@@list@@|
| 43|[[ImportTiddlersPlugin]]| 678|@@list@@|
| 44|[[InlineJavascriptPlugin ]]| 532|@@list@@|
| 45|[[JavascriptShell]]| 278|@@list@@|
| 46|[[Language tools]]| 526|@@@@|
| 47|[[Let's Get Tanked!]]| 260|@@list@@|
| 48|[[ListboxPlugin]]| 285|@@list@@|
| 49|[[LoadTiddlersPlugin]]| 262|@@list@@|
| 50|[[MainMenu]]| 398|@@killbookmark,msgray@@|
| 51|[[MediaCenter]]| 297|@@list@@|
| 52|[[MiniBrowser]]| 348|@@list@@|
| 53|[[MoveablePanelPlugin]]| 368|@@list@@|
| 54|[[MyMacroMacro]]| 429|@@list@@|
| 55|[[NestedBrowserMacro]]| 225|@@list@@|
| 56|[[NestedSlidersPlugin]]| 322|@@list@@|
| 57|[[NewPluginTemplateInput]]| 7410|@@killbookmark@@|
| 58|[[NextTiddler]]| 316|@@list@@|
| 59|[[OpenMostRecentTiddler]]| 260|@@list@@|
| 60|[[OpenTaggedTiddlers]]| 245|@@list@@|
| 61|[[OpenTiddlers]]| 263|@@list@@|
| 62|[[Plain]]| 267|@@list@@|
| 63|[[PlayerPlugin]]| 247|@@list@@|
| 64|[[PopupTiddlersByAuthor]]| 279|@@list@@|
| 65|[[QuickEditToolbar]]| 317|@@list@@|
| 66|[[QuoteOfTheDayPlugin]]| 305|@@list@@|
| 67|[[RandomThemeChooser]]| 231|@@list@@|
| 68|[[RearrangeTiddlersPlugin]]| 281|@@list@@|
| 69|[[RecentChangesPlugin]]| 300|@@list@@|
| 70|[[RefreshTiddler]]| 267|@@list@@|
| 71|[[RelatedTiddlersPlugin]]| 315|@@list@@|
| 72|[[ReplaceDoubleClick]]| 299|@@list@@|
| 73|[[ReplaceTiddlerTitle]]| 283|@@list@@|
| 74|[[SaveFromWebPlugin]]| 990|@@list@@|
| 75|[[SaveOnExitPlugin]]| 1196|@@list@@|
| 76|[[SaveTiddlerToFile]]| 261|@@list@@|
| 77|[[ScrollBox]]| 283|@@list@@|
| 78|[[SearchOptionsPlugin]]| 892|@@list@@|
| 79|[[SelectStylesheetPlugin]]| 270|@@list@@|
| 80|[[SendTiddlerPlugin]]| 449|@@list@@|
| 81|[[SetDefaultTiddlers]]| 292|@@list@@|
| 82|[[SetTiddlerBackground]]| 261|@@list@@|
| 83|[[SetTiddlerColumns]]| 285|@@list@@|
| 84|[[SetTiddlerHeight]]| 256|@@list@@|
| 85|[[SetUserNamePlugin]]| 453|@@list@@|
| 86|[[ShowAllByTags]]| 260|@@list@@|
| 87|[[ShowAllPermalinks]]| 291|@@list@@|
| 88|[[ShowCurrentDirectory]]| 268|@@list@@|
| 89|[[ShowDateTime]]| 299|@@list@@|
| 90|[[ShowParamsMacro]]| 284|@@list@@|
| 91|[[ShowSlices]]| 255|@@list@@|
| 92|[[ShowTiddlerInfo]]| 527|@@list@@|
| 93|[[ShowTiddlerStatistics]]| 282|@@list@@|
| 94|[[ShowUserName]]| 260|@@list@@|
| 95|[[SinglePageModePlugin]]| 645|@@list@@|
| 96|[[SliceGridPlugin]]| 382|@@list@@|
| 97|[[SliderFrame]]| 294|@@list@@|
| 98|[[StyleSheetAdjustments (TiddlyTools)]]| 285|@@list@@|
| 99|[[StyleSheetPlugins]]| 345|@@list@@|
| 100|[[StyleSheetShortcuts (TiddlyTools)]]| 280|@@list@@|
| 101|[[StyleTester]]| 251|@@list@@|
| 102|[[TableOfContentsPlugin]]| 691|@@list@@|
| 103|[[TagGridPlugin]]| 261|@@list@@|
| 104|[[TaggedTemplateTweak]]| 283|@@list@@|
| 105|[[TaskTimerPlugin]]| 287|@@list@@|
| 106|[[TemplatedTagTools]]| 419|@@list@@|
| 107|[[TemporaryTiddlersPlugin]]| 733|@@list@@|
| 108|[[TextAreaPlugin]]| 296|@@list@@|
| 109|[[Textures]]| 234|@@list@@|
| 110|[[TidIDEStyleSheet]]| 251|@@list@@|
| 111|[[TiddlerGroupsPlugin]]| 333|@@list@@|
| 112|[[TiddlerIconsPlugin]]| 289|@@list@@|
| 113|[[TiddlerPasswordPlugin]]| 286|@@list@@|
| 114|[[TiddlerTweakerPlugin]]| 535|@@list@@|
| 115|[[TiddlyPodPlugin]]| 282|@@list@@|
| 116|[[TideIDEPlugin]]| 761|@@list@@|
| 117|[[TimedTiddlerTour]]| 307|@@list@@|
| 118|[[ToggleBreadcrumbs]]| 263|@@list@@|
| 119|[[ToggleLeftSidebar]]| 244|@@list@@|
| 120|[[ToggleMinorUpdates]]| 324|@@list@@|
| 121|[[ToggleReadOnly]]| 285|@@list@@|
| 122|[[ToggleRightSidebar ]]| 251|@@list@@|
| 123|[[ToggleScrollingSidebars]]| 287|@@list@@|
| 124|[[ToggleSiteMenu]]| 253|@@list@@|
| 125|[[ToggleSiteTitles]]| 291|@@list@@|
| 126|[[ToggleTopButton]]| 291|@@list@@|
| 127|[[Tools]]| 480|@@menus@@|
| 128|[[TotallyTiddlers]]| 305|@@list@@|
| 129|[[Tweebox]]| 361|@@list@@|
| 130|[[Uncategorized tools]]| 532|@@@@|
| 131|[[UnformattedTextPlugin]]| 560|@@list@@|
| 132|[[UnsavedChangesPlugin]]| 310|@@list@@|
| 133|[[VisitorCounterPlugin]]| 300|@@list@@|
| 134|[[WikifyPlugin]]| 328|@@list@@|
| 135|[[Woodshop]]| 256|@@list@@|
| 136|[[ZoomTextPlugin]]| 295|@@list@@|
</pre>
</div>
<div title="TWHelpPathFinder" modifier="MorrisGray" modified="200709130022" created="200709122047" tags="msgray killbookmark excludeSearch">
<pre>|&gt;|&gt;|bgcolor:#509;@@color:#fcf;&amp;nbsp;&amp;nbsp;  ~PathFinder Compliments of {{twhelpLink{[[http://twhelp.tiddlyspot.com|http://twhelp.tiddlyspot.com]]}}}@@|
|&gt;|bgcolor(#eaeaea):@@color(#509):''Find tiddlers matching ?''@@|@@color(#509): This TW=ver: &lt;&lt;version&gt;&gt;@@ |
|&gt;|&gt;|bgcolor(#eaeaea):@@color(#509):&lt;&lt;search&gt;&gt; &lt;&lt;option chkSearchTitles&gt;&gt; Titles &lt;&lt;option chkSearchText&gt;&gt; Text &lt;&lt;option chkSearchTags&gt;&gt;Tags &lt;&lt;option chkHoldSearches&gt;&gt; Hold @@|
|{{scroll{&lt;&lt;slider &quot;PathFinder&quot; &quot;ByFilesExcluded&quot; &quot;Files Excluded&quot; &quot;tooltip&quot;&gt;&gt;}}}|&gt;|&gt;|</pre>
</div>
<div title="TWHelpSearchBox" modifier="MorrisGray" modified="200709130147" created="200709130002" tags="msgray excludeSearch excludeLists killbookmark">
<pre>|&gt;|&gt;|&gt;|line-height:17pt;&lt;&lt;search&gt;&gt; |
|&gt;|&gt;|{{unboldlink{[[ look for in|TWHelpPathFinder]]}}} |&gt;|&gt;|
| &lt;&lt;option chkSearchTitles&gt;&gt; | &lt;&lt;option chkSearchText&gt;&gt; | &lt;&lt;option chkSearchTags&gt;&gt; | &lt;&lt;option chkHoldSearches&gt;&gt; |
| titles |  text  | tags | hold|
|borderlessL|k</pre>
</div>
<div title="TWHelpStyle" modifier="MorrisGray" modified="200709130246" created="200709122039" tags="style msgray killbookmark excludeLists excludeSearch">
<pre>/*{{{*/
#tiddlerTWHelp-SearchResults .viewer table {
border: 1px solid #006;
line-height:90% !important;
}

#tiddlerTWHelp-SearchResults .viewer td, .viewer tr,.viewer caption{
        border: 1px solid #F6F;
	padding: 5px;
        vertical-align:top; 
     
}

#tiddlerTWHelp-SearchResults .viewer th{
        border: 1px solid #000;
	padding: 5px;
        vertical-align:top;
}


#tiddlerTWHelp-SearchResults .viewer {
        background-color:#fdf;
        overflow: auto;
        border:1px solid #509;
        padding-left: 1em;
        padding-right: 1em;
	padding-top: 0.5em;
        -moz-border-radius: 1em;
}

.viewer tr.oddRow { background-color:#eaeaea; }
.viewer tr.evenRow { background-color:#fff; } 

.unboldlink a {font-weight:normal;}

.scroll{overflow: auto}

.borderlessL, .borderlessL table, .borderlessL td, .borderlessL tr, .borderlessL th, .borderlessL tbody
	{ line-height:75% !important; border:0 !important; margin:0 !important; padding:0px !important; td.vertical-align:top !important;margin-left: 0 !important; margin-right: auto !important;}

/*}}}*/</pre>
</div>
<div title="TWikiAdaptorPlugin" modifier="giffmex" modified="200709021241" created="200709021240" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Adaptor for moving and converting data to and from TWikis.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;twversion&quot;:&quot;2.2&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;author&quot;:&quot;Martin Budden&quot;}&lt;/data&gt;</pre>
</div>
<div title="TWikiFormatterPlugin" modifier="giffmex" modified="200709011612" created="200709011611" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.3&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;This the TWikiFormatterPlugin, which allows you to insert TWiki formated text into a TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TabEditPlugin" modifier="giffmex" modified="200709030028" created="200709030026" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Tabbed folders&quot;,&quot;description&quot;:&quot;Easier tab editing - double click on a tab to edit source tiddler.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Tabbed folders" modifier="giffmex" created="200709030027">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Tabbed folders&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="TableHighlightMacro" modifier="giffmex" created="200709051235" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Macro for highlighting elements on mouse-over (hover).&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tables&quot;,&quot;author&quot;:&quot;FND&quot;,&quot;link&quot;:&quot;http://devpad.tiddlyspot.com&quot;}&lt;/data&gt;</pre>
</div>
<div title="TableOfContentsPlugin" modifier="giffmex" created="200709031302" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;When there are many tiddlers in a document, the standard 'tabbed list of tiddlers' in the right-hand sidebar can become very long, occupying a lot of page space and requiring a lot scrolling in order to locate and select a tiddler.&lt;br&gt;&lt;br&gt;The TableOfContentsPlugin addresses this problem by replacing the standard tabbed list display with a single listbox/droplist control that uses a very small amount of page space, regardless of the number of tiddlers in the document.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TableSortingPlugin" modifier="tiddlyvault" created="200712051339" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Tables&quot;,&quot;description&quot;:&quot;Dynamically sort tables by clicking on column headers.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Tables and spreadsheets" modifier="giffmex" modified="200709042205" created="200709011329">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Tables&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="TagBasedTemplates" modifier="giffmex" modified="200709092139" created="200709092137" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Not sure what this does. Simon's example claims to flip tiddlers upsidedown based on an upsidedown tag, but it didn't work for me. Illumine us, Simon?&quot;}&lt;/data&gt;</pre>
</div>
<div title="TagCloudPlugin" modifier="giffmex" modified="200709030116" created="200708302318" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Clint Checketts&quot;,&quot;link&quot;:&quot;http://tiddlystyles.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Visual representation of tags.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TagGridPlugin" modifier="giffmex" created="200708302321" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Generate a cross-referenced grid of tiddlers, based on tag values&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="TagUtils" modifier="giffmex" modified="200709092140" created="200709092139" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Behind the scenes&quot;,&quot;description&quot;:&quot;Doesn't do anything except provide functions for use in other plugins.&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;}&lt;/data&gt;</pre>
</div>
<div title="TaggedTemplateTweak" modifier="MorrisGray" modified="200709122309" created="200708302322" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Use alternative ViewTemplate/EditTemplate for tiddler's tagged with specific tag values&quot;}&lt;/data&gt;</pre>
</div>
<div title="TaggedTemplateTweakMG" modifier="MorrisGray" modified="200709122309" created="200709122308" tags="msgray systemConfig excludeLists excludeSearch">
<pre>/***
|Name|TaggedTemplateTweak|
|Source|http://www.TiddlyTools.com/#TaggedTemplateTweak|
|Version|1.1.0|
|Author|Eric Shulman - ELS Design Studios|
|License|http://www.TiddlyTools.com/#LegalStatements &lt;&lt;br&gt;&gt;and [[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]|
|~CoreVersion|2.1|
|Type|plugin|
|Requires||
|Overrides|Story.prototype.chooseTemplateForTiddler()|
|Description|use alternative ViewTemplate/EditTemplate for tiddler's tagged with specific tag values|

The core function, &quot;story.chooseTemplateForTiddler(title,template)&quot; is essentially a &quot;pass-thru&quot; that returns the same template it was given, and is provided by the core so that plugins can customize the template selection logic to select alternative templates, based on whatever programmatic criteria is appropriate.  This tweak extends story.chooseTemplateForTiddler() so that ''whenever a tiddler is marked with a specific tag value, it can be viewed and/or edited using alternatives to the standard tiddler templates.'' 
!!!!!Usage
&lt;&lt;&lt;
Each alternative template is associated with a specific tiddler tag value by using that tag value as a prefix added to the standard TiddlyWiki template titles, [[ViewTemplate]] and [[EditTemplate]].

For example, any tiddlers that are tagged with ''&lt;&lt;tag media&gt;&gt;'' will look for alternative templates named [[mediaViewTemplate]] and [[mediaEditTemplate]].  Additionally, in order to find templates that have proper WikiWord tiddler titles (e.g., [[MediaViewTemplate]] and [[MediaEditTemplate]]), the plugin will also attempt to use a capitalized form of the tag value (e.g., ''Media'') as a prefix.  //This capitalization is for comparison purposes only and will not alter the actual tag values that are stored in the tiddler.//

If no matching alternative template can be found by using //any// of the tiddler's tags (either &quot;as-is&quot; or capitalized), the tiddler defaults to using the appropriate standard [[ViewTemplate]] or [[EditTemplate]] definition.

''To add your own custom templates:''
&gt;First, decide upon a suitable tag keyword to uniquely identify your custom templates and create custom view and/or edit templates using that keyword as a prefix (e.g., &quot;KeywordViewTemplate&quot; and &quot;KeywordEditTemplate&quot;).  Then, simply create a tiddler and tag it with your chosen keyword... that's it!  As long as the tiddler is tagged with your keyword, it will be displayed using the corresponding alternative templates.  If you remove the tag or rename/delete the alternative templates, the tiddler will revert to using the standard viewing and editing templates.
&lt;&lt;&lt;
!!!!!Examples
&lt;&lt;&lt;
|Sample tiddler| tag | view template | edit template |
|[[MediaSample - QuickTime]]| &lt;&lt;tag media&gt;&gt; | [[MediaViewTemplate]] | [[MediaEditTemplate]] |
|[[MediaSample - Windows]]| &lt;&lt;tag media&gt;&gt; | [[MediaViewTemplate]] | [[MediaEditTemplate]] |
|[[CDSample]]| &lt;&lt;tag CD&gt;&gt; | [[CDViewTemplate]] | [[CDEditTemplate]] |
|&lt;&lt;newTiddler label:&quot;create new task...&quot; title:SampleTask tag:task text:&quot;Type some text and then press DONE to view the task controls&quot;&gt;&gt; | &lt;&lt;tag task&gt;&gt; | [[TaskViewTemplate]] | [[EditTemplate]] |

//(note: if these samples are not present in your document, please visit// http://www.TiddlyTools.com/ //to view these sample tiddlers on-line)//
&lt;&lt;&lt;
!!!!!Installation
&lt;&lt;&lt;
import (or copy/paste) the following tiddlers into your document:
[[WikifyPlugin]]
&lt;&lt;&lt;
!!!!!Revision History
&lt;&lt;&lt;
''2007.06.23 [1.1.0]'' re-written to use automatic 'tag prefix' search instead of hard coded check for each tag.  Allows new custom tags to be used without requiring code changes to this plugin.
''2007.06.11 [1.0.0]'' initial release
&lt;&lt;&lt;
!!!!!Credits
&lt;&lt;&lt;
This feature was developed by Eric L Shulman / ELS Design Studios
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.taggedTemplate= {major: 1, minor: 1, revision: 0, date: new Date(2007,6,18)};
Story.prototype.taggedTemplate_chooseTemplateForTiddler = Story.prototype.chooseTemplateForTiddler
Story.prototype.chooseTemplateForTiddler = function(title,template)
{
	// get default template from core
	var template=this.taggedTemplate_chooseTemplateForTiddler.apply(this,arguments);

	// if the tiddler to be rendered doesn't exist yet, just return core result
	var tiddler=store.getTiddler(title); if (!tiddler) return template;

	// look for template whose prefix matches a tag on this tiddler
	for (t=0; t&lt;tiddler.tags.length; t++) {
		var tag=tiddler.tags[t];
		if (store.tiddlerExists(tag+template)) { template=tag+template; break; }
		// try capitalized tag (to match WikiWord template titles)
		var cap=tag.substr(0,1).toUpperCase()+tag.substr(1);
		if (store.tiddlerExists(cap+template)) { template=cap+template; break; }
	}

	return template;
}
//}}}</pre>
</div>
<div title="TaggerPlugin" modifier="giffmex" modified="200708302044" created="200708302043" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Dropdown toggling and management of tiddler tags, your all-in-one plugin for tags&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;twversion&quot;:&quot;2.0.8 or better&quot;}&lt;/data&gt;</pre>
</div>
<div title="Tagging" modifier="giffmex" modified="200708302326" created="200708301304">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Tagging&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="TagglyListPlugin" modifier="giffmex" modified="200709092141" created="200709092140" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="TagglyTagCloudMacro" modifier="giffmex" modified="200709030118" created="200709030117" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Clint Checketts&quot;,&quot;link&quot;:&quot;http://tiddlystyles.com&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;The other tag cloud option from Clint Checketts.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TagglyTaggingPlugin" modifier="giffmex" modified="200708302046" created="200708301956" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Tagging&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;twversion&quot;:&quot;2.2.1&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;description&quot;:&quot;A wonderful tagging plugin that is easier played with than described.&quot;,&quot;format&quot;:&quot;Plugin&quot;}&lt;/data&gt;</pre>
</div>
<div title="TaskMacro" modifier="giffmex" modified="200709032153" created="200709032152" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Luke Blanshard&quot;,&quot;link&quot;:&quot;http://labwiki.sourceforge.net/&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;The TaskMacroPlugin is a TiddlyWiki plugin that contains macros for managing detailed lists of tasks, especially helpful for work like developing software.&lt;br&gt;&lt;br&gt;* The &lt;&lt;task&gt;&gt; macro describes a single task and tracks the time estimated and spent on it.&lt;br&gt;&lt;br&gt;* The &lt;&lt;taskadder&gt;&gt; macro provides a box to type into, to simplify the adding of new tasks.&lt;br&gt;&lt;br&gt;* The &lt;&lt;tasksum&gt;&gt; macro summarizes a set of tasks to show how much time has been spent and how much time remains to complete them.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TaskOrganizerPlugin" modifier="giffmex" modified="200709042146" created="200709042145" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin creates a simple task manager with a variable number of tasks' categories. The management of categories and tasks has been automated. There's also some integration with theReminderMacros.&lt;br&gt;This is based on previous work by Jim Barr at http://tiddlywikitips.com/TiddlyWikiTasks.html. (Requires various other plugins to work)&quot;,&quot;category&quot;:&quot;Forms and databases&quot;,&quot;author&quot;:&quot;Paulo Soares&quot;,&quot;link&quot;:&quot;http://www.math.ist.utl.pt/~psoares/addons.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="TaskTimerPlugin" modifier="giffmex" modified="200709031254" created="200709031253" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;'Timer' button automatically writes start/end/elapsed time into tiddler content.&quot;,&quot;category&quot;:&quot;Time and calendars&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="TemplatedTagTools" modifier="giffmex" created="200709042158" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin replaces the content of the tag popup with the one from TagToolTemplate (a new shadowTiddler). It allows for quick and easy modification of this popup content (including some batchTagTools macros for example).&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://yann.perrin.googlepages.com/twkd.html&quot;,&quot;author&quot;:&quot;Yann Perrin&quot;}&lt;/data&gt;</pre>
</div>
<div title="TemporaryTiddlersPlugin" modifier="giffmex" modified="200709031253" created="200709031252" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;description&quot;:&quot;When the TW document is saved (either to local disk or remote URL), any tiddlers tagged with \&quot;temporary\&quot; will be skipped over, so that they are not written to the file. To keep a temporary tiddler, simply edit it and remove the tag before saving the file. This feature can be combined with various plugins that can automatically create new tiddlers, such as SearchOptionsPlugin (SearchResults) and ImportTiddlersPlugin (ImportedTiddlers) so that these transient results are not retained when you save you document.&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="TestEval" modifier="giffmex" modified="200709032127" created="200709032126" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Enter any javascript reference and click eval to get its value.&quot;,&quot;author&quot;:&quot;Greg Walker&quot;,&quot;link&quot;:&quot;http://gwsyzygy.googlepages.com/creator.html&quot;}&lt;/data&gt;</pre>
</div>
<div title="TextAreaPlugin" modifier="giffmex" created="200709031251" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Adds extra keyboard functions to the standard textarea control in the tiddler editor.&quot;,&quot;category&quot;:&quot;Working with keyboards&quot;}&lt;/data&gt;</pre>
</div>
<div title="Textures" modifier="giffmex" modified="200709051316" created="200709051315" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Alternative stylesheet theme: stone/parchment backgrounds.&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Theme&quot;}&lt;/data&gt;</pre>
</div>
<div title="Themes" modifier="giffmex" modified="200709051411" created="200708302144">
<pre>The first place to go for ~TiddlyWiki themes is [[TiddlyThemes|http://www.tiddlythemes.com]] by Saq Imtiaz. ~TiddlyThemes has a large collection of themes, with instructions on how to install them. What follows is a collection of themes found in other locations.
&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Themes&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ThisPermalink" modifier="MorrisGray" created="200709122100" tags="script msgray killbookmark excludeSearch excludeLists">
<pre>&lt;script&gt;
if (!window.story) window.story=window;
var url=store.getTiddlerText(&quot;SiteUrl&quot;);
var title=story.findContainingTiddler(place).id.substr(7);
var permalink=encodeURIComponent(String.encodeTiddlyLink(title));
return &quot;[img[Right click to Bookmark or Copy this tiddler Location|http://img117.imageshack.us/img117/6453/socialbookmarkiconcb4.gif][&quot;+url+&quot;#&quot;+permalink+&quot;]]&quot;;
&lt;/script&gt;</pre>
</div>
<div title="TidIDEStyleSheet" modifier="giffmex" modified="200709051319" created="200709051318" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Use default stylesheet with alternative TidIDE templates.&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Theme&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="Tiddler manipulation" modifier="giffmex" modified="200709011752" created="200709011445">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Tiddler manipulation&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="TiddlerDisplayTopPlugin" modifier="giffmex" created="200709032002" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Keeps the tiddlers display looking fresh by opening new tiddlers at the top of the page. This keeps toolbars and menus accessible at all times, while allowing for multiple tiddlers to be open.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;author&quot;:&quot;Walt Woods&quot;,&quot;link&quot;:&quot;http://oregonstate.edu/~woodswa/tiddlywikiplugs.html&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerEncryptionPlugin" modifier="tiddlyvault" modified="200804131656" created="200804130108" tags="list" changecount="3">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;twversion&quot;:&quot;2.2&quot;,&quot;category&quot;:&quot;Security&quot;,&quot;author&quot;:&quot;Lyall Pearce&quot;,&quot;link&quot;:&quot;http://remotely-helpful.com/TiddlyWiki/TiddlerEncryptionPlugin.html#TiddlerEncryptionPlugin&quot;,&quot;description&quot;:&quot;Encrypt your data to hide it from prying eyes.&lt;br&gt;You decide which tiddlers to encrypt. Once, some or all.&lt;br&gt;You decide what password to use by simply tagging a tiddler with Encrypt(prompt)&lt;br&gt;where prompt is a word or sentence that will remind you of what the password is.&lt;br&gt;All tiddlers tagged with the same Encrypt(prompt) tag will be encrypted using the same password.&lt;br&gt;You are prompted for the password only when you are about to display the tiddler, not when you open your tiddlywiki.&lt;br&gt;Once you have entered the password, it will be re-used until you re-load your tiddlywiki.&lt;br&gt;Tiddlers are encrypted on save. At no point is a tiddler kept in the file in an unencrypted form.&lt;br&gt;Make sure you enter the same password for new tiddlers tagged with an existing prompt, things get confusing if you have multiple passwords with the same prompt! Whilst a tiddler is encrypted, it is not searchable - although that is an option.&lt;br&gt;A handy Macro is supplied which gives you a button to decrypted all encrypted tiddlers at once. If you forget the password, forget your data - there is no way back.&lt;br&gt;If you get the password wrong, you will not lose your data - the plugin knows if you get it wrong - it does not decrypt with the wrong password, leaving you with corrupt data.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerGroupsPlugin" modifier="giffmex" modified="200709031247" created="200709031246" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Define groups of tiddlers and display an entire group or navigate between tiddlers with first/previous/next/last.&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerIconsPlugin" modifier="giffmex" modified="200709031244" created="200709031243" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Icons&quot;,&quot;description&quot;:&quot;Display icons next to tiddler title, based on tiddler's attributes (tags, fields, slices, etc).&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerListMacro" modifier="giffmex" modified="200709011812" created="200709011809" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;The TiddlerListMacro lists tiddlers with SQL-Like features: &lt;br&gt;* List tiddlers containing a word in the title or text (case-sensitive),&lt;br&gt;* List tiddlers tagged with given tags or exclude certain tags,&lt;br&gt;* Ascending and descending sorting of single fields,&lt;br&gt;* Limit number of tiddlers displayed,&lt;br&gt;* Specify different HTML formats for the lists,&lt;br&gt;* Grouping of items in a list,&lt;br&gt;* Customizable wiki templates,&lt;br&gt;* Numbering and totals&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerNotesPlugin" modifier="tiddlyvault" modified="200712051341" created="200712051340" tags="list" changecount="2">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;Allows you to add notes to a tiddler without needing to modify the original tiddler.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerPasswordPlugin" modifier="giffmex" modified="200709021229" created="200709021228" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;category&quot;:&quot;Security&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Block viewing of tiddler content by prompting for a password before content is displayed.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerToCPlugin" modifier="giffmex" modified="200709051232" created="200709051226" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Create a table of contents from a tiddler's headings. Contributor: Saq Imtiaz.&quot;,&quot;category&quot;:&quot;Navigating within a tiddler&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://devpad.tiddlyspot.com&quot;,&quot;author&quot;:&quot;FND&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerTweakerPlugin" modifier="giffmex" modified="200709031246" created="200709031245" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;TiddlerTweaker is a tool for TiddlyWiki authors. It allows you to select multiple tiddlers from a listbox, and then modify the author, created, modified and/or tag values of those tiddlers using a compact set of form fields. The values you enter into the fields overwrite the existing values in all tiddlers you have selected.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerWithEditPlugin" modifier="giffmex" modified="200709011733" created="200709011732" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Adds double-click-to-edit to the core tiddler macro.&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlerWithParamsPlugin" modifier="giffmex" modified="200709011623" created="200709011533" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;description&quot;:&quot;The TiddlerWithParamsPlugin extends the build-in {{{&lt;&lt;tiddler...&gt;&gt;}}} macro. It replaces placeholders ($1, $2, ...) in the given tiddler by values passed with the macro. Then it inserts the (replaced) text, just like the original {{{&lt;&lt;tiddler...&gt;&gt;}}} macro.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlersBarPlugin" modifier="giffmex" modified="200709011539" created="200709011538" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;? (VisualTW)&quot;,&quot;link&quot;:&quot;http://visualtw.ouvaton.org/VisualTW.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;A bar to switch between tiddlers through tabs (like browser tabs bar).&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlyInfo" modifier="tiddlyvault" modified="200712051400" created="200712051354" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Statistics&quot;,&quot;description&quot;:&quot;Displays the current document’s version number and last-modified date.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlyLightBoxPlugin" modifier="giffmex" modified="200708311246" created="200708311244" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;description&quot;:&quot;Lightboxes optimized for TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlyLockPlugin" modifier="giffmex" modified="200709031955" created="200709031951" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Richard&quot;,&quot;link&quot;:&quot;http://www.minormania.com/tiddlylock/tiddlylock.html#TiddlyLockPlugin&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;description&quot;:&quot;Automatically locks and unlocks the TiddlyWiki as required, allowing multiple users to edit the TiddlyWiki without fear of overwriting other users' changes.&quot;,&quot;twversion&quot;:&quot;2.2.4&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlyPodPlugin" modifier="giffmex" modified="200709031243" created="200709031242" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;description&quot;:&quot;Autoplay music randomly selected from playlist using embedded player.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;twversion&quot;:&quot;2.1&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlySnip" modifier="giffmex" modified="200709011352" created="200708311208" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tiddlysnip.com/#About&quot;,&quot;format&quot;:&quot;Firefox extension&quot;,&quot;twversion&quot;:&quot;2.1+&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;description&quot;:&quot;TiddlySnip is a Firefox extension that lets you use your TiddlyWiki as a scrapbook! Simply select text, right click and choose 'TiddlySnip selection'. Next time you open your TiddlyWiki file, your snippets will be there, already tagged and organised.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TiddlyVault" modifier="giffmex" created="200709011450">
<pre>i.e., this website...</pre>
</div>
<div title="TideIDEPlugin" modifier="giffmex" modified="200709031249" created="200709031248" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;TidIDE (prounounced \&quot;Tie Dyed\&quot;) - TiddlyWiki Integrated Development Environment - tools for TiddlyWiki authors and editors. &lt;br&gt;&lt;br&gt;Provides a full-featured tiddler editor with key-by-key LIVE PREVIEW of formatted tiddler content!! Also includes diagnostic tools to help you debug your TiddlyWiki problems by letting you view current TiddlyWiki internal option values, messages, shadows, stylesheets, notify and macro functions or display the internal DOM (Document Object Model) tree structure for any specific part of theTiddlyWiki document.&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;}&lt;/data&gt;</pre>
</div>
<div title="Time and calendars" modifier="tiddlyvault" modified="200907281506" created="200708310001" changecount="1">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Time and calendars&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="TimedTiddlerTour" modifier="giffmex" created="200709112130" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Automatic countdown timer triggers close of current tiddler and opens another one in its place.&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleBreadcrumbs" modifier="giffmex" modified="200709112056" created="200709112052" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;description&quot;:&quot;Dynamically enable/disable BreadcrumbsPlugin display.&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleLeftSidebar" modifier="giffmex" created="200708302337" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;description&quot;:&quot;Show/hide left sidebar (MainMenu)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleMinorUpdates" modifier="giffmex" modified="200709112057" created="200709112056" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;description&quot;:&quot;Enable/disable 'minor updates' option to prevent changes to the modification date/author when a tiddler is edited.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleReadOnly" modifier="giffmex" modified="200709112105" created="200709112057" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;Enable/disable global read-only state without reloading your document.&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleRightSidebar " modifier="giffmex" created="200708302335" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Show/hide right sidebar (SideBarOptions)&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleScrollingSidebars" modifier="giffmex" created="200709112106" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Enable/disable 'fixed' positioning of left and right sidebars (FireFox only).&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleSideBarMacro" modifier="MorrisGray" modified="200709130303" created="200708302232" tags="systemConfig lewcidExtension">
<pre>/***

|Name|ToggleSideBarMacro|
|Created by|SaqImtiaz|
|Location|http://tw.lewcid.org/#ToggleSideBarMacro|
|Version|1.0|
|Requires|~TW2.x|
!Description:
Provides a button for toggling visibility of the SideBar. You can choose whether the SideBar should initially be hidden or displayed.

!Demo
&lt;&lt;toggleSideBar &quot;Toggle Sidebar&quot;&gt;&gt;

!Usage:
{{{&lt;&lt;toggleSideBar&gt;&gt;}}} &lt;&lt;toggleSideBar&gt;&gt;
additional options:
{{{&lt;&lt;toggleSideBar label tooltip show/hide&gt;&gt;}}} where:
label = custom label for the button,
tooltip = custom tooltip for the button,
show/hide = use one or the other, determines whether the sidebar is shown at first or not.
(default is to show the sidebar)

You can add it to your tiddler toolbar, your MainMenu, or where you like really.
If you are using a horizontal MainMenu and want the button to be right aligned, put the following in your StyleSheet:
{{{ .HideSideBarButton {float:right;} }}}

!History
*23-07-06: version 1.0: completely rewritten, now works with custom stylesheets too, and easier to customize start behaviour. 
*20-07-06: version 0.11
*27-04-06: version 0.1: working.

!Code
***/
//{{{
config.macros.toggleSideBar={};

config.macros.toggleSideBar.settings={
         styleHide :  &quot;#sidebar { display: none;}\n&quot;+&quot;#contentWrapper #displayArea { margin-right: 1em;}\n&quot;+&quot;&quot;,
         styleShow : &quot; &quot;,
         arrow1: &quot;«&quot;,
         arrow2: &quot;»&quot;
};

config.macros.toggleSideBar.handler=function (place,macroName,params,wikifier,paramString,tiddler)
{
          var tooltip= params[1]||'toggle sidebar';
          var mode = (params[2] &amp;&amp; params[2]==&quot;hide&quot;)? &quot;hide&quot;:&quot;show&quot;;
          var arrow = (mode == &quot;hide&quot;)? this.settings.arrow1:this.settings.arrow2;
          var label= (params[0]&amp;&amp;params[0]!='.')?params[0]+&quot; &quot;+arrow:arrow;
          var theBtn = createTiddlyButton(place,label,tooltip,this.onToggleSideBar,&quot;button HideSideBarButton&quot;);
          if (mode == &quot;hide&quot;)
             { 
             (document.getElementById(&quot;sidebar&quot;)).setAttribute(&quot;toggle&quot;,&quot;hide&quot;);
              setStylesheet(this.settings.styleHide,&quot;ToggleSideBarStyles&quot;);
             }
};

config.macros.toggleSideBar.onToggleSideBar = function(){
          var sidebar = document.getElementById(&quot;sidebar&quot;);
          var settings = config.macros.toggleSideBar.settings;
          if (sidebar.getAttribute(&quot;toggle&quot;)=='hide')
             {
              setStylesheet(settings.styleShow,&quot;ToggleSideBarStyles&quot;);
              sidebar.setAttribute(&quot;toggle&quot;,&quot;show&quot;);
              this.firstChild.data= (this.firstChild.data).replace(settings.arrow1,settings.arrow2);
              }
          else
              {    
               setStylesheet(settings.styleHide,&quot;ToggleSideBarStyles&quot;);
               sidebar.setAttribute(&quot;toggle&quot;,&quot;hide&quot;);
               this.firstChild.data= (this.firstChild.data).replace(settings.arrow2,settings.arrow1);
              }

     return false;
}

setStylesheet(&quot;.HideSideBarButton .button {font-weight:bold; padding: 0 5px;}\n&quot;,&quot;ToggleSideBarButtonStyles&quot;);

//}}}</pre>
</div>
<div title="ToggleSideBarMacro " modifier="giffmex" modified="200708302345" created="200708302344" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;description&quot;:&quot;Provides a button for toggling visibility of the SideBar. You can choose whether the SideBar should initially be hidden or displayed.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleSiteMenu" modifier="giffmex" created="200708310236" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;description&quot;:&quot;Show/hide low-profile horizontal SiteMenu.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleSiteTitles" modifier="giffmex" created="200708310235" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;description&quot;:&quot;show/hide document 'header' area (containing SiteTitle and SiteSubtitle content)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleTagMacro" modifier="giffmex" modified="200709092143" created="200709092142" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;description&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleTagPlugin" modifier="giffmex" modified="200708302156" created="200708302155" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;Makes a checkbox which toggles a tag in a tiddler&quot;,&quot;category&quot;:&quot;Tagging&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="ToggleTopButton" modifier="giffmex" created="200709112107" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;format&quot;:&quot;Script&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Toggling page elements&quot;,&quot;description&quot;:&quot;Adds a floating \&quot;scroll to top\&quot; button in the lower right corner of the window.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Toggling page elements" modifier="giffmex" modified="200708302345" created="200708302144">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Toggling page elements&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ToolbarIconsPlugin" modifier="giffmex" created="200709011617" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Replace toolbar buttons with icons.&quot;,&quot;category&quot;:&quot;Icons&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://tw.lewcid.org/#%5B%5BExtensions%20Overview%5D%5D&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;}&lt;/data&gt;</pre>
</div>
<div title="Tools" modifier="tiddlyvault" modified="200907281506" created="200709011431" tags="menus" changecount="1">
<pre>*[[Aids for website visitors]]
*[[Behind the scenes misc tweaks]]
*[[Forms and databases]]
*[[Games]]
*[[Images, media and presentations]]
*[[Links]]
*[[Music]]
*[[Menus and sliders]]
*[[Non-English languages]]
*[[Popups]]
*[[Saving and reviewing changes]]
*[[Scientific and mathematical notation]]
*[[Security]]
*[[Statistics]]
*[[Tabbed folders]]
*[[Tables and spreadsheets]]
*[[Tiddler manipulation and configuration|Tiddler manipulation]]
*[[Time and calendars]]
*[[Uncategorized tools]]</pre>
</div>
<div title="TotallyTiddlers" modifier="giffmex" modified="200709031331" created="200709031330" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Images and presentations&quot;,&quot;format&quot;:&quot;Theme&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;description&quot;:&quot;Alternative stylesheet theme: show tiddler content only - use for 'kiosk mode' presentations.&quot;,&quot;twversion&quot;:&quot;2.1&quot;}&lt;/data&gt;</pre>
</div>
<div title="TracFormatterPlugin" modifier="giffmex" modified="200709011611" created="200709011610" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Martin Budden&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;This is an early release of the TracFormatterPlugin, which allows you to insert Trac formated text into a TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="TrashPlugin (Ido)" modifier="giffmex" modified="200709092056" created="200709092054" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;This plugin provides trash bin functionality. Instead of being permanently removed, deleted tiddlers are tagged with \&quot;Trash.\&quot; Empty the trash by clicking on the empty trash button in the Trash tiddler. Holding down CTRL while clicking on \&quot;delete\&quot; will bypass the trash.&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;author&quot;:&quot;Ido Magal&quot;,&quot;link&quot;:&quot;http://ido-xp.tiddlyspot.com/&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="TspotControls" modifier="tiddlyvault" modified="200709161316" created="200709161315" changecount="2">
<pre>| tiddlyspot password:|&lt;&lt;option pasUploadPassword&gt;&gt;|
| site management:|&lt;&lt;upload http://tiddlyvault.tiddlyspot.com/store.cgi index.html . .  tiddlyvault&gt;&gt;//(requires tiddlyspot password)//&lt;&lt;br&gt;&gt;[[control panel|http://tiddlyvault.tiddlyspot.com/controlpanel]], [[download (go offline)|http://tiddlyvault.tiddlyspot.com/download]]|
| links:|[[tiddlyspot.com|http://tiddlyspot.com/]], [[FAQs|http://faq.tiddlyspot.com/]], [[announcements|http://announce.tiddlyspot.com/]], [[blog|http://tiddlyspot.com/blog/]], email [[support|mailto:support@tiddlyspot.com]] &amp; [[feedback|mailto:feedback@tiddlyspot.com]], [[donate|http://tiddlyspot.com/?page=donate]]|</pre>
</div>
<div title="TspotSetupPlugin" modifier="YourName" created="200706061221" tags="systemConfig">
<pre>/***
Contains the stuff you need to use Tiddlyspot
Note you must also have UploadPlugin installed
***/
//{{{

// edit this if you are migrating sites or retrofitting an existing TW
config.tiddlyspotSiteId = 'tiddlyvault';

// make it so you can by default see edit controls via http
config.options.chkHttpReadOnly = false;
window.readOnly = false; // make sure of it (for tw 2.2)

// disable autosave in d3
if (window.location.protocol != &quot;file:&quot;)
	config.options.chkGTDLazyAutoSave = false;

// tweak shadow tiddlers to add upload button, password entry box etc
with (config.shadowTiddlers) {
	SiteUrl = 'http://'+config.tiddlyspotSiteId+'.tiddlyspot.com';
	SideBarOptions = SideBarOptions.replace(/(&lt;&lt;saveChanges&gt;&gt;)/,&quot;$1&lt;&lt;tiddler TspotSidebar&gt;&gt;&quot;);
	OptionsPanel = OptionsPanel.replace(/^/,&quot;&lt;&lt;tiddler TspotOptions&gt;&gt;&quot;);
	DefaultTiddlers = DefaultTiddlers.replace(/^/,&quot;[[Welcome to Tiddlyspot]] &quot;);
	MainMenu = MainMenu.replace(/^/,&quot;[[Welcome to Tiddlyspot]] &quot;);
}

// create some shadow tiddler content
merge(config.shadowTiddlers,{

'Welcome to Tiddlyspot':[
 &quot;This document is a ~TiddlyWiki from tiddlyspot.com.  A ~TiddlyWiki is an electronic notebook that is great for managing todo lists, personal information, and all sorts of things.&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //What now?// &amp;nbsp;&amp;nbsp;@@ Before you can save any changes, you need to enter your password in the form below.  Then configure privacy and other site settings at your [[control panel|http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/controlpanel]] (your control panel username is //&quot; + config.tiddlyspotSiteId + &quot;//).&quot;,
 &quot;&lt;&lt;tiddler TspotControls&gt;&gt;&quot;,
 &quot;See also GettingStarted.&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //Working online// &amp;nbsp;&amp;nbsp;@@ You can edit this ~TiddlyWiki right now, and save your changes using the \&quot;save to web\&quot; button in the column on the right.&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //Working offline// &amp;nbsp;&amp;nbsp;@@ A fully functioning copy of this ~TiddlyWiki can be saved onto your hard drive or USB stick.  You can make changes and save them locally without being connected to the Internet.  When you're ready to sync up again, just click \&quot;upload\&quot; and your ~TiddlyWiki will be saved back to tiddlyspot.com.&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //Help!// &amp;nbsp;&amp;nbsp;@@ Find out more about ~TiddlyWiki at [[TiddlyWiki.com|http://tiddlywiki.com]].  Also visit [[TiddlyWiki Guides|http://tiddlywikiguides.org]] for documentation on learning and using ~TiddlyWiki. New users are especially welcome on the [[TiddlyWiki mailing list|http://groups.google.com/group/TiddlyWiki]], which is an excellent place to ask questions and get help.  If you have a tiddlyspot related problem email [[tiddlyspot support|mailto:support@tiddlyspot.com]].&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //Enjoy :)// &amp;nbsp;&amp;nbsp;@@ We hope you like using your tiddlyspot.com site.  Please email [[feedback@tiddlyspot.com|mailto:feedback@tiddlyspot.com]] with any comments or suggestions.&quot;
].join(&quot;\n&quot;),

'TspotControls':[
 &quot;| tiddlyspot password:|&lt;&lt;option pasUploadPassword&gt;&gt;|&quot;,
 &quot;| site management:|&lt;&lt;upload http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/store.cgi index.html . .  &quot; + config.tiddlyspotSiteId + &quot;&gt;&gt;//(requires tiddlyspot password)//&lt;&lt;br&gt;&gt;[[control panel|http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/controlpanel]], [[download (go offline)|http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/download]]|&quot;,
 &quot;| links:|[[tiddlyspot.com|http://tiddlyspot.com/]], [[FAQs|http://faq.tiddlyspot.com/]], [[announcements|http://announce.tiddlyspot.com/]], [[blog|http://tiddlyspot.com/blog/]], email [[support|mailto:support@tiddlyspot.com]] &amp; [[feedback|mailto:feedback@tiddlyspot.com]], [[donate|http://tiddlyspot.com/?page=donate]]|&quot;
].join(&quot;\n&quot;),

'TspotSidebar':[
 &quot;&lt;&lt;upload http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/store.cgi index.html . .  &quot; + config.tiddlyspotSiteId + &quot;&gt;&gt;&lt;html&gt;&lt;a href='http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/download' class='button'&gt;download&lt;/a&gt;&lt;/html&gt;&quot;
].join(&quot;\n&quot;),

'TspotOptions':[
 &quot;tiddlyspot password:&quot;,
 &quot;&lt;&lt;option pasUploadPassword&gt;&gt;&quot;,
 &quot;&quot;
].join(&quot;\n&quot;)

});
//}}}
</pre>
</div>
<div title="TwHelpSearchPluginMG" modifier="MorrisGray" modified="200709130220" created="200709122032" tags="systemConfig msgray excludeLists excludeSearch killbookmark">
<pre>/***
''TwHelpSearch'' for TiddlyWiki 2.0.x to 2.2.x
^^author: Morris S. Gray
source: http://twhelp.tiddlyspot.com/#TwHelpSearchPlugin
license: [[Creative Commons Attribution-ShareAlike 2.5 License|http://creativecommons.org/licenses/by-sa/2.5/]]^^

|&gt;|&gt;|&gt;|&lt;&lt;search&gt;&gt; |
|&gt;|&gt;| look for in |&gt;|&gt;|
| &lt;&lt;option chkSearchTitles&gt;&gt; | &lt;&lt;option chkSearchText&gt;&gt; | &lt;&lt;option chkSearchTags&gt;&gt; | &lt;&lt;option chkHoldSearches&gt;&gt; |
| titles |  text  | tags | hold |

''A Plugin Tweak for:'' SearchOptionsPlugin
!!!!!Description
&lt;&lt;&lt;
This plugin defines an alternative format for the SearchResults tiddler that is generated by the SearchOptionsPlugin . It presents the search results in tabular form numbering the rows; and showing the tiddler title, the size in bytes, and the tags.  It is ready to be used with the [[SortableGridPlugin|http://solo.dc3.com/tw/#SortableGridPlugin]] (check versions) so any column can be sorted; such as size in ascending or descending order.
&lt;&lt;&lt;
!!!!!Installation
&lt;&lt;&lt;
Import (or copy/paste) the following tiddlers into your ~TiddlyWiki:
* http://twhelp.tiddlyspot.com/#TwHelpSearchPlugin
*SearchOptionsPlugin from http://www.tiddlytools.com/#SearchOptionsPlugin
* Get more documentation here TwHelpSearchDoc or here:
* http://twhelp.tiddlyspot.com/#TwHelpSearchDoc
&lt;&lt;&lt;
!!!!!Revision History
&lt;&lt;&lt;

''2007.09.12  [1.0.6]''
Added overflow scroll to TWHelp-SearchResults for long titles or tags.
''2006.02.03  [1.0.5]''
Added facility for holding the results of multiple searches with tick box on dashboard.
''2006.02.02  [1.0.4]''
Added several options, cleaned up design.Planning one version basic and one with added options this is the added options version.
''2006.01.27  [1.0.3''
Added a column for the size of the text in each tiddler, this does not include the size of the title or tags.  Added overall TW statistics button requires TiddlerStatsPlugin.
''2006.01.23 [1.0.2 ]''
''a)''Changed function reportSearchResults(text,matches) to  window.reportSearchResults=function(text,matches)
''b)''Added a line so that Incremental Search is automatically disabled config.options.chkSearchIncremental=false; turn off key-by-key searching
''c)''Removed space inside parens. bgcolor(#fe8 )&quot; to &quot;bgcolor(#fe8)&quot;.  This
is what was causing IE to 'crap out' halfway through drawing the table
headings.
''d)''Added {{{config.options.chkSearchList=true;}}}
''2006.01.20 [1.0.1]''
ELS: reportSearchResults() definition moved to this Plugin Tweak tiddler and removed extranous code
''2006.01.19 [1.0.0]''
This is an adaptation of Eric Shulman's SearchOptionsPlugin. Adapted by MorrisGray to provide search results in table form. All the necessary controls for refining the search is provided within the table including slide-down access to AdvancedOptions.
&lt;&lt;&lt;
!!!!!Code
***/

//{{{
if (config.options.chkSinglePageMode==undefined) config.options.chkSinglePageMode=false;
if (config.options.chkRegExpSearch==undefined) config.options.chkRegExpSearch=true;
if (config.options.chkSearchTitles==undefined) config.options.chkSearchTitles=false;
if (config.options.chkSearchText==undefined) config.options.chkSearchText=true;
if (config.options.chkSearchTags==undefined) config.options.chkSearchTags=false;
if (config.options.chkSearchTitlesFirst==undefined) config.options.chkSearchTitlesFirst=true;
if (config.options.chkSearchList==undefined) config.options.chkSearchList=true;
if (config.options.chkSearchIncremental==undefined) config.options.chkSearchIncremental=false;
if (config.options.chkToggleLinks==true) config.options.chkToggleLinks=false;
if (config.options.chkHoldSearches==undefined) config.options.chkHoldSearches=false;
if (config.options.chkSortTags==undefined) config.options.chkSortTags=false;

config.options.chkToggleLinks=false;
config.options.chkSinglePageMode=false;
config.options.chkHoldSearches=false;
config.options.chkSearchIncremental=false;
config.options.chkHttpReadOnly = false;
config.options.chkRegExpSearch=true;
config.options.chkSearchList=true;
config.options.chkToggleLinks=true;

config.shadowTiddlers.AdvancedOptions += &quot;\n&lt;&lt;option chkHoldSearches&gt;&gt; Hold search results&quot;;

//}}}

//{{{

// Give the report a custom name
config.macros.search.reportTitle=&quot;TWHelp-SearchResults&quot;;

// Override default SearchOptionsPlugin formatting for SearchResults tiddler
window.reportSearchResults=function(text,matches)

{
  
        var title=config.macros.search.reportTitle
	config.macros.search.reportTitle;
	var q = config.options.chkRegExpSearch ? &quot;/&quot; : &quot;'&quot;;
        if (!config.options.chkHoldSearches)  body=&quot;&quot;;
body+=&quot;^^Search Adapter Compliments of http://twhelp.tiddlyspot.com^^\n&quot;;
body+=&quot;\n|&gt;|bgcolor(#eaeaea):@@color(#509):''&quot;+config.macros.search.successMsg.format([matches.length,q+text+q])+&quot;''@@|bgcolor(#509):  @@color(#fff): TW ver: &lt;&lt;version&gt;&gt;@@ &quot;+&quot;|&quot;+&quot;\n&quot;;
        body+=&quot;|&gt;|&gt;|bgcolor(#eaeaea):@@color(#509):&lt;&lt;search&gt;&gt; &lt;&lt;option chkSearchTitles&gt;&gt; Titles &lt;&lt;option chkSearchText&gt;&gt; Text &lt;&lt;option chkSearchTags&gt;&gt;Tags &lt;&lt;option chkHoldSearches&gt;&gt; Hold @@|&quot;+&quot;\n&quot;;
        body+=&quot;\n|bgcolor(#509):&amp;nbsp;|bgcolor(#509): @@color(#fff):''Titles''@@ |bgcolor(#509): @@color(#fff): ''Size''@@ |bgcolor(#509): @@color(#fff): ''Tags''@@ |h&quot;;
	for(var t=0;t&lt;matches.length;t++) 
        body+=&quot;\n&quot;+&quot;| &quot;+(t+1)+&quot;|[[&quot;+matches[t].title+&quot;]]| &quot;+matches[t].text.length+&quot;|&quot;+&quot;@@&quot;+matches[t].tags+&quot;@@&quot;+&quot;|&quot;;
        body+=&quot;\n&quot;;


	// create/update the tiddler
	var tiddler=store.getTiddler(title); if (!tiddler) tiddler=new Tiddler();
	tiddler.set(title,body,config.options.txtUserName,(new Date()),&quot;excludeLists excludeSearch killbookmark&quot;);
	store.addTiddler(tiddler); story.closeTiddler(title);


	// render tiddler
	var oldprompt=config.macros.search.label;
	config.macros.search.label=&quot;search again&quot;; // use alternate &quot;search again&quot; label
        story.displayTiddler(null,title,1); // force refresh
	config.macros.search.label=oldprompt;	// restore standard search label
}

//}}}
</pre>
</div>
<div title="Twab" modifier="tiddlyvault" modified="200804131700" created="200709011524" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Vincent DiBartolo&quot;,&quot;link&quot;:&quot;http://www.tiddly-twab.com&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;description&quot;:&quot;The ~TiddlyWiki Address Book (twab) is a system for keeping your Address Book within your ~TiddlyWiki. It supports the addition of contacts via a simple macro that can be placed in any Tiddler. It also supports the import or export of your contacts to and from Google, Yahoo, MSN and Outlook.&lt;br&gt;&lt;br&gt;All items tagged as twab are required for the system to work, so please don't delete any of these and expect it to still work.&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Forms and databases&quot;}&lt;/data&gt;</pre>
</div>
<div title="Tweebox" modifier="giffmex" modified="200709120053" created="200709120052" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Uncategorized tools&quot;,&quot;link&quot;:&quot;http://gimcrackd.com/etc/src/#%5B%5BWhat's%20this%3F%5D%5D&quot;,&quot;author&quot;:&quot;\&quot;Chris\&quot; (Gimcrack'd)&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;description&quot;:&quot;Create your own interactive stories with Tweebox. Write with your favorite word processor; build and test with your Web browser.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Umibozu web album" modifier="YourName" modified="200812311501" created="200708311204" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Marc Castejon&quot;,&quot;link&quot;:&quot;http://www.download.com/Umibozu/3000-12511_4-10642865.html&quot;,&quot;format&quot;:&quot;Other&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Images and presentations&quot;,&quot;description&quot;:&quot;Umibozu is a cross platform web photo album generator, highly customizable thanks to its embedded TiddlyWiki interface, and designed to scale to repositories of over 10000 photos. Umibozu maps your existing photo directory structure to an online web album. Need to add some photos ? Run Umibozu to synchronize within seconds your public web album. Photo albums can reside on your system or be exported to a CD or USB stick, but it is mainly designed to be published to a web server so it can be accessed and modified online, while you keep feeding in new batches of photos.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Uncategorized tools" modifier="giffmex" created="200709120037">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Uncategorized tools&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="UnformattedTextPlugin" modifier="giffmex" created="200708310018" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Add extended quotes around specific tiddler content to prevent any embedded formatting syntax from being processed by TiddlyWiki's rendering engine, so the content will appear exactly as entered into the tiddler (i.e., \&quot;raw text\&quot;), even when it contains character sequences that would normally be treated asTiddlyWiki formatting instructions.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;}&lt;/data&gt;</pre>
</div>
<div title="UnsavedChangesPlugin" modifier="giffmex" modified="200709031239" created="200709031238" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Displays a droplist of tiddlers that have changed since the last time the document was saved.&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="UploadLog" modifier="tiddlyvault" modified="201205141928" created="200709131302">
<pre>| !date | !user | !location | !storeUrl | !uploadDir | !toFilename | !backupdir | !origin |
| 28/03/2009 06:52:44 | tiddlyvault | [[/|http://tiddlyvault.tiddlyspot.com/]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . |
| 28/07/2009 10:03:14 | tiddlyvault | [[/|http://tiddlyvault.tiddlyspot.com/]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . |
| 28/07/2009 10:10:22 | tiddlyvault | [[/|http://tiddlyvault.tiddlyspot.com/]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . |
| 28/07/2009 10:12:35 | tiddlyvault | [[/|http://tiddlyvault.tiddlyspot.com/]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . |
| 23/04/2012 13:11:08 | TiddlyVault | [[/|http://tiddlyvault.tiddlyspot.com/]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . |
| 23/04/2012 13:12:43 | TiddlyVault | [[/|http://tiddlyvault.tiddlyspot.com/#sourcenikFormatter]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . |
| 23/04/2012 13:15:16 | TiddlyVault | [[/|http://tiddlyvault.tiddlyspot.com/#sourcenikFormatter]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . |
| 14/05/2012 14:20:55 | tiddlyvault | [[/|http://tiddlyvault.tiddlyspot.com/]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . | ok |
| 14/05/2012 14:24:44 | tiddlyvault | [[/|http://tiddlyvault.tiddlyspot.com/]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . |
| 14/05/2012 14:28:08 | tiddlyvault | [[/|http://tiddlyvault.tiddlyspot.com/]] | [[store.cgi|http://tiddlyvault.tiddlyspot.com/store.cgi]] | . | [[index.html | http://tiddlyvault.tiddlyspot.com/index.html]] | . |</pre>
</div>
<div title="UploadPlugin" modifier="YourName" modified="200709131259" created="200706061221" tags="systemConfig">
<pre>/***
|''Name:''|PasswordOptionPlugin|
|''Description:''|Extends TiddlyWiki options with non encrypted password option.|
|''Version:''|1.0.2|
|''Date:''|Apr 19, 2007|
|''Source:''|http://tiddlywiki.bidix.info/#PasswordOptionPlugin|
|''Author:''|BidiX (BidiX (at) bidix (dot) info)|
|''License:''|[[BSD open source license|http://tiddlywiki.bidix.info/#%5B%5BBSD%20open%20source%20license%5D%5D ]]|
|''~CoreVersion:''|2.2.0 (Beta 5)|
***/
//{{{
version.extensions.PasswordOptionPlugin = {
	major: 1, minor: 0, revision: 2, 
	date: new Date(&quot;Apr 19, 2007&quot;),
	source: 'http://tiddlywiki.bidix.info/#PasswordOptionPlugin',
	author: 'BidiX (BidiX (at) bidix (dot) info',
	license: '[[BSD open source license|http://tiddlywiki.bidix.info/#%5B%5BBSD%20open%20source%20license%5D%5D]]',
	coreVersion: '2.2.0 (Beta 5)'
};

config.macros.option.passwordCheckboxLabel = &quot;Save this password on this computer&quot;;
config.macros.option.passwordInputType = &quot;password&quot;; // password | text
setStylesheet(&quot;.pasOptionInput {width: 11em;}\n&quot;,&quot;passwordInputTypeStyle&quot;);

merge(config.macros.option.types, {
	'pas': {
		elementType: &quot;input&quot;,
		valueField: &quot;value&quot;,
		eventName: &quot;onkeyup&quot;,
		className: &quot;pasOptionInput&quot;,
		typeValue: config.macros.option.passwordInputType,
		create: function(place,type,opt,className,desc) {
			// password field
			config.macros.option.genericCreate(place,'pas',opt,className,desc);
			// checkbox linked with this password &quot;save this password on this computer&quot;
			config.macros.option.genericCreate(place,'chk','chk'+opt,className,desc);			
			// text savePasswordCheckboxLabel
			place.appendChild(document.createTextNode(config.macros.option.passwordCheckboxLabel));
		},
		onChange: config.macros.option.genericOnChange
	}
});

merge(config.optionHandlers['chk'], {
	get: function(name) {
		// is there an option linked with this chk ?
		var opt = name.substr(3);
		if (config.options[opt]) 
			saveOptionCookie(opt);
		return config.options[name] ? &quot;true&quot; : &quot;false&quot;;
	}
});

merge(config.optionHandlers, {
	'pas': {
 		get: function(name) {
			if (config.options[&quot;chk&quot;+name]) {
				return encodeCookie(config.options[name].toString());
			} else {
				return &quot;&quot;;
			}
		},
		set: function(name,value) {config.options[name] = decodeCookie(value);}
	}
});

// need to reload options to load passwordOptions
loadOptionsCookie();

/*
if (!config.options['pasPassword'])
	config.options['pasPassword'] = '';

merge(config.optionsDesc,{
		pasPassword: &quot;Test password&quot;
	});
*/
//}}}

/***
|''Name:''|UploadPlugin|
|''Description:''|Save to web a TiddlyWiki|
|''Version:''|4.1.0|
|''Date:''|May 5, 2007|
|''Source:''|http://tiddlywiki.bidix.info/#UploadPlugin|
|''Documentation:''|http://tiddlywiki.bidix.info/#UploadPluginDoc|
|''Author:''|BidiX (BidiX (at) bidix (dot) info)|
|''License:''|[[BSD open source license|http://tiddlywiki.bidix.info/#%5B%5BBSD%20open%20source%20license%5D%5D ]]|
|''~CoreVersion:''|2.2.0 (#3125)|
|''Requires:''|PasswordOptionPlugin|
***/
//{{{
version.extensions.UploadPlugin = {
	major: 4, minor: 1, revision: 0,
	date: new Date(&quot;May 5, 2007&quot;),
	source: 'http://tiddlywiki.bidix.info/#UploadPlugin',
	author: 'BidiX (BidiX (at) bidix (dot) info',
	coreVersion: '2.2.0 (#3125)'
};

//
// Environment
//

if (!window.bidix) window.bidix = {}; // bidix namespace
bidix.debugMode = false;	// true to activate both in Plugin and UploadService
	
//
// Upload Macro
//

config.macros.upload = {
// default values
	defaultBackupDir: '',	//no backup
	defaultStoreScript: &quot;store.php&quot;,
	defaultToFilename: &quot;index.html&quot;,
	defaultUploadDir: &quot;.&quot;,
	authenticateUser: true	// UploadService Authenticate User
};
	
config.macros.upload.label = {
	promptOption: &quot;Save and Upload this TiddlyWiki with UploadOptions&quot;,
	promptParamMacro: &quot;Save and Upload this TiddlyWiki in %0&quot;,
	saveLabel: &quot;save to web&quot;, 
	saveToDisk: &quot;save to disk&quot;,
	uploadLabel: &quot;upload&quot;	
};

config.macros.upload.messages = {
	noStoreUrl: &quot;No store URL in parmeters or options&quot;,
	usernameOrPasswordMissing: &quot;Username or password missing&quot;
};

config.macros.upload.handler = function(place,macroName,params) {
	if (readOnly)
		return;
	var label;
	if (document.location.toString().substr(0,4) == &quot;http&quot;) 
		label = this.label.saveLabel;
	else
		label = this.label.uploadLabel;
	var prompt;
	if (params[0]) {
		prompt = this.label.promptParamMacro.toString().format([this.destFile(params[0], 
			(params[1] ? params[1]:bidix.basename(window.location.toString())), params[3])]);
	} else {
		prompt = this.label.promptOption;
	}
	createTiddlyButton(place, label, prompt, function() {config.macros.upload.action(params);}, null, null, this.accessKey);
};

config.macros.upload.action = function(params)
{
		// for missing macro parameter set value from options
		var storeUrl = params[0] ? params[0] : config.options.txtUploadStoreUrl;
		var toFilename = params[1] ? params[1] : config.options.txtUploadFilename;
		var backupDir = params[2] ? params[2] : config.options.txtUploadBackupDir;
		var uploadDir = params[3] ? params[3] : config.options.txtUploadDir;
		var username = params[4] ? params[4] : config.options.txtUploadUserName;
		var password = config.options.pasUploadPassword; // for security reason no password as macro parameter	
		// for still missing parameter set default value
		if ((!storeUrl) &amp;&amp; (document.location.toString().substr(0,4) == &quot;http&quot;)) 
			storeUrl = bidix.dirname(document.location.toString())+'/'+config.macros.upload.defaultStoreScript;
		if (storeUrl.substr(0,4) != &quot;http&quot;)
			storeUrl = bidix.dirname(document.location.toString()) +'/'+ storeUrl;
		if (!toFilename)
			toFilename = bidix.basename(window.location.toString());
		if (!toFilename)
			toFilename = config.macros.upload.defaultToFilename;
		if (!uploadDir)
			uploadDir = config.macros.upload.defaultUploadDir;
		if (!backupDir)
			backupDir = config.macros.upload.defaultBackupDir;
		// report error if still missing
		if (!storeUrl) {
			alert(config.macros.upload.messages.noStoreUrl);
			clearMessage();
			return false;
		}
		if (config.macros.upload.authenticateUser &amp;&amp; (!username || !password)) {
			alert(config.macros.upload.messages.usernameOrPasswordMissing);
			clearMessage();
			return false;
		}
		bidix.upload.uploadChanges(false,null,storeUrl, toFilename, uploadDir, backupDir, username, password); 
		return false; 
};

config.macros.upload.destFile = function(storeUrl, toFilename, uploadDir) 
{
	if (!storeUrl)
		return null;
		var dest = bidix.dirname(storeUrl);
		if (uploadDir &amp;&amp; uploadDir != '.')
			dest = dest + '/' + uploadDir;
		dest = dest + '/' + toFilename;
	return dest;
};

//
// uploadOptions Macro
//

config.macros.uploadOptions = {
	handler: function(place,macroName,params) {
		var wizard = new Wizard();
		wizard.createWizard(place,this.wizardTitle);
		wizard.addStep(this.step1Title,this.step1Html);
		var markList = wizard.getElement(&quot;markList&quot;);
		var listWrapper = document.createElement(&quot;div&quot;);
		markList.parentNode.insertBefore(listWrapper,markList);
		wizard.setValue(&quot;listWrapper&quot;,listWrapper);
		this.refreshOptions(listWrapper,false);
		var uploadCaption;
		if (document.location.toString().substr(0,4) == &quot;http&quot;) 
			uploadCaption = config.macros.upload.label.saveLabel;
		else
			uploadCaption = config.macros.upload.label.uploadLabel;
		
		wizard.setButtons([
				{caption: uploadCaption, tooltip: config.macros.upload.label.promptOption, 
					onClick: config.macros.upload.action},
				{caption: this.cancelButton, tooltip: this.cancelButtonPrompt, onClick: this.onCancel}
				
			]);
	},
	refreshOptions: function(listWrapper) {
		var uploadOpts = [
			&quot;txtUploadUserName&quot;,
			&quot;pasUploadPassword&quot;,
			&quot;txtUploadStoreUrl&quot;,
			&quot;txtUploadDir&quot;,
			&quot;txtUploadFilename&quot;,
			&quot;txtUploadBackupDir&quot;,
			&quot;chkUploadLog&quot;,
			&quot;txtUploadLogMaxLine&quot;,
			]
		var opts = [];
		for(i=0; i&lt;uploadOpts.length; i++) {
			var opt = {};
			opts.push()
			opt.option = &quot;&quot;;
			n = uploadOpts[i];
			opt.name = n;
			opt.lowlight = !config.optionsDesc[n];
			opt.description = opt.lowlight ? this.unknownDescription : config.optionsDesc[n];
			opts.push(opt);
		}
		var listview = ListView.create(listWrapper,opts,this.listViewTemplate);
		for(n=0; n&lt;opts.length; n++) {
			var type = opts[n].name.substr(0,3);
			var h = config.macros.option.types[type];
			if (h &amp;&amp; h.create) {
				h.create(opts[n].colElements['option'],type,opts[n].name,opts[n].name,&quot;no&quot;);
			}
		}
		
	},
	onCancel: function(e)
	{
		backstage.switchTab(null);
		return false;
	},
	
	wizardTitle: &quot;Upload with options&quot;,
	step1Title: &quot;These options are saved in cookies in your browser&quot;,
	step1Html: &quot;&lt;input type='hidden' name='markList'&gt;&lt;/input&gt;&lt;br&gt;&quot;,
	cancelButton: &quot;Cancel&quot;,
	cancelButtonPrompt: &quot;Cancel prompt&quot;,
	listViewTemplate: {
		columns: [
			{name: 'Description', field: 'description', title: &quot;Description&quot;, type: 'WikiText'},
			{name: 'Option', field: 'option', title: &quot;Option&quot;, type: 'String'},
			{name: 'Name', field: 'name', title: &quot;Name&quot;, type: 'String'}
			],
		rowClasses: [
			{className: 'lowlight', field: 'lowlight'} 
			]}
}

//
// upload functions
//

if (!bidix.upload) bidix.upload = {};

if (!bidix.upload.messages) bidix.upload.messages = {
	//from saving
	invalidFileError: &quot;The original file '%0' does not appear to be a valid TiddlyWiki&quot;,
	backupSaved: &quot;Backup saved&quot;,
	backupFailed: &quot;Failed to upload backup file&quot;,
	rssSaved: &quot;RSS feed uploaded&quot;,
	rssFailed: &quot;Failed to upload RSS feed file&quot;,
	emptySaved: &quot;Empty template uploaded&quot;,
	emptyFailed: &quot;Failed to upload empty template file&quot;,
	mainSaved: &quot;Main TiddlyWiki file uploaded&quot;,
	mainFailed: &quot;Failed to upload main TiddlyWiki file. Your changes have not been saved&quot;,
	//specific upload
	loadOriginalHttpPostError: &quot;Can't get original file&quot;,
	aboutToSaveOnHttpPost: 'About to upload on %0 ...',
	storePhpNotFound: &quot;The store script '%0' was not found.&quot;
};

bidix.upload.uploadChanges = function(onlyIfDirty,tiddlers,storeUrl,toFilename,uploadDir,backupDir,username,password)
{
	var callback = function(status,uploadParams,original,url,xhr) {
		if (!status) {
			displayMessage(bidix.upload.messages.loadOriginalHttpPostError);
			return;
		}
		if (bidix.debugMode) 
			alert(original.substr(0,500)+&quot;\n...&quot;);
		// Locate the storeArea div's 
		var posDiv = locateStoreArea(original);
		if((posDiv[0] == -1) || (posDiv[1] == -1)) {
			alert(config.messages.invalidFileError.format([localPath]));
			return;
		}
		bidix.upload.uploadRss(uploadParams,original,posDiv);
	};
	
	if(onlyIfDirty &amp;&amp; !store.isDirty())
		return;
	clearMessage();
	// save on localdisk ?
	if (document.location.toString().substr(0,4) == &quot;file&quot;) {
		var path = document.location.toString();
		var localPath = getLocalPath(path);
		saveChanges();
	}
	// get original
	var uploadParams = Array(storeUrl,toFilename,uploadDir,backupDir,username,password);
	var originalPath = document.location.toString();
	// If url is a directory : add index.html
	if (originalPath.charAt(originalPath.length-1) == &quot;/&quot;)
		originalPath = originalPath + &quot;index.html&quot;;
	var dest = config.macros.upload.destFile(storeUrl,toFilename,uploadDir);
	var log = new bidix.UploadLog();
	log.startUpload(storeUrl, dest, uploadDir,  backupDir);
	displayMessage(bidix.upload.messages.aboutToSaveOnHttpPost.format([dest]));
	if (bidix.debugMode) 
		alert(&quot;about to execute Http - GET on &quot;+originalPath);
	var r = doHttp(&quot;GET&quot;,originalPath,null,null,null,null,callback,uploadParams,null);
	if (typeof r == &quot;string&quot;)
		displayMessage(r);
	return r;
};

bidix.upload.uploadRss = function(uploadParams,original,posDiv) 
{
	var callback = function(status,params,responseText,url,xhr) {
		if(status) {
			var destfile = responseText.substring(responseText.indexOf(&quot;destfile:&quot;)+9,responseText.indexOf(&quot;\n&quot;, responseText.indexOf(&quot;destfile:&quot;)));
			displayMessage(bidix.upload.messages.rssSaved,bidix.dirname(url)+'/'+destfile);
			bidix.upload.uploadMain(params[0],params[1],params[2]);
		} else {
			displayMessage(bidix.upload.messages.rssFailed);			
		}
	};
	// do uploadRss
	if(config.options.chkGenerateAnRssFeed) {
		var rssPath = uploadParams[1].substr(0,uploadParams[1].lastIndexOf(&quot;.&quot;)) + &quot;.xml&quot;;
		var rssUploadParams = Array(uploadParams[0],rssPath,uploadParams[2],'',uploadParams[4],uploadParams[5]);
		bidix.upload.httpUpload(rssUploadParams,convertUnicodeToUTF8(generateRss()),callback,Array(uploadParams,original,posDiv));
	} else {
		bidix.upload.uploadMain(uploadParams,original,posDiv);
	}
};

bidix.upload.uploadMain = function(uploadParams,original,posDiv) 
{
	var callback = function(status,params,responseText,url,xhr) {
		var log = new bidix.UploadLog();
		if(status) {
			// if backupDir specified
			if ((params[3]) &amp;&amp; (responseText.indexOf(&quot;backupfile:&quot;) &gt; -1))  {
				var backupfile = responseText.substring(responseText.indexOf(&quot;backupfile:&quot;)+11,responseText.indexOf(&quot;\n&quot;, responseText.indexOf(&quot;backupfile:&quot;)));
				displayMessage(bidix.upload.messages.backupSaved,bidix.dirname(url)+'/'+backupfile);
			}
			var destfile = responseText.substring(responseText.indexOf(&quot;destfile:&quot;)+9,responseText.indexOf(&quot;\n&quot;, responseText.indexOf(&quot;destfile:&quot;)));
			displayMessage(bidix.upload.messages.mainSaved,bidix.dirname(url)+'/'+destfile);
			store.setDirty(false);
			log.endUpload(&quot;ok&quot;);
		} else {
			alert(bidix.upload.messages.mainFailed);
			displayMessage(bidix.upload.messages.mainFailed);
			log.endUpload(&quot;failed&quot;);			
		}
	};
	// do uploadMain
	var revised = bidix.upload.updateOriginal(original,posDiv);
	bidix.upload.httpUpload(uploadParams,revised,callback,uploadParams);
};

bidix.upload.httpUpload = function(uploadParams,data,callback,params)
{
	var localCallback = function(status,params,responseText,url,xhr) {
		url = (url.indexOf(&quot;nocache=&quot;) &lt; 0 ? url : url.substring(0,url.indexOf(&quot;nocache=&quot;)-1));
		if (xhr.status == httpStatus.NotFound)
			alert(bidix.upload.messages.storePhpNotFound.format([url]));
		if ((bidix.debugMode) || (responseText.indexOf(&quot;Debug mode&quot;) &gt;= 0 )) {
			alert(responseText);
			if (responseText.indexOf(&quot;Debug mode&quot;) &gt;= 0 )
				responseText = responseText.substring(responseText.indexOf(&quot;\n\n&quot;)+2);
		} else if (responseText.charAt(0) != '0') 
			alert(responseText);
		if (responseText.charAt(0) != '0')
			status = null;
		callback(status,params,responseText,url,xhr);
	};
	// do httpUpload
	var boundary = &quot;---------------------------&quot;+&quot;AaB03x&quot;;	
	var uploadFormName = &quot;UploadPlugin&quot;;
	// compose headers data
	var sheader = &quot;&quot;;
	sheader += &quot;--&quot; + boundary + &quot;\r\nContent-disposition: form-data; name=\&quot;&quot;;
	sheader += uploadFormName +&quot;\&quot;\r\n\r\n&quot;;
	sheader += &quot;backupDir=&quot;+uploadParams[3] +
				&quot;;user=&quot; + uploadParams[4] +
				&quot;;password=&quot; + uploadParams[5] +
				&quot;;uploaddir=&quot; + uploadParams[2];
	if (bidix.debugMode)
		sheader += &quot;;debug=1&quot;;
	sheader += &quot;;;\r\n&quot;; 
	sheader += &quot;\r\n&quot; + &quot;--&quot; + boundary + &quot;\r\n&quot;;
	sheader += &quot;Content-disposition: form-data; name=\&quot;userfile\&quot;; filename=\&quot;&quot;+uploadParams[1]+&quot;\&quot;\r\n&quot;;
	sheader += &quot;Content-Type: text/html;charset=UTF-8&quot; + &quot;\r\n&quot;;
	sheader += &quot;Content-Length: &quot; + data.length + &quot;\r\n\r\n&quot;;
	// compose trailer data
	var strailer = new String();
	strailer = &quot;\r\n--&quot; + boundary + &quot;--\r\n&quot;;
	data = sheader + data + strailer;
	if (bidix.debugMode) alert(&quot;about to execute Http - POST on &quot;+uploadParams[0]+&quot;\n with \n&quot;+data.substr(0,500)+ &quot; ... &quot;);
	var r = doHttp(&quot;POST&quot;,uploadParams[0],data,&quot;multipart/form-data; boundary=&quot;+boundary,uploadParams[4],uploadParams[5],localCallback,params,null);
	if (typeof r == &quot;string&quot;)
		displayMessage(r);
	return r;
};

// same as Saving's updateOriginal but without convertUnicodeToUTF8 calls
bidix.upload.updateOriginal = function(original, posDiv)
{
	if (!posDiv)
		posDiv = locateStoreArea(original);
	if((posDiv[0] == -1) || (posDiv[1] == -1)) {
		alert(config.messages.invalidFileError.format([localPath]));
		return;
	}
	var revised = original.substr(0,posDiv[0] + startSaveArea.length) + &quot;\n&quot; +
				store.allTiddlersAsHtml() + &quot;\n&quot; +
				original.substr(posDiv[1]);
	var newSiteTitle = getPageTitle().htmlEncode();
	revised = revised.replaceChunk(&quot;&lt;title&quot;+&quot;&gt;&quot;,&quot;&lt;/title&quot;+&quot;&gt;&quot;,&quot; &quot; + newSiteTitle + &quot; &quot;);
	revised = updateMarkupBlock(revised,&quot;PRE-HEAD&quot;,&quot;MarkupPreHead&quot;);
	revised = updateMarkupBlock(revised,&quot;POST-HEAD&quot;,&quot;MarkupPostHead&quot;);
	revised = updateMarkupBlock(revised,&quot;PRE-BODY&quot;,&quot;MarkupPreBody&quot;);
	revised = updateMarkupBlock(revised,&quot;POST-SCRIPT&quot;,&quot;MarkupPostBody&quot;);
	return revised;
};

//
// UploadLog
// 
// config.options.chkUploadLog :
//		false : no logging
//		true : logging
// config.options.txtUploadLogMaxLine :
//		-1 : no limit
//      0 :  no Log lines but UploadLog is still in place
//		n :  the last n lines are only kept
//		NaN : no limit (-1)

bidix.UploadLog = function() {
	if (!config.options.chkUploadLog) 
		return; // this.tiddler = null
	this.tiddler = store.getTiddler(&quot;UploadLog&quot;);
	if (!this.tiddler) {
		this.tiddler = new Tiddler();
		this.tiddler.title = &quot;UploadLog&quot;;
		this.tiddler.text = &quot;| !date | !user | !location | !storeUrl | !uploadDir | !toFilename | !backupdir | !origin |&quot;;
		this.tiddler.created = new Date();
		this.tiddler.modifier = config.options.txtUserName;
		this.tiddler.modified = new Date();
		store.addTiddler(this.tiddler);
	}
	return this;
};

bidix.UploadLog.prototype.addText = function(text) {
	if (!this.tiddler)
		return;
	// retrieve maxLine when we need it
	var maxLine = parseInt(config.options.txtUploadLogMaxLine,10);
	if (isNaN(maxLine))
		maxLine = -1;
	// add text
	if (maxLine != 0) 
		this.tiddler.text = this.tiddler.text + text;
	// Trunck to maxLine
	if (maxLine &gt;= 0) {
		var textArray = this.tiddler.text.split('\n');
		if (textArray.length &gt; maxLine + 1)
			textArray.splice(1,textArray.length-1-maxLine);
			this.tiddler.text = textArray.join('\n');		
	}
	// update tiddler fields
	this.tiddler.modifier = config.options.txtUserName;
	this.tiddler.modified = new Date();
	store.addTiddler(this.tiddler);
	// refresh and notifiy for immediate update
	story.refreshTiddler(this.tiddler.title);
	store.notify(this.tiddler.title, true);
};

bidix.UploadLog.prototype.startUpload = function(storeUrl, toFilename, uploadDir,  backupDir) {
	if (!this.tiddler)
		return;
	var now = new Date();
	var text = &quot;\n| &quot;;
	var filename = bidix.basename(document.location.toString());
	if (!filename) filename = '/';
	text += now.formatString(&quot;0DD/0MM/YYYY 0hh:0mm:0ss&quot;) +&quot; | &quot;;
	text += config.options.txtUserName + &quot; | &quot;;
	text += &quot;[[&quot;+filename+&quot;|&quot;+location + &quot;]] |&quot;;
	text += &quot; [[&quot; + bidix.basename(storeUrl) + &quot;|&quot; + storeUrl + &quot;]] | &quot;;
	text += uploadDir + &quot; | &quot;;
	text += &quot;[[&quot; + bidix.basename(toFilename) + &quot; | &quot; +toFilename + &quot;]] | &quot;;
	text += backupDir + &quot; |&quot;;
	this.addText(text);
};

bidix.UploadLog.prototype.endUpload = function(status) {
	if (!this.tiddler)
		return;
	this.addText(&quot; &quot;+status+&quot; |&quot;);
};

//
// Utilities
// 

bidix.checkPlugin = function(plugin, major, minor, revision) {
	var ext = version.extensions[plugin];
	if (!
		(ext  &amp;&amp; 
			((ext.major &gt; major) || 
			((ext.major == major) &amp;&amp; (ext.minor &gt; minor))  ||
			((ext.major == major) &amp;&amp; (ext.minor == minor) &amp;&amp; (ext.revision &gt;= revision))))) {
			// write error in PluginManager
			if (pluginInfo)
				pluginInfo.log.push(&quot;Requires &quot; + plugin + &quot; &quot; + major + &quot;.&quot; + minor + &quot;.&quot; + revision);
			eval(plugin); // generate an error : &quot;Error: ReferenceError: xxxx is not defined&quot;
	}
};

bidix.dirname = function(filePath) {
	if (!filePath) 
		return;
	var lastpos;
	if ((lastpos = filePath.lastIndexOf(&quot;/&quot;)) != -1) {
		return filePath.substring(0, lastpos);
	} else {
		return filePath.substring(0, filePath.lastIndexOf(&quot;\\&quot;));
	}
};

bidix.basename = function(filePath) {
	if (!filePath) 
		return;
	var lastpos;
	if ((lastpos = filePath.lastIndexOf(&quot;#&quot;)) != -1) 
		filePath = filePath.substring(0, lastpos);
	if ((lastpos = filePath.lastIndexOf(&quot;/&quot;)) != -1) {
		return filePath.substring(lastpos + 1);
	} else
		return filePath.substring(filePath.lastIndexOf(&quot;\\&quot;)+1);
};

bidix.initOption = function(name,value) {
	if (!config.options[name])
		config.options[name] = value;
};

//
// Initializations
//

// require PasswordOptionPlugin 1.0.1 or better
bidix.checkPlugin(&quot;PasswordOptionPlugin&quot;, 1, 0, 1);

// styleSheet
setStylesheet('.txtUploadStoreUrl, .txtUploadBackupDir, .txtUploadDir {width: 22em;}',&quot;uploadPluginStyles&quot;);

//optionsDesc
merge(config.optionsDesc,{
	txtUploadStoreUrl: &quot;Url of the UploadService script (default: store.php)&quot;,
	txtUploadFilename: &quot;Filename of the uploaded file (default: in index.html)&quot;,
	txtUploadDir: &quot;Relative Directory where to store the file (default: . (downloadService directory))&quot;,
	txtUploadBackupDir: &quot;Relative Directory where to backup the file. If empty no backup. (default: ''(empty))&quot;,
	txtUploadUserName: &quot;Upload Username&quot;,
	pasUploadPassword: &quot;Upload Password&quot;,
	chkUploadLog: &quot;do Logging in UploadLog (default: true)&quot;,
	txtUploadLogMaxLine: &quot;Maximum of lines in UploadLog (default: 10)&quot;
});

// Options Initializations
bidix.initOption('txtUploadStoreUrl','');
bidix.initOption('txtUploadFilename','');
bidix.initOption('txtUploadDir','');
bidix.initOption('txtUploadBackupDir','');
bidix.initOption('txtUploadUserName','');
bidix.initOption('pasUploadPassword','');
bidix.initOption('chkUploadLog',true);
bidix.initOption('txtUploadLogMaxLine','10');


/* don't want this for tiddlyspot sites

// Backstage
merge(config.tasks,{
	uploadOptions: {text: &quot;upload&quot;, tooltip: &quot;Change UploadOptions and Upload&quot;, content: '&lt;&lt;uploadOptions&gt;&gt;'}
});
config.backstageTasks.push(&quot;uploadOptions&quot;);

*/


//}}}


</pre>
</div>
<div title="UploadPlugin " modifier="MorrisGray" modified="200709122249" created="200709122244" tags="list msgray">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;BidiX&quot;,&quot;link&quot;:&quot;http://tiddlywiki.bidix.info/#%5B%5BExtension%20directory%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2.0&quot;,&quot;description&quot;:&quot;Upload ~TiddlyWikis to your online server.&quot;,&quot;category&quot;:&quot;Uploading TiddlyWikis to a server&quot;}&lt;/data&gt;</pre>
</div>
<div title="Uploading TiddlyWikis to a server" modifier="giffmex" modified="200708302230" created="200708302144">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Uploading TiddlyWikis to a server&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="ViewHtml" modifier="giffmex" modified="200709092145" created="200709092143" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Allows you to see a tiddler as HTML or as Javascript.&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;}&lt;/data&gt;</pre>
</div>
<div title="ViewShadow" modifier="tiddlyvault" modified="200712051350" created="200712051349" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Displays the default contents of a shadow tiddler.&quot;,&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;}&lt;/data&gt;</pre>
</div>
<div title="ViewTemplate" modifier="giffmex" modified="200709131248" created="200708301337" tags="killbookmark" author="Simon Baird" link="[[MonkeyPirateTW|http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D]]" category="Formatting compatibility with other programs">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar closeTiddler closeOthers +editTiddler &gt; fields syncing permalink references jump'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='viewer' macro='view text wikified'&gt;&lt;div align=&quot;center&quot;&gt;&lt;div style='float:center;' macro='tiddler ThisPermalink'&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="ViewTiddlerAsHtml" modifier="tiddlyvault" modified="200712051401" created="200712051354" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Displays a tiddler as raw HTML.&quot;}&lt;/data&gt;</pre>
</div>
<div title="ViewTiddlerAsJs" modifier="tiddlyvault" modified="200712051402" created="200712051354" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Displays a tiddler as a JavaScript string (e.g. for developers to use as shadow tiddler).&quot;,&quot;author&quot;:&quot;Saq Imtiaz (Lewcid)&quot;,&quot;link&quot;:&quot;http://lewcid.org/tiddlywiki-bookmarklets/&quot;,&quot;format&quot;:&quot;Bookmarklet&quot;,&quot;twversion&quot;:&quot;2.0&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;}&lt;/data&gt;</pre>
</div>
<div title="VisitorCounterPlugin" modifier="giffmex" modified="200709021230" created="200709021229" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Use cookies to track/show private, personal visit counter and timestamp of last visit.&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="Was Literate Haskell" modifier="giffmex" modified="200709092246" created="200709092245" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Conal Elliott&quot;,&quot;link&quot;:&quot;http://journal.conal.net/#%5B%5Bsite%20map%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Haskell&quot;}&lt;/data&gt;</pre>
</div>
<div title="WebDAVSavingPlugin" modifier="giffmex" modified="200709120058" created="200709120057" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;BidiX&quot;,&quot;link&quot;:&quot;http://tiddlywiki.bidix.info/#%5B%5BExtension%20directory%5D%5D&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Uploading TiddlyWikis to a server&quot;,&quot;description&quot;:&quot;The \&quot;save to web\&quot; function without script.&quot;}&lt;/data&gt;</pre>
</div>
<div title="WebView" modifier="giffmex" modified="200709032147" created="200709032146" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;WebView lets you customize how your TiddlyWiki file will appear when viewed as a website (i.e. when accessed via an \&quot;http:...\&quot; URL). This lets you use TiddlyWiki as a website without it being obvious or confusing to your web visitors. You can selectively set which toolbar buttons appear to visitors as well hide/show the tiddler tag footers, sidebar commands, options, advanced options, and even the sidebar tabs. You can even disable the \&quot;double-click to edit\&quot; feature.&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;,&quot;twversion&quot;:&quot;not 2.0 compatible&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://www.personal.psu.edu/ach12/tiddlywiki/extensions.htm&quot;,&quot;author&quot;:&quot;Alan Hecht&quot;}&lt;/data&gt;</pre>
</div>
<div title="WeblogPlugin" modifier="giffmex" created="200709030119" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Clint Checketts&quot;,&quot;link&quot;:&quot;http://tiddlystyles.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;Posts the most recently edited tiddlers when the TiddlyWiki is opened, similar to a blog.&quot;,&quot;category&quot;:&quot;Aids for website visitors&quot;}&lt;/data&gt;</pre>
</div>
<div title="Welcome to Tiddlyspot" modifier="MorrisGray" modified="200709122301" created="200709122240" tags="msgray killbookmark">
<pre>This document is a ~TiddlyWiki from tiddlyspot.com.  A ~TiddlyWiki is an electronic notebook that is great for managing todo lists, personal information, and all sorts of things.

@@font-weight:bold;font-size:1.3em;color:#444; //What now?// &amp;nbsp;&amp;nbsp;@@ Before you can save any changes, you need to enter your password in the form below.  Then configure privacy and other site settings at your [[control panel|http://twvault.tiddlyspot.com/controlpanel]] (your control panel username is //twvault//).
&lt;&lt;tiddler TspotControls&gt;&gt;
See also GettingStarted.

@@font-weight:bold;font-size:1.3em;color:#444; //Working online// &amp;nbsp;&amp;nbsp;@@ You can edit this ~TiddlyWiki right now, and save your changes using the &quot;save to web&quot; button in the column on the right.

@@font-weight:bold;font-size:1.3em;color:#444; //Working offline// &amp;nbsp;&amp;nbsp;@@ A fully functioning copy of this ~TiddlyWiki can be saved onto your hard drive or USB stick.  You can make changes and save them locally without being connected to the Internet.  When you're ready to sync up again, just click &quot;upload&quot; and your ~TiddlyWiki will be saved back to tiddlyspot.com.

@@font-weight:bold;font-size:1.3em;color:#444; //Help!// &amp;nbsp;&amp;nbsp;@@ Find out more about ~TiddlyWiki at [[TiddlyWiki.com|http://tiddlywiki.com]].  Also visit [[TiddlyWiki Guides|http://tiddlywikiguides.org]] for documentation on learning and using ~TiddlyWiki. New users are especially welcome on the [[TiddlyWiki mailing list|http://groups.google.com/group/TiddlyWiki]], which is an excellent place to ask questions and get help.  If you have a tiddlyspot related problem email [[tiddlyspot support|mailto:support@tiddlyspot.com]].

@@font-weight:bold;font-size:1.3em;color:#444; //Enjoy :)// &amp;nbsp;&amp;nbsp;@@ We hope you like using your tiddlyspot.com site.  Please email [[feedback@tiddlyspot.com|mailto:feedback@tiddlyspot.com]] with any comments or suggestions.</pre>
</div>
<div title="Welcome to the TiddlyVault" modifier="tiddlyvault" modified="200801191356" created="200708311257" tags="Welcome killbookmark" changecount="4">
<pre>{{whitetext{(filler)}}}
TiddlyVault is a comprehensive collection of plugins, macros, and other extensions available to enhance your ~TiddlyWiki experience. It is a sequel of sorts to my tutorial [[Tiddlywiki for the rest of us|http://www.giffmex.org/twfortherestofus.html]] and also to [[TiddlyWiki in Action|http://giffmex.tiddlyspot.com]], my showcase of others' ~TiddlyWikis from around the world.

There are over 400 plugins, macros and themes listed. An official repository for plugins (and I assume macro and other extensions) is being developed and when that is ready I will include here a link to the repository for you. So feel free to bookmark this page as your source for ~TiddlyWiki extensions. And bookmark the pages of the extensions you use most.

A very special thanks to {{colory{Morris Gray}}} who spent over seven hours revamping the Vault with better tables, bookmarking features and a better search mechanism. Awesome job, Morris! Thanks also to all who e-mailed or posted with compliments and suggestions. Your response has been overwhelming and encouraging. Blessings to you all,

Dave Gifford
Mexico City

P.S: If you found TiddlyVault helpful, would you consider helping me buy books via an Amazon gift certificate?&lt;br&gt;&lt;br&gt;&lt;html&gt;&lt;a href=&quot;https://www.amazon.com/gp/registry/wishlist/1OTJM9IE7SPVS/ref=wl_web/&quot;&gt;&lt;img src=&quot;https://images-na.ssl-images-amazon.com/images/G/01/gifts/registries/wishlist/v2/web/wl-btn-74-b._V46774601_.gif&quot; width=&quot;74&quot; alt=&quot;My Amazon.com Wish List&quot; height=&quot;42&quot; border=&quot;0&quot; /&gt;&lt;/a&gt;&lt;/html&gt;</pre>
</div>
<div title="WikiBar" modifier="giffmex" modified="200709030227" created="200709030221" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;twversion&quot;:&quot;2.0.0&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;WikiBar is a toolbar that gives access to most of TiddlyWiki's formatting features with a few clicks. It's a handy tool for people who are not familiar with TiddlyWiki syntax. Besides, with WikiBar-addons, users can extend the power of WikiBar.&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://aiddlywiki.sourceforge.net/wikibar_demo_2.html&quot;}&lt;/data&gt;</pre>
</div>
<div title="WikifyContentsMacro" modifier="giffmex" created="200709092145" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;--&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw2.tiddlyspot.com/#Plugins&quot;}&lt;/data&gt;</pre>
</div>
<div title="WikifyPlugin" modifier="giffmex" modified="200709031238" created="200709031237" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Substitute fields, slices, or computed values into wiki-syntax source and render results dynamically. ALPHA- USE AT YOUR OWN RISK.&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;}&lt;/data&gt;</pre>
</div>
<div title="WikipediaPlugin" modifier="giffmex" modified="200709031934" created="200709031933" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;A TiddlyWikiMacro to easily create a link to a Wikipedia entry.&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;author&quot;:&quot;Frank Dellaert&quot;,&quot;link&quot;:&quot;http://www-static.cc.gatech.edu/~dellaert/dhtml/tiddly.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;--&quot;}&lt;/data&gt;</pre>
</div>
<div title="Woodshop" modifier="giffmex" created="200709031329" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Theme&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;twversion&quot;:&quot;2.1&quot;,&quot;category&quot;:&quot;Themes&quot;,&quot;description&quot;:&quot;Alternative stylesheet theme: dark/med/light wood backgrounds.&quot;}&lt;/data&gt;</pre>
</div>
<div title="WordCountMacro" modifier="giffmex" modified="200709011752" created="200709011744" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;category&quot;:&quot;Tiddler manipulation&quot;,&quot;author&quot;:&quot;Simon Baird (~MonkeyPirate)&quot;,&quot;link&quot;:&quot;http://mptw.tiddlyspot.com/#systemConfig%20%5B%5BMore%20Plugins%5D%5D&quot;,&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;description&quot;:&quot;A one-liner that displays a tiddler's word count.&quot;}&lt;/data&gt;</pre>
</div>
<div title="Working with files and programs" modifier="giffmex" created="200709011350">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Working with files and programs&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="Working with keyboards" modifier="giffmex" created="200709030038">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Working with keyboards&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="Working with multiple TiddlyWikis" modifier="giffmex" modified="200708302231" created="200708302144">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Working with multiple TiddlyWikis&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="Working with other codes and formats" modifier="giffmex" modified="200709011409" created="200708302143">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Working with other codes and formats&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="Working with websites, incl IFrames" modifier="giffmex" modified="200709011351" created="200709011350">
<pre>&lt;&lt;forEachTiddler 
where 
'tiddler.tags.contains(&quot;list&quot;) &amp;&amp; tiddler.data(&quot;category&quot;) == &quot;Working with websites, incl IFrames&quot;'
sortBy
'tiddler.title'
write 
'&quot;|vertical-align:top;@@white-space: nowrap;{{large{[[&quot;
+tiddler.title
+&quot;]]}}}@@&lt;br&gt;{{bold{Format:}}}  &quot;
+tiddler.data(&quot;format&quot;)
+&quot;&lt;br&gt;{{bold{Author:}}}  &quot;
+tiddler.data(&quot;author&quot;)
+&quot;&lt;br&gt;{{bold{Link:}}}  &quot;
+&quot;[[here|&quot;
+tiddler.data(&quot;link&quot;)
+&quot;]] &lt;br&gt;{{bold{For TW version:}}}  &quot;
+tiddler.data(&quot;twversion&quot;)
+&quot;|vertical-align:top;{{bold{Description:}}}&lt;br&gt;&quot;
+tiddler.data(&quot;description&quot;)
+&quot;|\n&quot;'
&gt;&gt;</pre>
</div>
<div title="WorkingWith" modifier="giffmex" modified="200709030224" created="200709011424" tags="menus">
<pre>*[[...browsers]]
*[[...files and programs|Working with files and programs]]
*[[...keyboards|Working with keyboards]]
*[[...multiple TiddlyWikis|Working with multiple TiddlyWikis]]
*[[...other codes and formats|Working with other codes and formats]]
*[[...servers|Uploading TiddlyWikis to a server]]
*[[...websites, incl. IFrames|Working with websites, incl IFrames]]</pre>
</div>
<div title="WriteMacro (Jack's)" modifier="giffmex" modified="200709030048" created="200709030047" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;description&quot;:&quot;Makes use of evalled parameters to write values to the current tiddler or execute code.&quot;,&quot;link&quot;:&quot;http://jackparke.googlepages.com/jtw.html&quot;,&quot;author&quot;:&quot;Jack Parke (Jack's)&quot;,&quot;twversion&quot;:&quot;--&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;}&lt;/data&gt;</pre>
</div>
<div title="Wysiwyg plugin" modifier="giffmex" modified="200708310009" created="200708310008" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;? (VisualTW)&quot;,&quot;link&quot;:&quot;http://visualtw.ouvaton.org/VisualTW.html&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2.x&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;Wysiwyg richtext editor for TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="XHTML 10Plugin" modifier="giffmex" modified="200709011413" created="200708311237" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Once the plugin is installed the existing tiddlers of that TiddlyWiki are automatically converted to the new (XHTML 1.0 compliant) format on the first save. After that all changes are stored in the XHTML format.&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="XMLReader" modifier="giffmex" modified="200709011352" created="200708311311" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bram Chen (~PrinceTW)&quot;,&quot;link&quot;:&quot;http://ptw.sourceforge.net/ptwe.html#Plugins&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2.0&quot;,&quot;category&quot;:&quot;Working with websites, incl IFrames&quot;,&quot;description&quot;:&quot;A reader for XML for ~TiddlyWiki.&quot;}&lt;/data&gt;</pre>
</div>
<div title="YourSearchPlugin" modifier="giffmex" modified="200708302218" created="200708302217" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;link&quot;:&quot;http://tiddlywiki.abego-software.de/#Plugins&quot;,&quot;author&quot;:&quot;Udo Borkowski (Abego)&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Searching and indexing tiddlers&quot;,&quot;description&quot;:&quot;Search your TiddlyWiki with advanced search features such as result lists, tiddler preview, result ranking, search filters, combined searches and many more.&quot;,&quot;twversion&quot;:&quot;2.1.0&quot;}&lt;/data&gt;</pre>
</div>
<div title="ZoomTextPlugin" modifier="giffmex" modified="200708302332" created="200708302331" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Plugin&quot;,&quot;author&quot;:&quot;Eric Shulman (~TiddlyTools)&quot;,&quot;link&quot;:&quot;http://www.tiddlytools.com&quot;,&quot;category&quot;:&quot;Formatting and viewing text&quot;,&quot;description&quot;:&quot;Display text with timer-based font animation to automatically grow/shrink text.&quot;,&quot;twversion&quot;:&quot;2.2&quot;}&lt;/data&gt;</pre>
</div>
<div title="arXiv" modifier="giffmex" modified="200708302138" created="200708302137" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob McElrath (Bob's)&quot;,&quot;link&quot;:&quot;http://bob.mcelrath.org/plugins.html#systemConfig&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;description&quot;:&quot;This formatting plugin will render links to the arXiv preprint system. If you type a paper reference such as hep-ph/0509024, it will be rendered as an external link to the abstract of that paper.&quot;,&quot;category&quot;:&quot;Scientific and mathematical notation&quot;,&quot;twversion&quot;:&quot;2.0.3&quot;}&lt;/data&gt;</pre>
</div>
<div title="ccTiddlyAdaptorPlugin" modifier="giffmex" created="200709021236" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Martin Budden&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;Adaptor for moving and converting data to and from ccTiddly wikis.&quot;,&quot;link&quot;:&quot;http://www.martinswiki.com&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.2&quot;}&lt;/data&gt;</pre>
</div>
<div title="fileDate" modifier="giffmex" created="200709031309" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Returns the date/time that the current TiddlyWiki file was saved.&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;,&quot;twversion&quot;:&quot;2.0.0 or higher&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;link&quot;:&quot;http://knighjm.googlepages.com/knightnet-default-tw.html#PlugIn-Knightnet&quot;,&quot;author&quot;:&quot;Julian Knight&quot;}&lt;/data&gt;</pre>
</div>
<div title="jsMath" modifier="giffmex" modified="200708302140" created="200708302139" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Bob McElrath (Bob's)&quot;,&quot;link&quot;:&quot;http://bob.mcelrath.org/plugins.html#systemConfig&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;category&quot;:&quot;Scientific and mathematical notation&quot;,&quot;description&quot;:&quot;LaTeX is the world standard for specifying, typesetting, and communicating mathematics among scientists, engineers, and mathematicians. For more information aboutLaTeX itself, visit the LaTeX Project. This plugin typesets math using jsMath, which is an implementation of the TeX math rules and typesetting in javascript, for your browser. Notice the small button in the lower right corner which opens its control panel.&quot;,&quot;twversion&quot;:&quot;2.0.3&quot;}&lt;/data&gt;</pre>
</div>
<div title="killbookmarkViewTemplate" modifier="MorrisGray" created="200709122304" tags="excludeLists excludeSearch killbookmark msgray">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar closeTiddler closeOthers +editTiddler &gt; fields syncing permalink references jump'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='viewer' macro='view text wikified'&gt;&lt;div align=&quot;center&quot;&gt;&lt;/div&gt;
&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="saveClose" modifier="giffmex" modified="200709031337" created="200709031310" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;description&quot;:&quot;Extends the TiddlyWiki commands for the toolbar macro by adding a button to save and then close the tiddler immediately. It simply duplicates and mashes the code from the two pre-defined commands SaveTiddler and closeTiddler.&quot;,&quot;author&quot;:&quot;Julian Knight&quot;,&quot;link&quot;:&quot;http://knighjm.googlepages.com/knightnet-default-tw.html#PlugIn-Knightnet&quot;,&quot;format&quot;:&quot;Plugin&quot;,&quot;twversion&quot;:&quot;2.0.0 or higher&quot;,&quot;category&quot;:&quot;Saving and reviewing changes&quot;}&lt;/data&gt;</pre>
</div>
<div title="sourcenikFormatter" modifier="TiddlyVault" modified="201204231812" created="201204231807" tags="list" changecount="1">
<pre>&lt;&lt;formTiddler NewPluginTemplateInput&gt;&gt;&lt;data&gt;{&quot;author&quot;:&quot;Jens Killus&quot;,&quot;link&quot;:&quot;http://coderswiki.jenskillus.de/&quot;,&quot;category&quot;:&quot;Working with other codes and formats&quot;,&quot;description&quot;:&quot;My Name is Jens Killus from near Cologne/Germany. I've written a small plugin for TiddlyWiki for integrating Alex Gorbatchev's SyntaxHighlighter. This pure javascript library provides syntax highlightning for PHP, JavaScript and other languages. Please feel free to add a link to my plugin in your TiddlyVault. Code for the plugin: http://coderswiki.jenskillus.de/#sourcenikFormatter Demo: http://coderswiki.jenskillus.de/#FormatterTest Download as ZIP-Archive : http://coderswiki.jenskillus.de/coderswiki.zip&quot;}&lt;/data&gt;</pre>
</div>
<div title="writeItMacro" modifier="giffmex" modified="200709030033" created="200709030030" tags="list">
<pre>&lt;&lt;formTiddler NewPluginTemplate&gt;&gt;&lt;data&gt;{&quot;format&quot;:&quot;Macro&quot;,&quot;twversion&quot;:&quot;2.x&quot;,&quot;description&quot;:&quot;A macro allowing for special links not possible with standard formatting.&quot;,&quot;category&quot;:&quot;Links&quot;}&lt;/data&gt;</pre>
</div>
</div>
<!--POST-STOREAREA-->
<!--POST-BODY-START-->
<!--POST-BODY-END-->
<script type="text/javascript">
//<![CDATA[
//
// Please note:
// 
// * This code is designed to be readable but for compactness it only includes brief comments. You can see fuller comments
//   in the project Subversion repository at http://svn.tiddlywiki.org/Trunk/core/
//
// * You should never need to modify this source code directly. TiddlyWiki is carefully designed to allow deep customisation
//   without changing the core code. Please consult the development group at http://groups.google.com/group/TiddlyWikiDev
// 

//--
//-- Configuration repository
//--

// Miscellaneous options
var config = {
	numRssItems: 20, // Number of items in the RSS feed
	animDuration: 400, // Duration of UI animations in milliseconds
	cascadeFast: 20, // Speed for cascade animations (higher == slower)
	cascadeSlow: 60, // Speed for EasterEgg cascade animations
	cascadeDepth: 5 // Depth of cascade animation
};

// Adaptors
config.adaptors = {};

// Backstage tasks
config.tasks = {};

// Annotations
config.annotations = {};

// Custom fields to be automatically added to new tiddlers
config.defaultCustomFields = {};

// Messages
config.messages = {
	messageClose: {},
	dates: {},
	tiddlerPopup: {}
};

// Options that can be set in the options panel and/or cookies
config.options = {
	chkRegExpSearch: false,
	chkCaseSensitiveSearch: false,
	chkAnimate: true,
	chkSaveBackups: true,
	chkAutoSave: false,
	chkGenerateAnRssFeed: false,
	chkSaveEmptyTemplate: false,
	chkOpenInNewWindow: true,
	chkToggleLinks: false,
	chkHttpReadOnly: true,
	chkForceMinorUpdate: false,
	chkConfirmDelete: true,
	chkInsertTabs: false,
	chkUsePreForStorage: true, // Whether to use <pre> format for storage
	chkDisplayStartupTime: false,
	txtBackupFolder: "",
	txtMainTab: "tabTimeline",
	txtMoreTab: "moreTabAll",
	txtMaxEditRows: "30",
	txtFileSystemCharSet: "UTF-8"
	};
config.optionsDesc = {};

// List of notification functions to be called when certain tiddlers are changed or deleted
config.notifyTiddlers = [
	{name: "StyleSheetLayout", notify: refreshStyles},
	{name: "StyleSheetColors", notify: refreshStyles},
	{name: "StyleSheet", notify: refreshStyles},
	{name: "StyleSheetPrint", notify: refreshStyles},
	{name: "PageTemplate", notify: refreshPageTemplate},
	{name: "SiteTitle", notify: refreshPageTitle},
	{name: "SiteSubtitle", notify: refreshPageTitle},
	{name: "ColorPalette", notify: refreshColorPalette},
	{name: null, notify: refreshDisplay}
];

// Default tiddler templates
var DEFAULT_VIEW_TEMPLATE = 1;
var DEFAULT_EDIT_TEMPLATE = 2;
config.tiddlerTemplates = {
	1: "ViewTemplate",
	2: "EditTemplate"
};

// More messages (rather a legacy layout that shouldn't really be like this)
config.views = {
	wikified: {
		tag: {}
	},
	editor: {
		tagChooser: {}
	}
};

// Backstage tasks
config.backstageTasks = ["save","sync","importTask","tweak","plugins"];

// Macros; each has a 'handler' member that is inserted later
config.macros = {
	today: {},
	version: {},
	search: {sizeTextbox: 15},
	tiddler: {},
	tag: {},
	tags: {},
	tagging: {},
	timeline: {},
	allTags: {},
	list: {
		all: {},
		missing: {},
		orphans: {},
		shadowed: {},
		touched: {}
	},
	closeAll: {},
	permaview: {},
	saveChanges: {},
	slider: {},
	option: {},
	options: {},
	newTiddler: {},
	newJournal: {},
	sparkline: {},
	tabs: {},
	gradient: {},
	message: {},
	view: {},
	edit: {},
	tagChooser: {},
	toolbar: {},
	br: {},
	plugins: {},
	refreshDisplay: {},
	importTiddlers: {},
	sync: {},
	annotations: {}
};

// Commands supported by the toolbar macro
config.commands = {
	closeTiddler: {},
	closeOthers: {},
	editTiddler: {},
	saveTiddler: {hideReadOnly: true},
	cancelTiddler: {},
	deleteTiddler: {hideReadOnly: true},
	permalink: {},
	references: {type: "popup"},
	jump: {type: "popup"},
	syncing: {type: "popup"},
	fields: {type: "popup"}
};

// Browser detection... In a very few places, there's nothing else for it but to know what browser we're using.
config.userAgent = navigator.userAgent.toLowerCase();
config.browser = {
	isIE: config.userAgent.indexOf("msie") != -1 && config.userAgent.indexOf("opera") == -1,
	isGecko: config.userAgent.indexOf("gecko") != -1,
	ieVersion: /MSIE (\d.\d)/i.exec(config.userAgent), // config.browser.ieVersion[1], if it exists, will be the IE version string, eg "6.0"
	isSafari: config.userAgent.indexOf("applewebkit") != -1,
	isBadSafari: !((new RegExp("[\u0150\u0170]","g")).test("\u0150")),
	firefoxDate: /gecko\/(\d{8})/i.exec(config.userAgent), // config.browser.firefoxDate[1], if it exists, will be Firefox release date as "YYYYMMDD"
	isOpera: config.userAgent.indexOf("opera") != -1,
	isLinux: config.userAgent.indexOf("linux") != -1,
	isUnix: config.userAgent.indexOf("x11") != -1,
	isMac: config.userAgent.indexOf("mac") != -1,
	isWindows: config.userAgent.indexOf("win") != -1
};

// Basic regular expressions
config.textPrimitives = {
	upperLetter: "[A-Z\u00c0-\u00de\u0150\u0170]",
	lowerLetter: "[a-z0-9_\\-\u00df-\u00ff\u0151\u0171]",
	anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]",
	anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]"
};
if(config.browser.isBadSafari) {
	config.textPrimitives = {
		upperLetter: "[A-Z\u00c0-\u00de]",
		lowerLetter: "[a-z0-9_\\-\u00df-\u00ff]",
		anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff]",
		anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff]"
	};
}
config.textPrimitives.sliceSeparator = "::";
config.textPrimitives.urlPattern = "[a-z]{3,8}:[^\\s:'\"][^\\s'\"]*(?:/|\\b)";
config.textPrimitives.unWikiLink = "~";
config.textPrimitives.wikiLink = "(?:(?:" + config.textPrimitives.upperLetter + "+" +
	config.textPrimitives.lowerLetter + "+" +
	config.textPrimitives.upperLetter +
	config.textPrimitives.anyLetter + "*)|(?:" +
	config.textPrimitives.upperLetter + "{2,}" +
	config.textPrimitives.lowerLetter + "+))";

config.textPrimitives.cssLookahead = "(?:(" + config.textPrimitives.anyLetter + "+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:(" + config.textPrimitives.anyLetter + "+):([^;\\|\\n]+);)";
config.textPrimitives.cssLookaheadRegExp = new RegExp(config.textPrimitives.cssLookahead,"mg");

config.textPrimitives.brackettedLink = "\\[\\[([^\\]]+)\\]\\]";
config.textPrimitives.titledBrackettedLink = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\]";
config.textPrimitives.tiddlerForcedLinkRegExp = new RegExp("(?:" + config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");
config.textPrimitives.tiddlerAnyLinkRegExp = new RegExp("("+ config.textPrimitives.wikiLink + ")|(?:" +
	config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");

config.glyphs = {
	browsers: [
		function() {return config.browser.isIE;},
		function() {return true;}
	],
	currBrowser: null,
	codes: {
		downTriangle: ["\u25BC","\u25BE"],
		downArrow: ["\u2193","\u2193"],
		bentArrowLeft: ["\u2190","\u21A9"],
		bentArrowRight: ["\u2192","\u21AA"]
	}
};

//--
//-- Shadow tiddlers
//--

config.shadowTiddlers = {
	StyleSheet: "",
	MarkupPreHead: "<!--{{{-->\n<link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/>\n<!--}}}-->",
	MarkupPostHead: "",
	MarkupPreBody: "",
	MarkupPostBody: "",
	TabTimeline: '<<timeline>>',
	TabAll: '<<list all>>',
	TabTags: '<<allTags excludeLists>>',
	TabMoreMissing: '<<list missing>>',
	TabMoreOrphans: '<<list orphans>>',
	TabMoreShadowed: '<<list shadowed>>',
	AdvancedOptions: '<<options>>',
	PluginManager: '<<plugins>>',
	ImportTiddlers: '<<importTiddlers>>'
};

//--
//-- Translateable strings
//--

// Strings in "double quotes" should be translated; strings in 'single quotes' should be left alone

merge(config.options,{
	txtUserName: "YourName"});

merge(config.tasks,{
	save: {text: "save", tooltip: "Save your changes to this TiddlyWiki", action: saveChanges},
	sync: {text: "sync", tooltip: "Synchronise changes with other TiddlyWiki files and servers", content: '<<sync>>'},
	importTask: {text: "import", tooltip: "Import tiddlers and plugins from other TiddlyWiki files and servers", content: '<<importTiddlers>>'},
	tweak: {text: "tweak", tooltip: "Tweak the appearance and behaviour of TiddlyWiki", content: '<<options>>'},
	plugins: {text: "plugins", tooltip: "Manage installed plugins", content: '<<plugins>>'}
});

// Options that can be set in the options panel and/or cookies
merge(config.optionsDesc,{
	txtUserName: "Username for signing your edits",
	chkRegExpSearch: "Enable regular expressions for searches",
	chkCaseSensitiveSearch: "Case-sensitive searching",
	chkAnimate: "Enable animations",
	chkSaveBackups: "Keep backup file when saving changes",
	chkAutoSave: "Automatically save changes",
	chkGenerateAnRssFeed: "Generate an RSS feed when saving changes",
	chkSaveEmptyTemplate: "Generate an empty template when saving changes",
	chkOpenInNewWindow: "Open external links in a new window",
	chkToggleLinks: "Clicking on links to open tiddlers causes them to close",
	chkHttpReadOnly: "Hide editing features when viewed over HTTP",
	chkForceMinorUpdate: "Don't update modifier username and date when editing tiddlers",
	chkConfirmDelete: "Require confirmation before deleting tiddlers",
	chkInsertTabs: "Use the tab key to insert tab characters instead of moving between fields",
	txtBackupFolder: "Name of folder to use for backups",
	txtMaxEditRows: "Maximum number of rows in edit boxes",
	txtFileSystemCharSet: "Default character set for saving changes (Firefox/Mozilla only)"});

merge(config.messages,{
	customConfigError: "Problems were encountered loading plugins. See PluginManager for details",
	pluginError: "Error: %0",
	pluginDisabled: "Not executed because disabled via 'systemConfigDisable' tag",
	pluginForced: "Executed because forced via 'systemConfigForce' tag",
	pluginVersionError: "Not executed because this plugin needs a newer version of TiddlyWiki",
	nothingSelected: "Nothing is selected. You must select one or more items first",
	savedSnapshotError: "It appears that this TiddlyWiki has been incorrectly saved. Please see http://www.tiddlywiki.com/#DownloadSoftware for details",
	subtitleUnknown: "(unknown)",
	undefinedTiddlerToolTip: "The tiddler '%0' doesn't yet exist",
	shadowedTiddlerToolTip: "The tiddler '%0' doesn't yet exist, but has a pre-defined shadow value",
	tiddlerLinkTooltip: "%0 - %1, %2",
	externalLinkTooltip: "External link to %0",
	noTags: "There are no tagged tiddlers",
	notFileUrlError: "You need to save this TiddlyWiki to a file before you can save changes",
	cantSaveError: "It's not possible to save changes. Possible reasons include:\n- your browser doesn't support saving (Firefox, Internet Explorer, Safari and Opera all work if properly configured)\n- the pathname to your TiddlyWiki file contains illegal characters\n- the TiddlyWiki HTML file has been moved or renamed",
	invalidFileError: "The original file '%0' does not appear to be a valid TiddlyWiki",
	backupSaved: "Backup saved",
	backupFailed: "Failed to save backup file",
	rssSaved: "RSS feed saved",
	rssFailed: "Failed to save RSS feed file",
	emptySaved: "Empty template saved",
	emptyFailed: "Failed to save empty template file",
	mainSaved: "Main TiddlyWiki file saved",
	mainFailed: "Failed to save main TiddlyWiki file. Your changes have not been saved",
	macroError: "Error in macro <<\%0>>",
	macroErrorDetails: "Error while executing macro <<\%0>>:\n%1",
	missingMacro: "No such macro",
	overwriteWarning: "A tiddler named '%0' already exists. Choose OK to overwrite it",
	unsavedChangesWarning: "WARNING! There are unsaved changes in TiddlyWiki\n\nChoose OK to save\nChoose CANCEL to discard",
	confirmExit: "--------------------------------\n\nThere are unsaved changes in TiddlyWiki. If you continue you will lose those changes\n\n--------------------------------",
	saveInstructions: "SaveChanges",
	unsupportedTWFormat: "Unsupported TiddlyWiki format '%0'",
	tiddlerSaveError: "Error when saving tiddler '%0'",
	tiddlerLoadError: "Error when loading tiddler '%0'",
	wrongSaveFormat: "Cannot save with storage format '%0'. Using standard format for save.",
	invalidFieldName: "Invalid field name %0",
	fieldCannotBeChanged: "Field '%0' cannot be changed",
	loadingMissingTiddler: "Attempting to retrieve the tiddler '%0' from the '%1' server at:\n\n'%2' in the workspace '%3'"});

merge(config.messages.messageClose,{
	text: "close",
	tooltip: "close this message area"});

config.messages.backstage = {
	open: {text: "backstage", tooltip: "Open the backstage area to perform authoring and editing tasks"},
	close: {text: "close", tooltip: "Close the backstage area"},
	prompt: "backstage: ",
	decal: {
		edit: {text: "edit", tooltip: "Edit the tiddler '%0'"}
	}
};

config.messages.listView = {
	tiddlerTooltip: "Click for the full text of this tiddler",
	previewUnavailable: "(preview not available)"
};

config.messages.dates.months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"];
config.messages.dates.days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
config.messages.dates.shortMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
config.messages.dates.shortDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
// suffixes for dates, eg "1st","2nd","3rd"..."30th","31st"
config.messages.dates.daySuffixes = ["st","nd","rd","th","th","th","th","th","th","th",
		"th","th","th","th","th","th","th","th","th","th",
		"st","nd","rd","th","th","th","th","th","th","th",
		"st"];
config.messages.dates.am = "am";
config.messages.dates.pm = "pm";

merge(config.messages.tiddlerPopup,{
	});

merge(config.views.wikified.tag,{
	labelNoTags: "no tags",
	labelTags: "tags: ",
	openTag: "Open tag '%0'",
	tooltip: "Show tiddlers tagged with '%0'",
	openAllText: "Open all",
	openAllTooltip: "Open all of these tiddlers",
	popupNone: "No other tiddlers tagged with '%0'"});

merge(config.views.wikified,{
	defaultText: "The tiddler '%0' doesn't yet exist. Double-click to create it",
	defaultModifier: "(missing)",
	shadowModifier: "(built-in shadow tiddler)",
	dateFormat: "DD MMM YYYY",
	createdPrompt: "created"});

merge(config.views.editor,{
	tagPrompt: "Type tags separated with spaces, [[use double square brackets]] if necessary, or add existing",
	defaultText: "Type the text for '%0'"});

merge(config.views.editor.tagChooser,{
	text: "tags",
	tooltip: "Choose existing tags to add to this tiddler",
	popupNone: "There are no tags defined",
	tagTooltip: "Add the tag '%0'"});

merge(config.messages,{
	sizeTemplates:
		[
		{unit: 1024*1024*1024, template: "%0\u00a0GB"},
		{unit: 1024*1024, template: "%0\u00a0MB"},
		{unit: 1024, template: "%0\u00a0KB"},
		{unit: 1, template: "%0\u00a0B"}
		]});

merge(config.macros.search,{
	label: "search",
	prompt: "Search this TiddlyWiki",
	accessKey: "F",
	successMsg: "%0 tiddlers found matching %1",
	failureMsg: "No tiddlers found matching %0"});

merge(config.macros.tagging,{
	label: "tagging: ",
	labelNotTag: "not tagging",
	tooltip: "List of tiddlers tagged with '%0'"});

merge(config.macros.timeline,{
	dateFormat: "DD MMM YYYY"});

merge(config.macros.allTags,{
	tooltip: "Show tiddlers tagged with '%0'",
	noTags: "There are no tagged tiddlers"});

config.macros.list.all.prompt = "All tiddlers in alphabetical order";
config.macros.list.missing.prompt = "Tiddlers that have links to them but are not defined";
config.macros.list.orphans.prompt = "Tiddlers that are not linked to from any other tiddlers";
config.macros.list.shadowed.prompt = "Tiddlers shadowed with default contents";
config.macros.list.touched.prompt = "Tiddlers that have been modified locally";

merge(config.macros.closeAll,{
	label: "close all",
	prompt: "Close all displayed tiddlers (except any that are being edited)"});

merge(config.macros.permaview,{
	label: "permaview",
	prompt: "Link to an URL that retrieves all the currently displayed tiddlers"});

merge(config.macros.saveChanges,{
	label: "save changes",
	prompt: "Save all tiddlers to create a new TiddlyWiki",
	accessKey: "S"});

merge(config.macros.newTiddler,{
	label: "new tiddler",
	prompt: "Create a new tiddler",
	title: "New Tiddler",
	accessKey: "N"});

merge(config.macros.newJournal,{
	label: "new journal",
	prompt: "Create a new tiddler from the current date and time",
	accessKey: "J"});

merge(config.macros.options,{
	wizardTitle: "Tweak advanced options",
	step1Title: "These options are saved in cookies in your browser",
	step1Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='false' name='chkUnknown'>Show unknown options</input>",
	unknownDescription: "//(unknown)//",
	listViewTemplate: {
		columns: [
			{name: 'Option', field: 'option', title: "Option", type: 'String'},
			{name: 'Description', field: 'description', title: "Description", type: 'WikiText'},
			{name: 'Name', field: 'name', title: "Name", type: 'String'}
			],
		rowClasses: [
			{className: 'lowlight', field: 'lowlight'}
			]}
	});

merge(config.macros.plugins,{
	wizardTitle: "Manage plugins",
	step1Title: "Currently loaded plugins",
	step1Html: "<input type='hidden' name='markList'></input>", // DO NOT TRANSLATE
	skippedText: "(This plugin has not been executed because it was added since startup)",
	noPluginText: "There are no plugins installed",
	confirmDeleteText: "Are you sure you want to delete these plugins:\n\n%0",
	removeLabel: "remove systemConfig tag",
	removePrompt: "Remove systemConfig tag",
	deleteLabel: "delete",
	deletePrompt: "Delete these tiddlers forever",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Forced', field: 'forced', title: "Forced", tag: 'systemConfigForce', type: 'TagCheckbox'},
			{name: 'Disabled', field: 'disabled', title: "Disabled", tag: 'systemConfigDisable', type: 'TagCheckbox'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Startup Time', field: 'startupTime', title: "Startup Time", type: 'String'},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			]}
	});

merge(config.macros.toolbar,{
	moreLabel: "more",
	morePrompt: "Reveal further commands"
	});

merge(config.macros.refreshDisplay,{
	label: "refresh",
	prompt: "Redraw the entire TiddlyWiki display"
	});

merge(config.macros.importTiddlers,{
	readOnlyWarning: "You cannot import into a read-only TiddlyWiki file. Try opening it from a file:// URL",
	wizardTitle: "Import tiddlers from another file or server",
	step1Title: "Step 1: Locate the server or TiddlyWiki file",
	step1Html: "Specify the type of the server: <select name='selTypes'><option value=''>Choose...</option></select><br>Enter the URL or pathname here: <input type='text' size=50 name='txtPath'><br>...or browse for a file: <input type='file' size=50 name='txtBrowse'><br><hr>...or select a pre-defined feed: <select name='selFeeds'><option value=''>Choose...</option></select>",
	openLabel: "open",
	openPrompt: "Open the connection to this file or server",
	openError: "There were problems fetching the tiddlywiki file",
	statusOpenHost: "Opening the host",
	statusGetWorkspaceList: "Getting the list of available workspaces",
	step2Title: "Step 2: Choose the workspace",
	step2Html: "Enter a workspace name: <input type='text' size=50 name='txtWorkspace'><br>...or select a workspace: <select name='selWorkspace'><option value=''>Choose...</option></select>",
	cancelLabel: "cancel",
	cancelPrompt: "Cancel this import",
	statusOpenWorkspace: "Opening the workspace",
	statusGetTiddlerList: "Getting the list of available tiddlers",
	step3Title: "Step 3: Choose the tiddlers to import",
	step3Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='true' name='chkSync'>Keep these tiddlers linked to this server so that you can synchronise subsequent changes</input><br><input type='checkbox' name='chkSave'>Save the details of this server in a 'systemServer' tiddler called:</input> <input type='text' size=25 name='txtSaveTiddler'>",
	importLabel: "import",
	importPrompt: "Import these tiddlers",
	confirmOverwriteText: "Are you sure you want to overwrite these tiddlers:\n\n%0",
	step4Title: "Step 4: Importing %0 tiddler(s)",
	step4Html: "<input type='hidden' name='markReport'></input>", // DO NOT TRANSLATE
	doneLabel: "done",
	donePrompt: "Close this wizard",
	statusDoingImport: "Importing tiddlers",
	statusDoneImport: "All tiddlers imported",
	systemServerNamePattern: "%2 on %1",
	systemServerNamePatternNoWorkspace: "%1",
	confirmOverwriteSaveTiddler: "The tiddler '%0' already exists. Click 'OK' to overwrite it with the details of this server, or 'Cancel' to leave it unchanged",
	serverSaveTemplate: "|''Type:''|%0|\n|''URL:''|%1|\n|''Workspace:''|%2|\n\nThis tiddler was automatically created to record the details of this server",
	serverSaveModifier: "(System)",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Tags', field: 'tags', title: "Tags", type: 'Tags'}
			],
		rowClasses: [
			]}
	});

merge(config.macros.sync,{
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Server Type', field: 'serverType', title: "Server type", type: 'String'},
			{name: 'Server Host', field: 'serverHost', title: "Server host", type: 'String'},
			{name: 'Server Workspace', field: 'serverWorkspace', title: "Server workspace", type: 'String'},
			{name: 'Status', field: 'status', title: "Synchronisation status", type: 'String'},
			{name: 'Server URL', field: 'serverUrl', title: "Server URL", text: "View", type: 'Link'}
			],
		rowClasses: [
			],
		buttons: [
			{caption: "Sync these tiddlers", name: 'sync'}
			]},
	wizardTitle: "Synchronize with external servers and files",
	step1Title: "Choose the tiddlers you want to synchronize",
	step1Html: "<input type='hidden' name='markList'></input>", // DO NOT TRANSLATE
	syncLabel: "sync",
	syncPrompt: "Sync these tiddlers",
	hasChanged: "Changed while unplugged",
	hasNotChanged: "Unchanged while unplugged",
	syncStatusList: {
		none: {text: "...", color: "none"},
		changedServer: {text: "Changed on server", color: '#80ff80'},
		changedLocally: {text: "Changed while unplugged", color: '#80ff80'},
		changedBoth: {text: "Changed while unplugged and on server", color: '#ff8080'},
		notFound: {text: "Not found on server", color: '#ffff80'},
		putToServer: {text: "Saved update on server", color: '#ff80ff'},
		gotFromServer: {text: "Retrieved update from server", color: '#80ffff'}
		}
	});

merge(config.macros.annotations,{
	});

merge(config.commands.closeTiddler,{
	text: "close",
	tooltip: "Close this tiddler"});

merge(config.commands.closeOthers,{
	text: "close others",
	tooltip: "Close all other tiddlers"});

merge(config.commands.editTiddler,{
	text: "edit",
	tooltip: "Edit this tiddler",
	readOnlyText: "view",
	readOnlyTooltip: "View the source of this tiddler"});

merge(config.commands.saveTiddler,{
	text: "done",
	tooltip: "Save changes to this tiddler"});

merge(config.commands.cancelTiddler,{
	text: "cancel",
	tooltip: "Undo changes to this tiddler",
	warning: "Are you sure you want to abandon your changes to '%0'?",
	readOnlyText: "done",
	readOnlyTooltip: "View this tiddler normally"});

merge(config.commands.deleteTiddler,{
	text: "delete",
	tooltip: "Delete this tiddler",
	warning: "Are you sure you want to delete '%0'?"});

merge(config.commands.permalink,{
	text: "permalink",
	tooltip: "Permalink for this tiddler"});

merge(config.commands.references,{
	text: "references",
	tooltip: "Show tiddlers that link to this one",
	popupNone: "No references"});

merge(config.commands.jump,{
	text: "jump",
	tooltip: "Jump to another open tiddler"});

merge(config.commands.syncing,{
	text: "syncing",
	tooltip: "Control synchronisation of this tiddler with a server or external file",
	currentlySyncing: "<div>Currently syncing via <span class='popupHighlight'>'%0'</span> to:</"+"div><div>host: <span class='popupHighlight'>%1</span></"+"div><div>workspace: <span class='popupHighlight'>%2</span></"+"div>", // Note escaping of closing <div> tag
	notCurrentlySyncing: "Not currently syncing",
	captionUnSync: "Stop synchronising this tiddler",
	chooseServer: "Synchronise this tiddler with another server:",
	currServerMarker: "\u25cf ",
	notCurrServerMarker: "  "});

merge(config.commands.fields,{
	text: "fields",
	tooltip: "Show the extended fields of this tiddler",
	emptyText: "There are no extended fields for this tiddler",
	listViewTemplate: {
		columns: [
			{name: 'Field', field: 'field', title: "Field", type: 'String'},
			{name: 'Value', field: 'value', title: "Value", type: 'String'}
			],
		rowClasses: [
			],
		buttons: [
			]}});

merge(config.shadowTiddlers,{
	DefaultTiddlers: "GettingStarted",
	MainMenu: "GettingStarted",
	SiteTitle: "My TiddlyWiki",
	SiteSubtitle: "a reusable non-linear personal web notebook",
	SiteUrl: "http://www.tiddlywiki.com/",
	SideBarOptions: '<<search>><<closeAll>><<permaview>><<newTiddler>><<newJournal "DD MMM YYYY">><<saveChanges>><<slider chkSliderOptionsPanel OptionsPanel "options »" "Change TiddlyWiki advanced options">>',
	SideBarTabs: '<<tabs txtMainTab "Timeline" "Timeline" TabTimeline "All" "All tiddlers" TabAll "Tags" "All tags" TabTags "More" "More lists" TabMore>>',
	TabMore: '<<tabs txtMoreTab "Missing" "Missing tiddlers" TabMoreMissing "Orphans" "Orphaned tiddlers" TabMoreOrphans "Shadowed" "Shadowed tiddlers" TabMoreShadowed>>'});

merge(config.annotations,{
	AdvancedOptions: "This shadow tiddler provides access to several advanced options",
	ColorPalette: "These values in this shadow tiddler determine the colour scheme of the ~TiddlyWiki user interface",
	DefaultTiddlers: "The tiddlers listed in this shadow tiddler will be automatically displayed when ~TiddlyWiki starts up",
	EditTemplate: "The HTML template in this shadow tiddler determines how tiddlers look while they are being edited",
	GettingStarted: "This shadow tiddler provides basic usage instructions",
	ImportTiddlers: "This shadow tiddler provides access to importing tiddlers",
	MainMenu: "This shadow tiddler is used as the contents of the main menu in the left-hand column of the screen",
	MarkupPreHead: "This tiddler is inserted at the top of the <head> section of the TiddlyWiki HTML file",
	MarkupPostHead: "This tiddler is inserted at the bottom of the <head> section of the TiddlyWiki HTML file",
	MarkupPreBody: "This tiddler is inserted at the top of the <body> section of the TiddlyWiki HTML file",
	MarkupPostBody: "This tiddler is inserted at the end of the <body> section of the TiddlyWiki HTML file immediately before the script block",
	OptionsPanel: "This shadow tiddler is used as the contents of the options panel slider in the right-hand sidebar",
	PageTemplate: "The HTML template in this shadow tiddler determines the overall ~TiddlyWiki layout",
	PluginManager: "This shadow tiddler provides access to the plugin manager",
	SideBarOptions: "This shadow tiddler is used as the contents of the option panel in the right-hand sidebar",
	SideBarTabs: "This shadow tiddler is used as the contents of the tabs panel in the right-hand sidebar",
	SiteSubtitle: "This shadow tiddler is used as the second part of the page title",
	SiteTitle: "This shadow tiddler is used as the first part of the page title",
	SiteUrl: "This shadow tiddler should be set to the full target URL for publication",
	StyleSheetColours: "This shadow tiddler contains CSS definitions related to the color of page elements",
	StyleSheet: "This tiddler can contain custom CSS definitions",
	StyleSheetLayout: "This shadow tiddler contains CSS definitions related to the layout of page elements",
	StyleSheetLocale: "This shadow tiddler contains CSS definitions related to the translation locale",
	StyleSheetPrint: "This shadow tiddler contains CSS definitions for printing",
	TabAll: "This shadow tiddler contains the contents of the 'All' tab in the right-hand sidebar",
	TabMore: "This shadow tiddler contains the contents of the 'More' tab in the right-hand sidebar",
	TabMoreMissing: "This shadow tiddler contains the contents of the 'Missing' tab in the right-hand sidebar",
	TabMoreOrphans: "This shadow tiddler contains the contents of the 'Orphans' tab in the right-hand sidebar",
	TabMoreShadowed: "This shadow tiddler contains the contents of the 'Shadowed' tab in the right-hand sidebar",
	TabTags: "This shadow tiddler contains the contents of the 'Tags' tab in the right-hand sidebar",
	TabTimeline: "This shadow tiddler contains the contents of the 'Timeline' tab in the right-hand sidebar",
	ViewTemplate: "The HTML template in this shadow tiddler determines how tiddlers look"
	});

//--
//-- Main
//--

var params = null; // Command line parameters
var store = null; // TiddlyWiki storage
var story = null; // Main story
var formatter = null; // Default formatters for the wikifier
config.parsers = {}; // Hashmap of alternative parsers for the wikifier
var anim = new Animator(); // Animation engine
var readOnly = false; // Whether we're in readonly mode
var highlightHack = null; // Embarrassing hack department...
var hadConfirmExit = false; // Don't warn more than once
var safeMode = false; // Disable all plugins and cookies
var installedPlugins = []; // Information filled in when plugins are executed
var startingUp = false; // Whether we're in the process of starting up
var pluginInfo,tiddler; // Used to pass information to plugins in loadPlugins()

// Whether to use the JavaSaver applet
var useJavaSaver = config.browser.isSafari || config.browser.isOpera;

// Starting up
function main()
{
	var t9,t8,t7,t6,t5,t4,t3,t2,t1,t0 = new Date();
	startingUp = true;
	window.onbeforeunload = function(e) {if(window.confirmExit) return confirmExit();};
	params = getParameters();
	if(params)
		params = params.parseParams("open",null,false);
	store = new TiddlyWiki();
	invokeParamifier(params,"oninit");
	story = new Story("tiddlerDisplay","tiddler");
	addEvent(document,"click",Popup.onDocumentClick);
	saveTest();
	loadOptionsCookie();
	for(var s=0; s<config.notifyTiddlers.length; s++)
		store.addNotification(config.notifyTiddlers[s].name,config.notifyTiddlers[s].notify);
	t1 = new Date();
	store.loadFromDiv("storeArea","store",true);
	t2 = new Date();
	loadShadowTiddlers();
	t3 = new Date();
	invokeParamifier(params,"onload");
	t4 = new Date();
	readOnly = (window.location.protocol == "file:") ? false : config.options.chkHttpReadOnly;
	var pluginProblem = loadPlugins();
	t5 = new Date();
	formatter = new Formatter(config.formatters);
	invokeParamifier(params,"onconfig");
	t6 = new Date();
	store.notifyAll();
	t7 = new Date();
	restart();
	t8 = new Date();
	if(pluginProblem) {
		story.displayTiddler(null,"PluginManager");
		displayMessage(config.messages.customConfigError);
	}
	for(var m in config.macros) {
		if(config.macros[m].init)
			config.macros[m].init();
	}
	if(!readOnly)
		backstage.init();
	t9 = new Date();
	if(config.options.chkDisplayStartupTime) {
		displayMessage("Load in " + (t2-t1) + " ms");
		displayMessage("Loadshadows in " + (t3-t2) + " ms");
		displayMessage("Loadplugins in " + (t5-t4) + " ms");
		displayMessage("Notify in " + (t7-t6) + " ms");
		displayMessage("Restart in " + (t8-t7) + " ms");
		displayMessage("Total startup in " + (t9-t0) + " ms");
	}
	startingUp = false;
}

// Restarting
function restart()
{
	invokeParamifier(params,"onstart");
	if(story.isEmpty()) {
		var defaultParams = store.getTiddlerText("DefaultTiddlers").parseParams("open",null,false);
		invokeParamifier(defaultParams,"onstart");
	}
	window.scrollTo(0,0);
}

function saveTest()
{
	var s = document.getElementById("saveTest");
	if(s.hasChildNodes())
		alert(config.messages.savedSnapshotError);
	s.appendChild(document.createTextNode("savetest"));
}

function loadShadowTiddlers()
{
	var shadows = new TiddlyWiki();
	shadows.loadFromDiv("shadowArea","shadows",true);
	shadows.forEachTiddler(function(title,tiddler){config.shadowTiddlers[title] = tiddler.text;});
	delete shadows;
}

function loadPlugins()
{
	if(safeMode)
		return false;
	var tiddlers = store.getTaggedTiddlers("systemConfig");
	var toLoad = [];
	var nLoaded = 0;
	var map = {};
	var nPlugins = tiddlers.length;
	installedPlugins = [];
	for(var i=0; i<nPlugins; i++) {
		var p = getPluginInfo(tiddlers[i]);
		installedPlugins[i] = p;
		var n = p.Name;
		if(n)
			map[n] = p;
		n = p.Source;
		if(n)
			map[n] = p;
	}
	var visit = function(p) {
		if(!p || p.done)
			return;
		p.done = 1;
		var reqs = p.Requires;
		if(reqs) {
			reqs = reqs.readBracketedList();
			for(var i=0; i<reqs.length; i++)
				visit(map[reqs[i]]);
		}
		toLoad.push(p);
	};
	for(i=0; i<nPlugins; i++)
		visit(installedPlugins[i]);
	for(i=0; i<toLoad.length; i++) {
		p = toLoad[i];
		pluginInfo = p;
		tiddler = p.tiddler;
		if(isPluginExecutable(p)) {
			if(isPluginEnabled(p)) {
				p.executed = true;
				var startTime = new Date();
				try {
					if(tiddler.text)
						window.eval(tiddler.text);
					nLoaded++;
				} catch(ex) {
					p.log.push(config.messages.pluginError.format([exceptionText(ex)]));
					p.error = true;
				}
				pluginInfo.startupTime = String((new Date()) - startTime) + "ms";
			} else {
				nPlugins--;
			}
		} else {
			p.warning = true;
		}
	}
	return nLoaded != nPlugins;
}

function getPluginInfo(tiddler)
{
	var p = store.getTiddlerSlices(tiddler.title,["Name","Description","Version","Requires","CoreVersion","Date","Source","Author","License","Browsers"]);
	p.tiddler = tiddler;
	p.title = tiddler.title;
	p.log = [];
	return p;
}

// Check that a particular plugin is valid for execution
function isPluginExecutable(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigForce"))
		return verifyTail(plugin,true,config.messages.pluginForced);
	if(plugin["CoreVersion"]) {
		var coreVersion = plugin["CoreVersion"].split(".");
		var w = parseInt(coreVersion[0]) - version.major;
		if(w == 0 && coreVersion[1])
			w = parseInt(coreVersion[1]) - version.minor;
		if(w == 0 && coreVersion[2])
		 	w = parseInt(coreVersion[2]) - version.revision;
		if(w > 0)
			return verifyTail(plugin,false,config.messages.pluginVersionError);
		}
	return true;
}

function isPluginEnabled(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigDisable"))
		return verifyTail(plugin,false,config.messages.pluginDisabled);
	return true;
}

function verifyTail(plugin,result,message)
{
	plugin.log.push(message);
	return result;
}

function invokeMacro(place,macro,params,wikifier,tiddler)
{
	try {
		var m = config.macros[macro];
		if(m && m.handler)
			m.handler(place,macro,params.readMacroParams(),wikifier,params,tiddler);
		else
			createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,config.messages.missingMacro]));
	} catch(ex) {
		createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,ex.toString()]));
	}
}

//--
//-- Paramifiers
//--

function getParameters()
{
	var p = null;
	if(window.location.hash) {
		p = decodeURI(window.location.hash.substr(1));
		if(config.browser.firefoxDate != null && config.browser.firefoxDate[1] < "20051111")
			p = convertUTF8ToUnicode(p);
	}
	return p;
}

function invokeParamifier(params,handler)
{
	if(!params || params.length == undefined || params.length <= 1)
		return;
	for(var t=1; t<params.length; t++) {
		var p = config.paramifiers[params[t].name];
		if(p && p[handler] instanceof Function)
			p[handler](params[t].value);
	}
}

config.paramifiers = {};

config.paramifiers.start = {
	oninit: function(v) {
		safeMode = v.toLowerCase() == "safe";
	}
};

config.paramifiers.open = {
	onstart: function(v) {
		story.displayTiddler("bottom",v,null,false,null);
	}
};

config.paramifiers.story = {
	onstart: function(v) {
		var list = store.getTiddlerText(v,"").parseParams("open",null,false);
		invokeParamifier(list,"onstart");
	}
};

config.paramifiers.search = {
	onstart: function(v) {
		story.search(v,false,false);
	}
};

config.paramifiers.searchRegExp = {
	onstart: function(v) {
		story.prototype.search(v,false,true);
	}
};

config.paramifiers.tag = {
	onstart: function(v) {
		var tagged = store.getTaggedTiddlers(v,"title");
		for(var t=0; t<tagged.length; t++)
			story.displayTiddler("bottom",tagged[t].title,null,false,null);
	}
};

config.paramifiers.newTiddler = {
	onstart: function(v) {
		if(!readOnly) {
			story.displayTiddler(null,v,DEFAULT_EDIT_TEMPLATE);
			story.focusTiddler(v,"text");
		}
	}
};

config.paramifiers.newJournal = {
	onstart: function(v) {
		if(!readOnly) {
			var now = new Date();
			var title = now.formatString(v.trim());
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE);
			story.focusTiddler(title,"text");
		}
	}
};

config.paramifiers.readOnly = {
	onconfig: function(v) {
		var p = v.toLowerCase();
		readOnly = p == "yes" ? true : (p == "no" ? false : readOnly);
	}
};

//--
//-- Formatter helpers
//--

function Formatter(formatters)
{
	this.formatters = [];
	var pattern = [];
	for(var n=0; n<formatters.length; n++) {
		pattern.push("(" + formatters[n].match + ")");
		this.formatters.push(formatters[n]);
	}
	this.formatterRegExp = new RegExp(pattern.join("|"),"mg");
}

config.formatterHelpers = {

	createElementAndWikify: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,this.element),this.termRegExp);
	},

	inlineCssHelper: function(w)
	{
		var styles = [];
		config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var s,v;
			if(lookaheadMatch[1]) {
				s = lookaheadMatch[1].unDash();
				v = lookaheadMatch[2];
			} else {
				s = lookaheadMatch[3].unDash();
				v = lookaheadMatch[4];
			}
			if (s=="bgcolor")
				s = "backgroundColor";
			styles.push({style: s, value: v});
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		}
		return styles;
	},

	applyCssHelper: function(e,styles)
	{
		for(var t=0; t< styles.length; t++) {
			try {
				e.style[styles[t].style] = styles[t].value;
			} catch (ex) {
			}
		}
	},

	enclosedTextHelper: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var text = lookaheadMatch[1];
			if(config.browser.isIE)
				text = text.replace(/\n/g,"\r");
			createTiddlyElement(w.output,this.element,null,null,text);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
		}
	},

	isExternalLink: function(link)
	{
		if(store.tiddlerExists(link) || store.isShadowTiddler(link)) {
			return false;
		}
		var urlRegExp = new RegExp(config.textPrimitives.urlPattern,"mg");
		if(urlRegExp.exec(link)) {
			return true;
		}
		if (link.indexOf(".")!=-1 || link.indexOf("\\")!=-1 || link.indexOf("/")!=-1){
			return true;
		}
		return false;
	}

};

//--
//-- Standard formatters
//--

config.formatters = [
{
	name: "table",
	match: "^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",
	lookaheadRegExp: /^\|([^\n]*)\|([fhck]?)$/mg,
	rowTermRegExp: /(\|(?:[fhck]?)$\n?)/mg,
	cellRegExp: /(?:\|([^\n\|]*)\|)|(\|[fhck]?$\n?)/mg,
	cellTermRegExp: /((?:\x20*)\|)/mg,
	rowTypes: {"c":"caption", "h":"thead", "":"tbody", "f":"tfoot"},

	handler: function(w)
	{
		var table = createTiddlyElement(w.output,"table",null,"twtable");
		var prevColumns = [];
		var currRowType = null;
		var rowContainer;
		var rowCount = 0;
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var nextRowType = lookaheadMatch[2];
			if(nextRowType == "k") {
				table.className = lookaheadMatch[1];
				w.nextMatch += lookaheadMatch[0].length+1;
			} else {
				if(nextRowType != currRowType) {
					rowContainer = createTiddlyElement(table,this.rowTypes[nextRowType]);
					currRowType = nextRowType;
				}
				if(currRowType == "c") {
					// Caption
					w.nextMatch++;
					if(rowContainer != table.firstChild)
						table.insertBefore(rowContainer,table.firstChild);
					rowContainer.setAttribute("align",rowCount == 0?"top":"bottom");
					w.subWikifyTerm(rowContainer,this.rowTermRegExp);
				} else {
					this.rowHandler(w,createTiddlyElement(rowContainer,"tr",null,(rowCount&1)?"oddRow":"evenRow"),prevColumns);
					rowCount++;
				}
			}
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	},
	rowHandler: function(w,e,prevColumns)
	{
		var col = 0;
		var colSpanCount = 1;
		var prevCell = null;
		this.cellRegExp.lastIndex = w.nextMatch;
		var cellMatch = this.cellRegExp.exec(w.source);
		while(cellMatch && cellMatch.index == w.nextMatch) {
			if(cellMatch[1] == "~") {
				// Rowspan
				var last = prevColumns[col];
				if(last) {
					last.rowSpanCount++;
					last.element.setAttribute("rowspan",last.rowSpanCount);
					last.element.setAttribute("rowSpan",last.rowSpanCount); // Needed for IE
					last.element.valign = "center";
				}
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[1] == ">") {
				// Colspan
				colSpanCount++;
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[2]) {
				// End of row
				if(prevCell && colSpanCount > 1) {
					prevCell.setAttribute("colspan",colSpanCount);
					prevCell.setAttribute("colSpan",colSpanCount); // Needed for IE
				}
				w.nextMatch = this.cellRegExp.lastIndex;
				break;
			} else {
				// Cell
				w.nextMatch++;
				var styles = config.formatterHelpers.inlineCssHelper(w);
				var spaceLeft = false;
				var chr = w.source.substr(w.nextMatch,1);
				while(chr == " ") {
					spaceLeft = true;
					w.nextMatch++;
					chr = w.source.substr(w.nextMatch,1);
				}
				var cell;
				if(chr == "!") {
					cell = createTiddlyElement(e,"th");
					w.nextMatch++;
				} else {
					cell = createTiddlyElement(e,"td");
				}
				prevCell = cell;
				prevColumns[col] = {rowSpanCount:1,element:cell};
				if(colSpanCount > 1) {
					cell.setAttribute("colspan",colSpanCount);
					cell.setAttribute("colSpan",colSpanCount); // Needed for IE
					colSpanCount = 1;
				}
				config.formatterHelpers.applyCssHelper(cell,styles);
				w.subWikifyTerm(cell,this.cellTermRegExp);
				if(w.matchText.substr(w.matchText.length-2,1) == " ") // spaceRight
					cell.align = spaceLeft ? "center" : "left";
				else if(spaceLeft)
					cell.align = "right";
				w.nextMatch--;
			}
			col++;
			this.cellRegExp.lastIndex = w.nextMatch;
			cellMatch = this.cellRegExp.exec(w.source);
		}
	}
},

{
	name: "heading",
	match: "^!{1,6}",
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,"h" + w.matchLength),this.termRegExp);
	}
},

{
	name: "list",
	match: "^(?:[\\*#;:]+)",
	lookaheadRegExp: /^(?:(?:(\*)|(#)|(;)|(:))+)/mg,
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0, currType = null;
		var listLevel, listType, itemType, baseType;
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			if(lookaheadMatch[1]) {
				listType = "ul";
				itemType = "li";
			} else if(lookaheadMatch[2]) {
				listType = "ol";
				itemType = "li";
			} else if(lookaheadMatch[3]) {
				listType = "dl";
				itemType = "dt";
			} else if(lookaheadMatch[4]) {
				listType = "dl";
				itemType = "dd";
			}
			if (!baseType)
			   baseType = listType;
			listLevel = lookaheadMatch[0].length;
			w.nextMatch += lookaheadMatch[0].length;
			var t;
			if(listLevel > currLevel) {
				for(t=currLevel; t<listLevel; t++) {
					var target = (currLevel == 0) ? stack[stack.length-1] : stack[stack.length-1].lastChild;
					stack.push(createTiddlyElement(target,listType));
				}
			} else if (listType!=baseType && listLevel==1) {
				w.nextMatch -= lookaheadMatch[0].length;
				return;
			} else if(listLevel < currLevel) {
				for(t=currLevel; t>listLevel; t--)
					stack.pop();
			} else if(listLevel == currLevel && listType != currType) {
				stack.pop();
				stack.push(createTiddlyElement(stack[stack.length-1].lastChild,listType));
			}
			currLevel = listLevel;
			currType = listType;
			var e = createTiddlyElement(stack[stack.length-1],itemType);
			w.subWikifyTerm(e,this.termRegExp);
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	}
},

{
	name: "quoteByBlock",
	match: "^<<<\\n",
	termRegExp: /(^<<<(\n|$))/mg,
	element: "blockquote",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "quoteByLine",
	match: "^>+",
	lookaheadRegExp: /^>+/mg,
	termRegExp: /(\n)/mg,
	element: "blockquote",
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0;
		var newLevel = w.matchLength;
		var t;
		do {
			if(newLevel > currLevel) {
				for(t=currLevel; t<newLevel; t++)
					stack.push(createTiddlyElement(stack[stack.length-1],this.element));
			} else if(newLevel < currLevel) {
				for(t=currLevel; t>newLevel; t--)
					stack.pop();
			}
			currLevel = newLevel;
			w.subWikifyTerm(stack[stack.length-1],this.termRegExp);
			createTiddlyElement(stack[stack.length-1],"br");
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			var matched = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(matched) {
				newLevel = lookaheadMatch[0].length;
				w.nextMatch += lookaheadMatch[0].length;
			}
		} while(matched);
	}
},

{
	name: "rule",
	match: "^----+$\\n?",
	handler: function(w)
	{
		createTiddlyElement(w.output,"hr");
	}
},

{
	name: "monospacedByLine",
	match: "^\\{\\{\\{\\n",
	lookaheadRegExp: /^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/mg,
	element: "pre",
	handler: config.formatterHelpers.enclosedTextHelper
},

{
	name: "monospacedByLineForCSS",
	match: "^/\\*\\{\\{\\{\\*/\\n",
	lookaheadRegExp: /\/\*\{\{\{\*\/\n*((?:^[^\n]*\n)+?)(\n*^\/\*\}\}\}\*\/$\n?)/mg,
	element: "pre",
	handler: config.formatterHelpers.enclosedTextHelper
},

{
	name: "monospacedByLineForPlugin",
	match: "^//\\{\\{\\{\\n",
	lookaheadRegExp: /^\/\/\{\{\{\n\n*((?:^[^\n]*\n)+?)(\n*^\/\/\}\}\}$\n?)/mg,
	element: "pre",
	handler: config.formatterHelpers.enclosedTextHelper
},

{
	name: "monospacedByLineForTemplate",
	match: "^<!--\\{\\{\\{-->\\n",
	lookaheadRegExp: /<!--\{\{\{-->\n*((?:^[^\n]*\n)+?)(\n*^<!--\}\}\}-->$\n?)/mg,
	element: "pre",
	handler: config.formatterHelpers.enclosedTextHelper
},

{
	name: "wikifyCommentForPlugin",
	match: "^/\\*\\*\\*\\n",
	termRegExp: /(^\*\*\*\/\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(w.output,this.termRegExp);
	}
},

{
	name: "wikifyCommentForTemplate",
	match: "^<!---\\n",
	termRegExp: /(^--->\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(w.output,this.termRegExp);
	}
},

{
	name: "macro",
	match: "<<",
	lookaheadRegExp: /<<([^>\s]+)(?:\s*)((?:[^>]|(?:>(?!>)))*)>>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart && lookaheadMatch[1]) {
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			invokeMacro(w.output,lookaheadMatch[1],lookaheadMatch[2],w,w.tiddler);
		}
	}
},

{
	name: "prettyLink",
	match: "\\[\\[",
	lookaheadRegExp: /\[\[(.*?)(?:\|(~)?(.*?))?\]\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e;
			var text = lookaheadMatch[1];
			if(lookaheadMatch[3]) {
				// Pretty bracketted link
				var link = lookaheadMatch[3];
				e = (!lookaheadMatch[2] && config.formatterHelpers.isExternalLink(link)) ?
						createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
			} else {
				// Simple bracketted link
				e = createTiddlyLink(w.output,text,false,null,w.isStatic,w.tiddler);
			}
			createTiddlyText(e,text);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "unWikiLink",
	match: config.textPrimitives.unWikiLink+config.textPrimitives.wikiLink,
	handler: function(w)
	{
		w.outputText(w.output,w.matchStart+1,w.nextMatch);
	}
},

{
	name: "wikiLink",
	match: config.textPrimitives.wikiLink,
	handler: function(w)
	{
		if(w.matchStart > 0) {
			var preRegExp = new RegExp(config.textPrimitives.anyLetterStrict,"mg");
			preRegExp.lastIndex = w.matchStart-1;
			var preMatch = preRegExp.exec(w.source);
			if(preMatch.index == w.matchStart-1) {
				w.outputText(w.output,w.matchStart,w.nextMatch);
				return;
			}
		}
		if(w.autoLinkWikiWords == true || store.isShadowTiddler(w.matchText)) {
			var link = createTiddlyLink(w.output,w.matchText,false,null,w.isStatic,w.tiddler);
			w.outputText(link,w.matchStart,w.nextMatch);
		} else {
			w.outputText(w.output,w.matchStart,w.nextMatch);
		}
	}
},

{
	name: "urlLink",
	match: config.textPrimitives.urlPattern,
	handler: function(w)
	{
		w.outputText(createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch);
	}
},

{
	name: "image",
	match: "\\[[<>]?[Ii][Mm][Gg]\\[",
	lookaheadRegExp: /\[([<]?)(>?)[Ii][Mm][Gg]\[(?:([^\|\]]+)\|)?([^\[\]\|]+)\](?:\[([^\]]*)\])?\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e = w.output;
			if(lookaheadMatch[5]) {
				var link = lookaheadMatch[5];
				e = config.formatterHelpers.isExternalLink(link) ? createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
				addClass(e,"imageLink");
			}
			var img = createTiddlyElement(e,"img");
			if(lookaheadMatch[1])
				img.align = "left";
			else if(lookaheadMatch[2])
				img.align = "right";
			if(lookaheadMatch[3])
				img.title = lookaheadMatch[3];
			img.src = lookaheadMatch[4];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "html",
	match: "<[Hh][Tt][Mm][Ll]>",
	lookaheadRegExp: /<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span").innerHTML = lookaheadMatch[1];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "commentByBlock",
	match: "/%",
	lookaheadRegExp: /\/%((?:.|\n)*?)%\//mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			w.nextMatch = this.lookaheadRegExp.lastIndex;
	}
},

{
	name: "boldByChar",
	match: "''",
	termRegExp: /('')/mg,
	element: "strong",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "italicByChar",
	match: "//",
	termRegExp: /(\/\/)/mg,
	element: "em",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "underlineByChar",
	match: "__",
	termRegExp: /(__)/mg,
	element: "u",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "strikeByChar",
	match: "--(?!\\s|$)",
	termRegExp: /((?!\s)--|(?=\n\n))/mg,
	element: "strike",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "superscriptByChar",
	match: "\\^\\^",
	termRegExp: /(\^\^)/mg,
	element: "sup",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "subscriptByChar",
	match: "~~",
	termRegExp: /(~~)/mg,
	element: "sub",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "monospacedByChar",
	match: "\\{\\{\\{",
	lookaheadRegExp: /\{\{\{((?:.|\n)*?)\}\}\}/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"code",null,null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "styleByChar",
	match: "@@",
	termRegExp: /(@@)/mg,
	handler: function(w)
	{
		var e = createTiddlyElement(w.output,"span");
		var styles = config.formatterHelpers.inlineCssHelper(w);
		if(styles.length == 0)
			e.className = "marked";
		else
			config.formatterHelpers.applyCssHelper(e,styles);
		w.subWikifyTerm(e,this.termRegExp);
	}
},

{
	name: "lineBreak",
	match: "\\n|<br ?/?>",
	handler: function(w)
	{
		createTiddlyElement(w.output,"br");
	}
},

{
	name: "rawText",
	match: "\\\"{3}|<nowiki>",
	lookaheadRegExp: /(?:\"{3}|<nowiki>)((?:.|\n)*?)(?:\"{3}|<\/nowiki>)/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span",null,null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "mdash",
	match: "--",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = "&mdash;";
	}
},

{
	name: "htmlEntitiesEncoding",
	match: "(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = w.matchText;
	}
},

{
	name: "customClasses",
	match: "\\{\\{",
	termRegExp: /(\}\}\})/mg,
	lookaheadRegExp: /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch) {
			var e = createTiddlyElement(w.output,lookaheadMatch[2] == "\n" ? "div" : "span",null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			w.subWikifyTerm(e,this.termRegExp);
		}
	}
}

];

//--
//-- Wikifier
//--

function getParser(tiddler,format)
{
	if(tiddler) {
		if(!format)
			format = tiddler.fields["wikiformat"];
		var i;
		if(format) {
			for(i in config.parsers) {
				if(format == config.parsers[i].format)
					return config.parsers[i];
			}
		} else {
			for(i in config.parsers) {
				if(tiddler.isTagged(config.parsers[i].formatTag))
					return config.parsers[i];
			}
		}
	}
	return formatter;
}

function wikify(source,output,highlightRegExp,tiddler)
{
	if(source && source != "") {
		var wikifier = new Wikifier(source,getParser(tiddler),highlightRegExp,tiddler);
		wikifier.subWikifyUnterm(output);
	}
}

function wikifyStatic(source,highlightRegExp,tiddler,format)
{
	var e = createTiddlyElement(document.body,"div");
	e.style.display = "none";
	var html = "";
	if(source && source != "") {
		var wikifier = new Wikifier(source,getParser(tiddler,format),highlightRegExp,tiddler);
		wikifier.isStatic = true;
		wikifier.subWikifyUnterm(e);
		html = e.innerHTML;
		removeNode(e);
	}
	return html;
}

function wikifyPlain(title,theStore,limit)
{
	if(!theStore)
		theStore = store;
	if(theStore.tiddlerExists(title) || theStore.isShadowTiddler(title)) {
		return wikifyPlainText(theStore.getTiddlerText(title),limit,tiddler);
	} else {
		return "";
	}
}

function wikifyPlainText(text,limit,tiddler)
{
	if(limit > 0)
		text = text.substr(0,limit);
	var wikifier = new Wikifier(text,formatter,null,tiddler);
	return wikifier.wikifyPlain();
}

function highlightify(source,output,highlightRegExp,tiddler)
{
	if(source && source != "") {
		var wikifier = new Wikifier(source,formatter,highlightRegExp,tiddler);
		wikifier.outputText(output,0,source.length);
	}
}

function Wikifier(source,formatter,highlightRegExp,tiddler)
{
	this.source = source;
	this.output = null;
	this.formatter = formatter;
	this.nextMatch = 0;
	this.autoLinkWikiWords = tiddler && tiddler.autoLinkWikiWords() == false ? false : true;
	this.highlightRegExp = highlightRegExp;
	this.highlightMatch = null;
	this.isStatic = false;
	if(highlightRegExp) {
		highlightRegExp.lastIndex = 0;
		this.highlightMatch = highlightRegExp.exec(source);
	}
	this.tiddler = tiddler;
}

Wikifier.prototype.wikifyPlain = function()
{
	var e = createTiddlyElement(document.body,"div");
	this.subWikify(e);
	var text = getPlainText(e);
	removeNode(e);
	return text;
};

Wikifier.prototype.subWikify = function(output,terminator)
{
	if(terminator)
		this.subWikifyTerm(output,new RegExp("(" + terminator + ")","mg"));
	else
		this.subWikifyUnterm(output);
};

Wikifier.prototype.subWikifyUnterm = function(output)
{
	// subWikify() can be indirectly recursive, so we need to save the old output pointer
	var oldOutput = this.output;
	this.output = output;
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	while(formatterMatch) {
		// Output any text before the match
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		// Set the match parameters for the handler
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		for(var t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.subWikifyTerm = function(output,terminatorRegExp)
{
	// subWikify() can be indirectly recursive, so we need to save the old output pointer
	var oldOutput = this.output;
	this.output = output;
	// Get the first matches for the formatter and terminator RegExps
	terminatorRegExp.lastIndex = this.nextMatch;
	var terminatorMatch = terminatorRegExp.exec(this.source);
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	while(terminatorMatch || formatterMatch) {
		if(terminatorMatch && (!formatterMatch || terminatorMatch.index <= formatterMatch.index)) {
			if(terminatorMatch.index > this.nextMatch)
				this.outputText(this.output,this.nextMatch,terminatorMatch.index);
			this.matchText = terminatorMatch[1];
			this.matchLength = terminatorMatch[1].length;
			this.matchStart = terminatorMatch.index;
			this.nextMatch = this.matchStart + this.matchLength;
			this.output = oldOutput;
			return;
		}
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		for(var t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		terminatorRegExp.lastIndex = this.nextMatch;
		terminatorMatch = terminatorRegExp.exec(this.source);
		formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.outputText = function(place,startPos,endPos)
{
	while(this.highlightMatch && (this.highlightRegExp.lastIndex > startPos) && (this.highlightMatch.index < endPos) && (startPos < endPos)) {
		if(this.highlightMatch.index > startPos) {
			createTiddlyText(place,this.source.substring(startPos,this.highlightMatch.index));
			startPos = this.highlightMatch.index;
		}
		var highlightEnd = Math.min(this.highlightRegExp.lastIndex,endPos);
		var theHighlight = createTiddlyElement(place,"span",null,"highlight",this.source.substring(startPos,highlightEnd));
		startPos = highlightEnd;
		if(startPos >= this.highlightRegExp.lastIndex)
			this.highlightMatch = this.highlightRegExp.exec(this.source);
	}
	if(startPos < endPos) {
		createTiddlyText(place,this.source.substring(startPos,endPos));
	}
};

//--
//-- Macro definitions
//--

config.macros.today.handler = function(place,macroName,params)
{
	var now = new Date();
	var text;
	if(params[0])
		text = now.formatString(params[0].trim());
	else
		text = now.toLocaleString();
	createTiddlyElement(place,"span",null,null,text);
};

config.macros.version.handler = function(place)
{
	createTiddlyElement(place,"span",null,null,version.major + "." + version.minor + "." + version.revision + (version.beta ? " (beta " + version.beta + ")" : ""));
};

config.macros.list.handler = function(place,macroName,params)
{
	var type = params[0] ? params[0] : "all";
	var list = document.createElement("ul");
	place.appendChild(list);
	if(this[type].prompt)
		createTiddlyElement(list,"li",null,"listTitle",this[type].prompt);
	var results;
	if(this[type].handler)
		results = this[type].handler(params);
	for(var t = 0; t < results.length; t++) {
		var li = document.createElement("li");
		list.appendChild(li);
		createTiddlyLink(li,typeof results[t] == "string" ? results[t] : results[t].title,true);
	}
};

config.macros.list.all.handler = function(params)
{
	return store.reverseLookup("tags","excludeLists",false,"title");
};

config.macros.list.missing.handler = function(params)
{
	return store.getMissingLinks();
};

config.macros.list.orphans.handler = function(params)
{
	return store.getOrphans();
};

config.macros.list.shadowed.handler = function(params)
{
	return store.getShadowed();
};

config.macros.list.touched.handler = function(params)
{
	return store.getTouched();
};

config.macros.allTags.handler = function(place,macroName,params)
{
	var tags = store.getTags(params[0]);
	var ul = createTiddlyElement(place,"ul");
	if(tags.length == 0)
		createTiddlyElement(ul,"li",null,"listTitle",this.noTags);
	for(var t=0; t<tags.length; t++) {
		var title = tags[t][0];
		var info = getTiddlyLinkInfo(title);
		var li =createTiddlyElement(ul,"li");
		var btn = createTiddlyButton(li,title + " (" + tags[t][1] + ")",this.tooltip.format([title]),onClickTag,info.classes);
		btn.setAttribute("tag",title);
		btn.setAttribute("refresh","link");
		btn.setAttribute("tiddlyLink",title);
	}
};

config.macros.timeline.handler = function(place,macroName,params)
{
	var field = params[0] ? params[0] : "modified";
	var tiddlers = store.reverseLookup("tags","excludeLists",false,field);
	var lastDay = "";
	var last = params[1] ? tiddlers.length-Math.min(tiddlers.length,parseInt(params[1])) : 0;
	var dateFormat = params[2] ? params[2] : this.dateFormat;
	for(var t=tiddlers.length-1; t>=last; t--) {
		var tiddler = tiddlers[t];
		var theDay = tiddler[field].convertToLocalYYYYMMDDHHMM().substr(0,8);
		if(theDay != lastDay) {
			var theDateList = document.createElement("ul");
			place.appendChild(theDateList);
			createTiddlyElement(theDateList,"li",null,"listTitle",tiddler[field].formatString(dateFormat));
			lastDay = theDay;
		}
		var theDateListItem = createTiddlyElement(theDateList,"li",null,"listLink");
		theDateListItem.appendChild(createTiddlyLink(place,tiddler.title,true));
	}
};

config.macros.search.handler = function(place,macroName,params)
{
	var searchTimeout = null;
	var btn = createTiddlyButton(place,this.label,this.prompt,this.onClick);
	var txt = createTiddlyElement(place,"input",null,"txtOptionInput");
	if(params[0])
		txt.value = params[0];
	txt.onkeyup = this.onKeyPress;
	txt.onfocus = this.onFocus;
	txt.setAttribute("size",this.sizeTextbox);
	txt.setAttribute("accessKey",this.accessKey);
	txt.setAttribute("autocomplete","off");
	txt.setAttribute("lastSearchText","");
	if(config.browser.isSafari) {
		txt.setAttribute("type","search");
		txt.setAttribute("results","5");
	} else {
		txt.setAttribute("type","text");
	}
};

// Global because there's only ever one outstanding incremental search timer
config.macros.search.timeout = null;

config.macros.search.doSearch = function(txt)
{
	if(txt.value.length > 0) {
		story.search(txt.value,config.options.chkCaseSensitiveSearch,config.options.chkRegExpSearch);
		txt.setAttribute("lastSearchText",txt.value);
	}
};

config.macros.search.onClick = function(e)
{
	config.macros.search.doSearch(this.nextSibling);
	return false;
};

config.macros.search.onKeyPress = function(ev)
{
	var e = ev ? ev : window.event;
	switch(e.keyCode) {
		case 13: // Ctrl-Enter
		case 10: // Ctrl-Enter on IE PC
			config.macros.search.doSearch(this);
			break;
		case 27: // Escape
			this.value = "";
			clearMessage();
			break;
	}
	if(this.value.length > 2) {
		if(this.value != this.getAttribute("lastSearchText")) {
			if(config.macros.search.timeout)
				clearTimeout(config.macros.search.timeout);
			var txt = this;
			config.macros.search.timeout = setTimeout(function() {config.macros.search.doSearch(txt);},500);
		}
	} else {
		if(config.macros.search.timeout)
			clearTimeout(config.macros.search.timeout);
	}
};

config.macros.search.onFocus = function(e)
{
	this.select();
};

config.macros.tiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("name",null,true,false,true);
	var names = params[0]["name"];
	var tiddlerName = names[0];
	var className = names[1] ? names[1] : null;
	var args = params[0]["with"];
	var wrapper = createTiddlyElement(place,"span",null,className);
	if(!args) {
		wrapper.setAttribute("refresh","content");
		wrapper.setAttribute("tiddler",tiddlerName);
	}
	var text = store.getTiddlerText(tiddlerName);
	if(text) {
		var stack = config.macros.tiddler.tiddlerStack;
		if(stack.indexOf(tiddlerName) !== -1)
			return;
		stack.push(tiddlerName);
		try {
			var n = args ? Math.min(args.length,9) : 0;
			for(var i=0; i<n; i++) {
				var placeholderRE = new RegExp("\\$" + (i + 1),"mg");
				text = text.replace(placeholderRE,args[i]);
			}
			config.macros.tiddler.renderText(wrapper,text,tiddlerName,params);
		} finally {
			stack.pop();
		}
	}
};

config.macros.tiddler.renderText = function(place,text,tiddlerName,params)
{
	wikify(text,place,null,store.getTiddler(tiddlerName));
};

config.macros.tiddler.tiddlerStack = [];

config.macros.tag.handler = function(place,macroName,params)
{
	createTagButton(place,params[0]);
};

config.macros.tags.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var theList = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title && store.tiddlerExists(title))
		tiddler = store.getTiddler(title);
	var sep = getParam(params,"sep"," ");
	var lingo = config.views.wikified.tag;
	var prompt = tiddler.tags.length == 0 ? lingo.labelNoTags : lingo.labelTags;
	createTiddlyElement(theList,"li",null,"listTitle",prompt.format([tiddler.title]));
	for(var t=0; t<tiddler.tags.length; t++) {
		createTagButton(createTiddlyElement(theList,"li"),tiddler.tags[t],tiddler.title);
		if(t<tiddler.tags.length-1)
			createTiddlyText(theList,sep);
	}
};

config.macros.tagging.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var theList = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title == "" && tiddler instanceof Tiddler)
		title = tiddler.title;
	var sep = getParam(params,"sep"," ");
	theList.setAttribute("title",this.tooltip.format([title]));
	var tagged = store.getTaggedTiddlers(title);
	var prompt = tagged.length == 0 ? this.labelNotTag : this.label;
	createTiddlyElement(theList,"li",null,"listTitle",prompt.format([title,tagged.length]));
	for(var t=0; t<tagged.length; t++) {
		createTiddlyLink(createTiddlyElement(theList,"li"),tagged[t].title,true);
		if(t<tagged.length-1)
			createTiddlyText(theList,sep);
	}
};

config.macros.closeAll.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.closeAll.onClick = function(e)
{
	story.closeAllTiddlers();
	return false;
};

config.macros.permaview.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.permaview.onClick = function(e)
{
	story.permaView();
	return false;
};

config.macros.saveChanges.handler = function(place)
{
	if(!readOnly)
		createTiddlyButton(place,this.label,this.prompt,this.onClick,null,null,this.accessKey);
};

config.macros.saveChanges.onClick = function(e)
{
	saveChanges();
	return false;
};

config.macros.slider.onClickSlider = function(ev)
{
	var e = ev ? ev : window.event;
	var n = this.nextSibling;
	var cookie = n.getAttribute("cookie");
	var isOpen = n.style.display != "none";
	if(config.options.chkAnimate && anim && typeof Slider == "function")
		anim.startAnimating(new Slider(n,!isOpen,null,"none"));
	else
		n.style.display = isOpen ? "none" : "block";
	config.options[cookie] = !isOpen;
	saveOptionCookie(cookie);
	return false;
};

config.macros.slider.createSlider = function(place,cookie,title,tooltip)
{
	var c = cookie ? cookie : "";
	var btn = createTiddlyButton(place,title,tooltip,this.onClickSlider);
	var panel = createTiddlyElement(null,"div",null,"sliderPanel");
	panel.setAttribute("cookie",c);
	panel.style.display = config.options[c] ? "block" : "none";
	place.appendChild(panel);
	return panel;
};

config.macros.slider.handler = function(place,macroName,params)
{
	var panel = this.createSlider(place,params[0],params[2],params[3]);
	var text = store.getTiddlerText(params[1]);
	panel.setAttribute("refresh","content");
	panel.setAttribute("tiddler",params[1]);
	if(text)
		wikify(text,panel,null,store.getTiddler(params[1]));
};

config.macros.option.genericCreate = function(place,type,opt,className,desc)
{
	var typeInfo = config.macros.option.types[type];
	var c = document.createElement(typeInfo.elementType);
	if(typeInfo.typeValue)
		c.setAttribute("type",typeInfo.typeValue);
	c[typeInfo.eventName] = typeInfo.onChange;
	c.setAttribute("option",opt);
	if(className)
		c.className = className;
	else
		c.className = typeInfo.className;
	if(config.optionsDesc[opt])
		c.setAttribute("title",config.optionsDesc[opt]);
	place.appendChild(c);
	if(desc != "no")
		createTiddlyText(place,config.optionsDesc[opt] ? config.optionsDesc[opt] : opt);
	c[typeInfo.valueField] = config.options[opt];
	return c;
};

config.macros.option.genericOnChange = function(e)
{
	var opt = this.getAttribute("option");
	if(opt) {
		var optType = opt.substr(0,3);
		var handler = config.macros.option.types[optType];
		if (handler.elementType && handler.valueField)
			config.macros.option.propagateOption(opt,handler.valueField,this[handler.valueField],handler.elementType);
		}
	return true;
};

config.macros.option.types = {
	'txt': {
		elementType: "input",
		valueField: "value",
		eventName: "onkeyup",
		className: "txtOptionInput",
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	},
	'chk': {
		elementType: "input",
		valueField: "checked",
		eventName: "onclick",
		className: "chkOptionInput",
		typeValue: "checkbox",
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	}
};

config.macros.option.propagateOption = function(opt,valueField,value,elementType)
{
	config.options[opt] = value;
	saveOptionCookie(opt);
	var nodes = document.getElementsByTagName(elementType);
	for(var t=0; t<nodes.length; t++) {
		var optNode = nodes[t].getAttribute("option");
		if(opt == optNode)
			nodes[t][valueField] = value;
		}
};

config.macros.option.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var opt = (params[1] && params[1].name == "anon") ? params[1].value : getParam(params,"name",null);
	var className = (params[2] && params[2].name == "anon") ? params[2].value : getParam(params,"class",null);
	var desc = getParam(params,"desc","no");
	var type = opt.substr(0,3);
	var h = config.macros.option.types[type];
	if (h && h.create)
		h.create(place,type,opt,className,desc);
};

config.macros.options.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var showUnknown = getParam(params,"showUnknown","no");
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement("markList");
	var chkUnknown = wizard.getElement("chkUnknown");
	chkUnknown.checked = showUnknown == "yes";
	chkUnknown.onchange = this.onChangeUnknown;
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	wizard.setValue("listWrapper",listWrapper);
	this.refreshOptions(listWrapper,showUnknown == "yes");
};

config.macros.options.refreshOptions = function(listWrapper,showUnknown)
{
	var opts = [];
	for(var n in config.options) {
		var opt = {};
		opt.option = "";
		opt.name = n;
		opt.lowlight = !config.optionsDesc[n];
		opt.description = opt.lowlight ? this.unknownDescription : config.optionsDesc[n];
		if(!opt.lowlight || showUnknown)
			opts.push(opt);
	}
	opts.sort(function(a,b) {return a.name.substr(3) < b.name.substr(3) ? -1 : (a.name.substr(3) == b.name.substr(3) ? 0 : +1);});
	var listview = ListView.create(listWrapper,opts,this.listViewTemplate);
	for(n=0; n<opts.length; n++) {
		var type = opts[n].name.substr(0,3);
		var h = config.macros.option.types[type];
		if (h && h.create) {
			h.create(opts[n].colElements['option'],type,opts[n].name,null,"no");
		}
	}
};

config.macros.options.onChangeUnknown = function(e)
{
	var wizard = new Wizard(this);
	var listWrapper = wizard.getValue("listWrapper");
	removeChildren(listWrapper);
	config.macros.options.refreshOptions(listWrapper,this.checked);
	return false;
};

config.macros.newTiddler.createNewTiddlerButton = function(place,title,params,label,prompt,accessKey,newFocus,isJournal)
{
	var tags = [];
	for(var t=1; t<params.length; t++) {
		if((params[t].name == "anon" && t != 1) || (params[t].name == "tag"))
			tags.push(params[t].value);
	}
	label = getParam(params,"label",label);
	prompt = getParam(params,"prompt",prompt);
	accessKey = getParam(params,"accessKey",accessKey);
	newFocus = getParam(params,"focus",newFocus);
	var customFields = getParam(params,"fields","");
	if(!customFields && !store.isShadowTiddler(title))
		customFields = String.encodeHashMap(config.defaultCustomFields);
	var btn = createTiddlyButton(place,label,prompt,this.onClickNewTiddler,null,null,accessKey);
	btn.setAttribute("newTitle",title);
	btn.setAttribute("isJournal",isJournal ? "true" : "false");
	if(tags.length > 0)
		btn.setAttribute("params",tags.join("|"));
	btn.setAttribute("newFocus",newFocus);
	btn.setAttribute("newTemplate",getParam(params,"template",DEFAULT_EDIT_TEMPLATE));
	if(customFields !== "")
		btn.setAttribute("customFields",customFields);
	var text = getParam(params,"text");
	if(text !== undefined)
		btn.setAttribute("newText",text);
	return btn;
};

config.macros.newTiddler.onClickNewTiddler = function()
{
	var title = this.getAttribute("newTitle");
	if(this.getAttribute("isJournal") == "true") {
		var now = new Date();
		title = now.formatString(title.trim());
	}
	var params = this.getAttribute("params");
	var tags = params ? params.split("|") : [];
	var focus = this.getAttribute("newFocus");
	var template = this.getAttribute("newTemplate");
	var customFields = this.getAttribute("customFields");
	story.displayTiddler(null,title,template,false,null,null);
	var tiddlerElem = document.getElementById(story.idPrefix + title);
	if(customFields)
		story.addCustomFields(tiddlerElem,customFields);
	var text = this.getAttribute("newText");
	if(typeof text == "string")
		story.getTiddlerField(title,"text").value = text.format([title]);
	for(var t=0;t<tags.length;t++)
		story.setTiddlerTag(title,tags[t],+1);
	story.focusTiddler(title,focus);
	return false;
};

config.macros.newTiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : this.title;
		title = getParam(params,"title",title);
		this.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"title",false);
	}
};

config.macros.newJournal.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : "";
		title = getParam(params,"title",title);
		config.macros.newTiddler.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"text",true);
	}
};

config.macros.sparkline.handler = function(place,macroName,params)
{
	var data = [];
	var min = 0;
	var max = 0;
	var v;
	for(var t=0; t<params.length; t++) {
		v = parseInt(params[t]);
		if(v < min)
			min = v;
		if(v > max)
			max = v;
		data.push(v);
	}
	if(data.length < 1)
		return;
	var box = createTiddlyElement(place,"span",null,"sparkline",String.fromCharCode(160));
	box.title = data.join(",");
	var w = box.offsetWidth;
	var h = box.offsetHeight;
	box.style.paddingRight = (data.length * 2 - w) + "px";
	box.style.position = "relative";
	for(var d=0; d<data.length; d++) {
		var tick = document.createElement("img");
		tick.border = 0;
		tick.className = "sparktick";
		tick.style.position = "absolute";
		tick.src = "data:image/gif,GIF89a%01%00%01%00%91%FF%00%FF%FF%FF%00%00%00%C0%C0%C0%00%00%00!%F9%04%01%00%00%02%00%2C%00%00%00%00%01%00%01%00%40%02%02T%01%00%3B";
		tick.style.left = d*2 + "px";
		tick.style.width = "2px";
		v = Math.floor(((data[d] - min)/(max-min)) * h);
		tick.style.top = (h-v) + "px";
		tick.style.height = v + "px";
		box.appendChild(tick);
	}
};

config.macros.tabs.handler = function(place,macroName,params)
{
	var cookie = params[0];
	var numTabs = (params.length-1)/3;
	var wrapper = createTiddlyElement(null,"div",null,cookie);
	var tabset = createTiddlyElement(wrapper,"div",null,"tabset");
	tabset.setAttribute("cookie",cookie);
	var validTab = false;
	for(var t=0; t<numTabs; t++) {
		var label = params[t*3+1];
		var prompt = params[t*3+2];
		var content = params[t*3+3];
		var tab = createTiddlyButton(tabset,label,prompt,this.onClickTab,"tab tabUnselected");
		tab.setAttribute("tab",label);
		tab.setAttribute("content",content);
		tab.title = prompt;
		if(config.options[cookie] == label)
			validTab = true;
	}
	if(!validTab)
		config.options[cookie] = params[1];
	place.appendChild(wrapper);
	this.switchTab(tabset,config.options[cookie]);
};

config.macros.tabs.onClickTab = function(e)
{
	config.macros.tabs.switchTab(this.parentNode,this.getAttribute("tab"));
	return false;
};

config.macros.tabs.switchTab = function(tabset,tab)
{
	var cookie = tabset.getAttribute("cookie");
	var theTab = null;
	var nodes = tabset.childNodes;
	for(var t=0; t<nodes.length; t++) {
		if(nodes[t].getAttribute && nodes[t].getAttribute("tab") == tab) {
			theTab = nodes[t];
			theTab.className = "tab tabSelected";
		} else {
			nodes[t].className = "tab tabUnselected";
		}
	}
	if(theTab) {
		if(tabset.nextSibling && tabset.nextSibling.className == "tabContents")
			removeNode(tabset.nextSibling);
		var tabContent = createTiddlyElement(null,"div",null,"tabContents");
		tabset.parentNode.insertBefore(tabContent,tabset.nextSibling);
		var contentTitle = theTab.getAttribute("content");
		wikify(store.getTiddlerText(contentTitle),tabContent,null,store.getTiddler(contentTitle));
		if(cookie) {
			config.options[cookie] = tab;
			saveOptionCookie(cookie);
		}
	}
};

// <<gradient [[tiddler name]] vert|horiz rgb rgb rgb rgb... >>
config.macros.gradient.handler = function(place,macroName,params,wikifier)
{
	var terminator = ">>";
	var panel;
	if(wikifier)
		panel = createTiddlyElement(place,"div",null,"gradient");
	else
		panel = place;
	panel.style.position = "relative";
	panel.style.overflow = "hidden";
	panel.style.zIndex = "0";
	var t;
	if(wikifier) {
		var styles = config.formatterHelpers.inlineCssHelper(wikifier);
		config.formatterHelpers.applyCssHelper(panel,styles);
	}
	var colours = [];
	for(t=1; t<params.length; t++) {
		var c = new RGB(params[t]);
		if(c)
			colours.push(c);
	}
	drawGradient(panel,params[0] != "vert",colours);
	if(wikifier)
		wikifier.subWikify(panel,terminator);
	if(document.all) {
		panel.style.height = "100%";
		panel.style.width = "100%";
	}
};

config.macros.message.handler = function(place,macroName,params)
{
	if(params[0]) {
		var m = config;
		var p = params[0].split(".");
		for(var t=0; t<p.length; t++) {
			if(p[t] in m)
				m = m[p[t]];
			else
				break;
		}
		createTiddlyText(place,m.toString().format(params.splice(1)));
	}
};

config.macros.view.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if((tiddler instanceof Tiddler) && params[0]) {
		var value = store.getValue(tiddler,params[0]);
		if(value != undefined) {
			switch(params[1]) {
				case undefined:
					highlightify(value,place,highlightHack,tiddler);
					break;
				case "link":
					createTiddlyLink(place,value,true);
					break;
				case "wikified":
					wikify(value,place,highlightHack,tiddler);
					break;
				case "date":
					value = Date.convertFromYYYYMMDDHHMM(value);
					createTiddlyText(place,value.formatString(params[2] ? params[2] : config.views.wikified.dateFormat));
					break;
			}
		}
	}
};

config.macros.edit.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var field = params[0];
	var rows = params[1];
	if((tiddler instanceof Tiddler) && field) {
		story.setDirty(tiddler.title,true);
		var e,v;
		if(field != "text" && !rows) {
			e = createTiddlyElement(null,"input");
			if(tiddler.isReadOnly())
				e.setAttribute("readOnly","readOnly");
			e.setAttribute("edit",field);
			e.setAttribute("type","text");
			v = store.getValue(tiddler,field);
			if(!v)
				v = "";
			e.value = v;
			e.setAttribute("size","40");
			e.setAttribute("autocomplete","off");
			place.appendChild(e);
		} else {
			var wrapper1 = createTiddlyElement(null,"fieldset",null,"fieldsetFix");
			var wrapper2 = createTiddlyElement(wrapper1,"div");
			e = createTiddlyElement(wrapper2,"textarea");
			if(tiddler.isReadOnly())
				e.setAttribute("readOnly","readOnly");
			v = store.getValue(tiddler,field);
			if(!v)
				v = "";
			e.value = v;
			rows = rows ? rows : 10;
			var lines = v.match(/\n/mg);
			var maxLines = Math.max(parseInt(config.options.txtMaxEditRows),5);
			if(lines != null && lines.length > rows)
				rows = lines.length + 5;
			rows = Math.min(rows,maxLines);
			e.setAttribute("rows",rows);
			e.setAttribute("edit",field);
			place.appendChild(wrapper1);
		}
	}
};

config.macros.tagChooser.onClick = function(ev)
{
	var e = ev ? ev : window.event;
	var lingo = config.views.editor.tagChooser;
	var popup = Popup.create(this);
	var tags = store.getTags();
	if(tags.length == 0)
		createTiddlyText(createTiddlyElement(popup,"li"),lingo.popupNone);
	for(var t=0; t<tags.length; t++) {
		var theTag = createTiddlyButton(createTiddlyElement(popup,"li"),tags[t][0],lingo.tagTooltip.format([tags[t][0]]),config.macros.tagChooser.onTagClick);
		theTag.setAttribute("tag",tags[t][0]);
		theTag.setAttribute("tiddler",this.getAttribute("tiddler"));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
};

config.macros.tagChooser.onTagClick = function(ev)
{
	var e = ev ? ev : window.event;
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(!readOnly)
		story.setTiddlerTag(title,tag,0);
	return false;
};

config.macros.tagChooser.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(tiddler instanceof Tiddler) {
		var title = tiddler.title;
		var lingo = config.views.editor.tagChooser;
		var btn = createTiddlyButton(place,lingo.text,lingo.tooltip,this.onClick);
		btn.setAttribute("tiddler",title);
	}
};

// Create a toolbar command button
config.macros.toolbar.createCommand = function(place,commandName,tiddler,theClass)
{
	if(typeof commandName != "string") {
		var c = null;
		for(var t in config.commands) {
			if(config.commands[t] == commandName)
				c = t;
		}
		commandName = c;
	}
	if((tiddler instanceof Tiddler) && (typeof commandName == "string")) {
		var command = config.commands[commandName];
		if(command.isEnabled ? command.isEnabled(tiddler) : this.isCommandEnabled(command,tiddler)) {
			var text = command.getText ? command.getText(tiddler) : this.getCommandText(command,tiddler);
			var tooltip = command.getTooltip ? command.getTooltip(tiddler) : this.getCommandTooltip(command,tiddler);
			var cmd;
			switch(command.type) {
				case "popup":
					cmd = this.onClickPopup;
					break;
				case "command":
				default:
					cmd = this.onClickCommand;
					break;
			}
			var btn = createTiddlyButton(null,text,tooltip,cmd);
			btn.setAttribute("commandName",commandName);
			btn.setAttribute("tiddler",tiddler.title);
			if(theClass)
				addClass(btn,theClass);
			place.appendChild(btn);
		}
	}
};

config.macros.toolbar.isCommandEnabled = function(command,tiddler)
{
	var title = tiddler.title;
	var ro = tiddler.isReadOnly();
	var shadow = store.isShadowTiddler(title) && !store.tiddlerExists(title);
	return (!ro || (ro && !command.hideReadOnly)) && !(shadow && command.hideShadow);
};

config.macros.toolbar.getCommandText = function(command,tiddler)
{
	return tiddler.isReadOnly() && command.readOnlyText ? command.readOnlyText : command.text;
};

config.macros.toolbar.getCommandTooltip = function(command,tiddler)
{
	return tiddler.isReadOnly() && command.readOnlyTooltip ? command.readOnlyTooltip : command.tooltip;
};

config.macros.toolbar.onClickCommand = function(ev)
{
	var e = ev ? ev : window.event;
	e.cancelBubble = true;
	if (e.stopPropagation) e.stopPropagation();
	var command = config.commands[this.getAttribute("commandName")];
	return command.handler(e,this,this.getAttribute("tiddler"));
};

config.macros.toolbar.onClickPopup = function(ev)
{
	var e = ev ? ev : window.event;
	e.cancelBubble = true;
	if (e.stopPropagation) e.stopPropagation();
	var popup = Popup.create(this);
	var command = config.commands[this.getAttribute("commandName")];
	var title = this.getAttribute("tiddler");
	var tiddler = store.fetchTiddler(title);
	popup.setAttribute("tiddler",title);
	command.handlePopup(popup,title);
	Popup.show();
	return false;
};

// Invoke the first command encountered from a given place that is tagged with a specified class
config.macros.toolbar.invokeCommand = function(place,theClass,event)
{
	var children = place.getElementsByTagName("a");
	for(var t=0; t<children.length; t++) {
		var c = children[t];
		if(hasClass(c,theClass) && c.getAttribute && c.getAttribute("commandName")) {
			if(c.onclick instanceof Function)
				c.onclick.call(c,event);
			break;
		}
	}
};

config.macros.toolbar.onClickMore = function(ev)
{
	var e = this.nextSibling;
	e.style.display = "inline";
	removeNode(this);
	return false;
};

config.macros.toolbar.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	for(var t=0; t<params.length; t++) {
		var c = params[t];
		switch(c) {
			case '>':
				var btn = createTiddlyButton(place,this.moreLabel,this.morePrompt,config.macros.toolbar.onClickMore);
				addClass(btn,"moreCommand");
				var e = createTiddlyElement(place,"span",null,"moreCommand");
				e.style.display = "none";
				place = e;
				break;
			default:
				var theClass = "";
				switch(c.substr(0,1)) {
					case "+":
						theClass = "defaultCommand";
						c = c.substr(1);
						break;
					case "-":
						theClass = "cancelCommand";
						c = c.substr(1);
						break;
				}
				if(c in config.commands)
					this.createCommand(place,c,tiddler,theClass);
				break;
		}
	}
};

config.macros.refreshDisplay.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.refreshDisplay.onClick = function(e)
{
	refreshAll();
	return false;
};

config.macros.annotations.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var title = tiddler ? tiddler.title : null;
	var a = title ? config.annotations[title] : null;
	if(!tiddler || !title || !a)
		return;
	var text = a.format([title]);
	wikify(text,createTiddlyElement(place,"div",null,"annotation"),null,tiddler);
};

//--
//-- Menu and toolbar commands
//--

config.commands.closeTiddler.handler = function(event,src,title)
{
	story.closeTiddler(title,true);
	return false;
};

config.commands.closeOthers.handler = function(event,src,title)
{
	story.closeAllTiddlers(title);
	return false;
};

config.commands.editTiddler.handler = function(event,src,title)
{
	clearMessage();
	var tiddlerElem = document.getElementById(story.idPrefix + title);
	var fields = tiddlerElem.getAttribute("tiddlyFields");
	story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE,false,null,fields);
	story.focusTiddler(title,"text");
	return false;
};

config.commands.saveTiddler.handler = function(event,src,title)
{
	var newTitle = story.saveTiddler(title,event.shiftKey);
	if(newTitle)
		story.displayTiddler(null,newTitle);
	return false;
};

config.commands.cancelTiddler.handler = function(event,src,title)
{
	if(story.hasChanges(title) && !readOnly) {
		if(!confirm(this.warning.format([title])))
			return false;
	}
	story.setDirty(title,false);
	story.displayTiddler(null,title);
	return false;
};

config.commands.deleteTiddler.handler = function(event,src,title)
{
	var deleteIt = true;
	if (config.options.chkConfirmDelete)
		deleteIt = confirm(this.warning.format([title]));
	if (deleteIt) {
		store.removeTiddler(title);
		story.closeTiddler(title,true);
		autoSaveChanges();
	}
	return false;
};

config.commands.permalink.handler = function(event,src,title)
{
	var t = encodeURIComponent(String.encodeTiddlyLink(title));
	if(window.location.hash != t)
		window.location.hash = t;
	return false;
};

config.commands.references.handlePopup = function(popup,title)
{
	var references = store.getReferringTiddlers(title);
	var c = false;
	for(var r=0; r<references.length; r++) {
		if(references[r].title != title && !references[r].isTagged("excludeLists")) {
			createTiddlyLink(createTiddlyElement(popup,"li"),references[r].title,true);
			c = true;
		}
	}
	if(!c)
		createTiddlyText(createTiddlyElement(popup,"li",null,"disabled"),this.popupNone);
};

config.commands.jump.handlePopup = function(popup,title)
{
	story.forEachTiddler(function(title,element) {
		createTiddlyLink(createTiddlyElement(popup,"li"),title,true,null,false,null,true);
		});
};

config.commands.syncing.handlePopup = function(popup,title)
{
	var tiddler = store.fetchTiddler(title);
	if(!tiddler)
		return;
	var serverType = tiddler.getServerType();
	var serverHost = tiddler.fields['server.host'];
	var serverWorkspace = tiddler.fields['server.workspace'];
	if(!serverWorkspace)
		serverWorkspace = "";
	if(serverType) {
		var e = createTiddlyElement(popup,"li",null,"popupMessage");
		e.innerHTML = config.commands.syncing.currentlySyncing.format([serverType,serverHost,serverWorkspace]);
	} else {
		createTiddlyElement(popup,"li",null,"popupMessage",config.commands.syncing.notCurrentlySyncing);
	}
	if(serverType) {
		createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
		var btn = createTiddlyButton(createTiddlyElement(popup,"li"),this.captionUnSync,null,config.commands.syncing.onChooseServer);
		btn.setAttribute("tiddler",title);
		btn.setAttribute("server.type","");
	}
	createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
	createTiddlyElement(popup,"li",null,"popupMessage",config.commands.syncing.chooseServer);
	var feeds = store.getTaggedTiddlers("systemServer","title");
	for(var t=0; t<feeds.length; t++) {
		var f = feeds[t];
		var feedServerType = store.getTiddlerSlice(f.title,"Type");
		if(!feedServerType)
			feedServerType = "file";
		var feedServerHost = store.getTiddlerSlice(f.title,"URL");
		if(!feedServerHost)
			feedServerHost = "";
		var feedServerWorkspace = store.getTiddlerSlice(f.title,"Workspace");
		if(!feedServerWorkspace)
			feedServerWorkspace = "";
		var caption = f.title;
		if(serverType == feedServerType && serverHost == feedServerHost && serverWorkspace == feedServerWorkspace) {
			caption = config.commands.syncing.currServerMarker + caption;
		} else {
			caption = config.commands.syncing.notCurrServerMarker + caption;
		}
		btn = createTiddlyButton(createTiddlyElement(popup,"li"),caption,null,config.commands.syncing.onChooseServer);
		btn.setAttribute("tiddler",title);
		btn.setAttribute("server.type",feedServerType);
		btn.setAttribute("server.host",feedServerHost);
		btn.setAttribute("server.workspace",feedServerWorkspace);
	}
};

config.commands.syncing.onChooseServer = function(e)
{
	var tiddler = this.getAttribute("tiddler");
	var serverType = this.getAttribute("server.type");
	if(serverType) {
		store.addTiddlerFields(tiddler,{
			'server.type': serverType,
			'server.host': this.getAttribute("server.host"),
			'server.workspace': this.getAttribute("server.workspace")
			});
	} else {
		store.setValue(tiddler,'server',null);
	}
	return false;
};

config.commands.fields.handlePopup = function(popup,title)
{
	var tiddler = store.fetchTiddler(title);
	if(!tiddler)
		return;
	var fields = {};
	store.forEachField(tiddler,function(tiddler,fieldName,value) {fields[fieldName] = value;},true);
	var items = [];
	for(var t in fields) {
		items.push({field: t,value: fields[t]});
	}
	items.sort(function(a,b) {return a.field < b.field ? -1 : (a.field == b.field ? 0 : +1);});
	if(items.length > 0)
		ListView.create(popup,items,this.listViewTemplate);
	else
		createTiddlyElement(popup,"div",null,null,this.emptyText);
};

//--
//-- Tiddler() object
//--

function Tiddler(title)
{
	this.title = title;
	this.text = null;
	this.modifier = null;
	this.modified = new Date();
	this.created = new Date();
	this.links = [];
	this.linksUpdated = false;
	this.tags = [];
	this.fields = {};
	return this;
}

Tiddler.prototype.getLinks = function()
{
	if(this.linksUpdated==false)
		this.changed();
	return this.links;
};

// Returns the fields that are inherited in string field:"value" field2:"value2" format
Tiddler.prototype.getInheritedFields = function()
{
	var f = {};
	for(i in this.fields) {
		if(i=="server.host" || i=="server.workspace" || i=="wikiformat"|| i=="server.type") {
			f[i] = this.fields[i];
		}
	}
	return String.encodeHashMap(f);
};

// Increment the changeCount of a tiddler
Tiddler.prototype.incChangeCount = function()
{
	var c = this.fields['changecount'];
	c = c ? parseInt(c) : 0;
	this.fields['changecount'] = String(c+1);
};

// Clear the changeCount of a tiddler
Tiddler.prototype.clearChangeCount = function()
{
	if(this.fields['changecount']) {
		delete this.fields['changecount'];
	}
};

// Returns true if the tiddler has been updated since the tiddler was created or downloaded
Tiddler.prototype.isTouched = function()
{
	var changeCount = this.fields['changecount'];
	if(changeCount === undefined)
		changeCount = 0;
	return changeCount > 0;
};

// Format the text for storage in an RSS item
Tiddler.prototype.saveToRss = function(url)
{
	var s = [];
	s.push("<item>");
	s.push("<title" + ">" + this.title.htmlEncode() + "</title" + ">");
	s.push("<description>" + wikifyStatic(this.text,null,this).htmlEncode() + "</description>");
	for(var t=0; t<this.tags.length; t++)
		s.push("<category>" + this.tags[t] + "</category>");
	s.push("<link>" + url + "#" + encodeURIComponent(String.encodeTiddlyLink(this.title)) + "</link>");
	s.push("<pubDate>" + this.modified.toGMTString() + "</pubDate>");
	s.push("</item>");
	return s.join("\n");
};

// Change the text and other attributes of a tiddler
Tiddler.prototype.set = function(title,text,modifier,modified,tags,created,fields)
{
	this.assign(title,text,modifier,modified,tags,created,fields);
	this.changed();
	return this;
};

// Change the text and other attributes of a tiddler without triggered a tiddler.changed() call
Tiddler.prototype.assign = function(title,text,modifier,modified,tags,created,fields)
{
	if(title != undefined)
		this.title = title;
	if(text != undefined)
		this.text = text;
	if(modifier != undefined)
		this.modifier = modifier;
	if(modified != undefined)
		this.modified = modified;
	if(created != undefined)
		this.created = created;
	if(fields != undefined)
		this.fields = fields;
	if(tags != undefined)
		this.tags = (typeof tags == "string") ? tags.readBracketedList() : tags;
	else if(this.tags == undefined)
		this.tags = [];
	return this;
};

// Get the tags for a tiddler as a string (space delimited, using [[brackets]] for tags containing spaces)
Tiddler.prototype.getTags = function()
{
	return String.encodeTiddlyLinkList(this.tags);
};

// Test if a tiddler carries a tag
Tiddler.prototype.isTagged = function(tag)
{
	return this.tags.indexOf(tag) != -1;
};

// Static method to convert "\n" to newlines, "\s" to "\"
Tiddler.unescapeLineBreaks = function(text)
{
	return text ? text.unescapeLineBreaks() : "";
};

// Convert newlines to "\n", "\" to "\s"
Tiddler.prototype.escapeLineBreaks = function()
{
	return this.text.escapeLineBreaks();
};

// Updates the secondary information (like links[] array) after a change to a tiddler
Tiddler.prototype.changed = function()
{
	this.links = [];
	var t = this.autoLinkWikiWords() ? 0 : 1;
	var tiddlerLinkRegExp = t==0 ? config.textPrimitives.tiddlerAnyLinkRegExp : config.textPrimitives.tiddlerForcedLinkRegExp;
	tiddlerLinkRegExp.lastIndex = 0;
	var formatMatch = tiddlerLinkRegExp.exec(this.text);
	while(formatMatch) {
		var lastIndex = tiddlerLinkRegExp.lastIndex;
		if(t==0 && formatMatch[1] && formatMatch[1] != this.title) {
			// wikiWordLink
			if(formatMatch.index > 0) {
				var preRegExp = new RegExp(config.textPrimitives.unWikiLink+"|"+config.textPrimitives.anyLetter,"mg");
				preRegExp.lastIndex = formatMatch.index-1;
				var preMatch = preRegExp.exec(this.text);
				if(preMatch.index != formatMatch.index-1)
					this.links.pushUnique(formatMatch[1]);
			} else {
				this.links.pushUnique(formatMatch[1]);
			}
		}
		else if(formatMatch[2-t] && !config.formatterHelpers.isExternalLink(formatMatch[3-t])) // titledBrackettedLink
			this.links.pushUnique(formatMatch[3-t]);
		else if(formatMatch[4-t] && formatMatch[4-t] != this.title) // brackettedLink
			this.links.pushUnique(formatMatch[4-t]);
		tiddlerLinkRegExp.lastIndex = lastIndex;
		formatMatch = tiddlerLinkRegExp.exec(this.text);
	}
	this.linksUpdated = true;
};

Tiddler.prototype.getSubtitle = function()
{
	var theModifier = this.modifier;
	if(!theModifier)
		theModifier = config.messages.subtitleUnknown;
	var theModified = this.modified;
	if(theModified)
		theModified = theModified.toLocaleString();
	else
		theModified = config.messages.subtitleUnknown;
	return config.messages.tiddlerLinkTooltip.format([this.title,theModifier,theModified]);
};

Tiddler.prototype.isReadOnly = function()
{
	return readOnly;
};

Tiddler.prototype.autoLinkWikiWords = function()
{
	return !(this.isTagged("systemConfig") || this.isTagged("excludeMissing"));
};

Tiddler.prototype.generateFingerprint = function()
{
	return "0x" + Crypto.hexSha1Str(this.text);
};

Tiddler.prototype.getServerType = function()
{
	var serverType = null;
	if(this.fields && this.fields['server.type'])
		serverType = this.fields['server.type'];
	if(!serverType)
		serverType = this.fields['wikiformat'];
	if(serverType && !config.adaptors[serverType])
		serverType = null;
	return serverType;
};

Tiddler.prototype.getAdaptor = function()
{
	var serverType = this.getServerType();
	if(serverType)
		return new config.adaptors[serverType];
	else
		return null;
};

//--
//-- TiddlyWiki() object contains Tiddler()s
//--

function TiddlyWiki()
{
	var tiddlers = {}; // Hashmap by name of tiddlers
	this.tiddlersUpdated = false;
	this.namedNotifications = []; // Array of {name:,notify:} of notification functions
	this.notificationLevel = 0;
	this.slices = {}; // map tiddlerName->(map sliceName->sliceValue). Lazy.
	this.clear = function() {
		tiddlers = {};
		this.setDirty(false);
	};
	this.fetchTiddler = function(title) {
		return tiddlers[title];
	};
	this.deleteTiddler = function(title) {
		delete this.slices[title];
		delete tiddlers[title];
	};
	this.addTiddler = function(tiddler) {
		delete this.slices[tiddler.title];
		tiddlers[tiddler.title] = tiddler;
	};
	this.forEachTiddler = function(callback) {
		for(var t in tiddlers) {
			var tiddler = tiddlers[t];
			if(tiddler instanceof Tiddler)
				callback.call(this,t,tiddler);
		}
	};
}

TiddlyWiki.prototype.setDirty = function(dirty)
{
	this.dirty = dirty;
};

TiddlyWiki.prototype.isDirty = function()
{
	return this.dirty;
};

TiddlyWiki.prototype.suspendNotifications = function()
{
	this.notificationLevel--;
};

TiddlyWiki.prototype.resumeNotifications = function()
{
	this.notificationLevel++;
};

// Invoke the notification handlers for a particular tiddler
TiddlyWiki.prototype.notify = function(title,doBlanket)
{
	if(!this.notificationLevel) {
		for(var t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if((n.name == null && doBlanket) || (n.name == title))
				n.notify(title);
		}
	}
};

// Invoke the notification handlers for all tiddlers
TiddlyWiki.prototype.notifyAll = function()
{
	if(!this.notificationLevel) {
		for(var t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if(n.name)
				n.notify(n.name);
		}
	}
};

// Add a notification handler to a tiddler
TiddlyWiki.prototype.addNotification = function(title,fn)
{
	for(var i=0; i<this.namedNotifications.length; i++) {
		if((this.namedNotifications[i].name == title) && (this.namedNotifications[i].notify == fn))
			return this;
	}
	this.namedNotifications.push({name: title, notify: fn});
	return this;
};

TiddlyWiki.prototype.removeTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		this.deleteTiddler(title);
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.tiddlerExists = function(title)
{
	var t = this.fetchTiddler(title);
	return t != undefined;
};

TiddlyWiki.prototype.isShadowTiddler = function(title)
{
	return typeof config.shadowTiddlers[title] == "string";
};

TiddlyWiki.prototype.getTiddler = function(title)
{
	var t = this.fetchTiddler(title);
	if(t != undefined)
		return t;
	else
		return null;
};

TiddlyWiki.prototype.getTiddlerText = function(title,defaultText)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		return tiddler.text;
	if(!title)
		return defaultText;
	var pos = title.indexOf(config.textPrimitives.sliceSeparator);
	if(pos != -1) {
		var slice = this.getTiddlerSlice(title.substr(0,pos),title.substr(pos + config.textPrimitives.sliceSeparator.length));
		if(slice)
			return slice;
	}
	if(this.isShadowTiddler(title))
		return config.shadowTiddlers[title];
	if(defaultText != undefined)
		return defaultText;
	return null;
};

TiddlyWiki.prototype.slicesRE = /(?:[\'\/]*~?([\.\w]+)[\'\/]*\:[\'\/]*\s*(.*?)\s*$)|(?:\|[\'\/]*~?([\.\w]+)\:?[\'\/]*\|\s*(.*?)\s*\|)/gm;

// @internal
TiddlyWiki.prototype.calcAllSlices = function(title)
{
	var slices = {};
	var text = this.getTiddlerText(title,"");
	this.slicesRE.lastIndex = 0;
	do {
		var m = this.slicesRE.exec(text);
		if(m) {
			if(m[1])
				slices[m[1]] = m[2];
			else
				slices[m[3]] = m[4];
		}
	} while(m);
	return slices;
};

// Returns the slice of text of the given name
TiddlyWiki.prototype.getTiddlerSlice = function(title,sliceName)
{
	var slices = this.slices[title];
	if(!slices) {
		slices = this.calcAllSlices(title);
		this.slices[title] = slices;
	}
	return slices[sliceName];
};

// Build an hashmap of the specified named slices of a tiddler
TiddlyWiki.prototype.getTiddlerSlices = function(title,sliceNames)
{
	var r = {};
	for(var t=0; t<sliceNames.length; t++) {
		var slice = this.getTiddlerSlice(title,sliceNames[t]);
		if(slice)
			r[sliceNames[t]] = slice;
	}
	return r;
};

TiddlyWiki.prototype.getRecursiveTiddlerText = function(title,defaultText,depth)
{
	var bracketRegExp = new RegExp("(?:\\[\\[([^\\]]+)\\]\\])","mg");
	var text = this.getTiddlerText(title,null);
	if(text == null)
		return defaultText;
	var textOut = [];
	var lastPos = 0;
	do {
		var match = bracketRegExp.exec(text);
		if(match) {
			textOut.push(text.substr(lastPos,match.index-lastPos));
			if(match[1]) {
				if(depth <= 0)
					textOut.push(match[1]);
				else
					textOut.push(this.getRecursiveTiddlerText(match[1],"[[" + match[1] + "]]",depth-1));
			}
			lastPos = match.index + match[0].length;
		} else {
			textOut.push(text.substr(lastPos));
		}
	} while(match);
	return textOut.join("");
};

TiddlyWiki.prototype.setTiddlerTag = function(title,status,tag)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		var t = tiddler.tags.indexOf(tag);
		if(t != -1)
			tiddler.tags.splice(t,1);
		if(status)
			tiddler.tags.push(tag);
		tiddler.changed();
		this.incChangeCount(title);
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.addTiddlerFields = function(title,fields)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler)
		return;
	merge(tiddler.fields,fields);
	tiddler.changed();
	this.incChangeCount(title);
	this.notify(title,true);
	this.setDirty(true);
};

TiddlyWiki.prototype.saveTiddler = function(title,newTitle,newBody,modifier,modified,tags,fields,clearChangeCount,created)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		created = created ? created : tiddler.created; // Preserve created date
		this.deleteTiddler(title);
	} else {
		created = created ? created : modified;
		tiddler = new Tiddler();
	}
	tiddler.set(newTitle,newBody,modifier,modified,tags,created,fields);
	this.addTiddler(tiddler);
	if(clearChangeCount)
		tiddler.clearChangeCount();
	else
		tiddler.incChangeCount();
	if(title != newTitle)
		this.notify(title,true);
	this.notify(newTitle,true);
	this.setDirty(true);
	return tiddler;
};

// Reset the sync status of a freshly synced tiddler
TiddlyWiki.prototype.resetTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		tiddler.clearChangeCount();
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.incChangeCount = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		tiddler.incChangeCount();
};

TiddlyWiki.prototype.createTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler) {
		tiddler = new Tiddler();
		tiddler.title = title;
		this.addTiddler(tiddler);
		this.setDirty(true);
	}
	return tiddler;
};

// Load contents of a TiddlyWiki from an HTML DIV
TiddlyWiki.prototype.loadFromDiv = function(src,idPrefix,noUpdate)
{
	this.idPrefix = idPrefix;
	var storeElem = (typeof src == "string") ? document.getElementById(src) : src;
	if(!storeElem)
		return;
	var tiddlers = this.getLoader().loadTiddlers(this,storeElem.childNodes);
	this.setDirty(false);
	if(!noUpdate) {
		for(var i = 0;i<tiddlers.length; i++)
			tiddlers[i].changed();
	}
};

// Load contents of a TiddlyWiki from a string
// Returns null if there's an error
TiddlyWiki.prototype.importTiddlyWiki = function(text)
{
	var posDiv = locateStoreArea(text);
	if(!posDiv)
		return null;
	var content = "<" + "html><" + "body>" + text.substring(posDiv[0],posDiv[1] + endSaveArea.length) + "<" + "/body><" + "/html>";
	// Create the iframe
	var iframe = document.createElement("iframe");
	iframe.style.display = "none";
	document.body.appendChild(iframe);
	var doc = iframe.document;
	if(iframe.contentDocument)
		doc = iframe.contentDocument; // For NS6
	else if(iframe.contentWindow)
		doc = iframe.contentWindow.document; // For IE5.5 and IE6
	// Put the content in the iframe
	doc.open();
	doc.writeln(content);
	doc.close();
	// Load the content into a TiddlyWiki() object
	var storeArea = doc.getElementById("storeArea");
	this.loadFromDiv(storeArea,"store");
	// Get rid of the iframe
	iframe.parentNode.removeChild(iframe);
	return this;
};

TiddlyWiki.prototype.updateTiddlers = function()
{
	this.tiddlersUpdated = true;
	this.forEachTiddler(function(title,tiddler) {
		tiddler.changed();
	});
};

// Return all tiddlers formatted as an HTML string
TiddlyWiki.prototype.allTiddlersAsHtml = function()
{
	return store.getSaver().externalize(store);
};

// Return an array of tiddlers matching a search regular expression
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag)
{
	var candidates = this.reverseLookup("tags",excludeTag,false);
	var results = [];
	for(var t=0; t<candidates.length; t++) {
		if((candidates[t].title.search(searchRegExp) != -1) || (candidates[t].text.search(searchRegExp) != -1))
			results.push(candidates[t]);
	}
	if(!sortField)
		sortField = "title";
	results.sort(function(a,b) {return a[sortField] < b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);});
	return results;
};

// Returns a list of all tags in use
//   excludeTag - if present, excludes tags that are themselves tagged with excludeTag
// Returns an array of arrays where [tag][0] is the name of the tag and [tag][1] is the number of occurances
TiddlyWiki.prototype.getTags = function(excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		for(var g=0; g<tiddler.tags.length; g++) {
			var tag = tiddler.tags[g];
			var n = true;
			for(var c=0; c<results.length; c++) {
				if(results[c][0] == tag) {
					n = false;
					results[c][1]++;
				}
			}
			if(n && excludeTag) {
				var t = store.fetchTiddler(tag);
				if(t && t.isTagged(excludeTag))
					n = false;
			}
			if(n)
				results.push([tag,1]);
		}
	});
	results.sort(function(a,b) {return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : (a[0].toLowerCase() == b[0].toLowerCase() ? 0 : +1);});
	return results;
};

// Return an array of the tiddlers that are tagged with a given tag
TiddlyWiki.prototype.getTaggedTiddlers = function(tag,sortField)
{
	return this.reverseLookup("tags",tag,true,sortField);
};

// Return an array of the tiddlers that link to a given tiddler
TiddlyWiki.prototype.getReferringTiddlers = function(title,unusedParameter,sortField)
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	return this.reverseLookup("links",title,true,sortField);
};

// Return an array of the tiddlers that do or do not have a specified entry in the specified storage array (ie, "links" or "tags")
// lookupMatch == true to match tiddlers, false to exclude tiddlers
TiddlyWiki.prototype.reverseLookup = function(lookupField,lookupValue,lookupMatch,sortField)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		var f = !lookupMatch;
		for(var lookup=0; lookup<tiddler[lookupField].length; lookup++) {
			if(tiddler[lookupField][lookup] == lookupValue)
				f = lookupMatch;
		}
		if(f)
			results.push(tiddler);
	});
	if(!sortField)
		sortField = "title";
	results.sort(function(a,b) {return a[sortField] < b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);});
	return results;
};

// Return the tiddlers as a sorted array
TiddlyWiki.prototype.getTiddlers = function(field,excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(excludeTag == undefined || !tiddler.isTagged(excludeTag))
			results.push(tiddler);
	});
	if(field)
		results.sort(function(a,b) {return a[field] < b[field] ? -1 : (a[field] == b[field] ? 0 : +1);});
	return results;
};

// Return array of names of tiddlers that are referred to but not defined
TiddlyWiki.prototype.getMissingLinks = function(sortField)
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(tiddler.isTagged("excludeMissing") || tiddler.isTagged("systemConfig"))
			return;
		for(var n=0; n<tiddler.links.length;n++) {
			var link = tiddler.links[n];
			if(this.fetchTiddler(link) == null && !this.isShadowTiddler(link))
				results.pushUnique(link);
		}
	});
	results.sort();
	return results;
};

// Return an array of names of tiddlers that are defined but not referred to
TiddlyWiki.prototype.getOrphans = function()
{
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(this.getReferringTiddlers(title).length == 0 && !tiddler.isTagged("excludeLists"))
			results.push(title);
	});
	results.sort();
	return results;
};

// Return an array of names of all the shadow tiddlers
TiddlyWiki.prototype.getShadowed = function()
{
	var results = [];
	for(var t in config.shadowTiddlers) {
		if(typeof config.shadowTiddlers[t] == "string")
			results.push(t);
	}
	results.sort();
	return results;
};

// Return an array of tiddlers that have been touched since they were downloaded or created
TiddlyWiki.prototype.getTouched = function()
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(tiddler.isTouched())
			results.push(tiddler);
		});
	results.sort();
	return results;
};

// Resolves a Tiddler reference or tiddler title into a Tiddler object, or null if it doesn't exist
TiddlyWiki.prototype.resolveTiddler = function(tiddler)
{
	var t = (typeof tiddler == 'string') ? this.getTiddler(tiddler) : tiddler;
	return t instanceof Tiddler ? t : null;
};

TiddlyWiki.prototype.getLoader = function()
{
	if(!this.loader)
		this.loader = new TW21Loader();
	return this.loader;
};

TiddlyWiki.prototype.getSaver = function()
{
	if(!this.saver)
		this.saver = new TW21Saver();
	return this.saver;
};

// Returns true if path is a valid field name (path),
// i.e. a sequence of identifiers, separated by '.'
TiddlyWiki.isValidFieldName = function(name)
{
	var match = /[a-zA-Z_]\w*(\.[a-zA-Z_]\w*)*/.exec(name);
	return match && (match[0] == name);
};

// Throws an exception when name is not a valid field name.
TiddlyWiki.checkFieldName = function(name)
{
	if(!TiddlyWiki.isValidFieldName(name))
		throw config.messages.invalidFieldName.format([name]);
};

function StringFieldAccess(n,readOnly)
{
	this.set = readOnly ?
			function(t,v) {if(v != t[n]) throw config.messages.fieldCannotBeChanged.format([n]);} :
			function(t,v) {if(v != t[n]) {t[n] = v; return true;}};
	this.get = function(t) {return t[n];};
}

function DateFieldAccess(n)
{
	this.set = function(t,v) {
		var d = v instanceof Date ? v : Date.convertFromYYYYMMDDHHMM(v);
		if(d != t[n]) {
			t[n] = d; return true;
		}
	};
	this.get = function(t) {return t[n].convertToYYYYMMDDHHMM();};
}

function LinksFieldAccess(n)
{
	this.set = function(t,v) {
		var s = (typeof v == "string") ? v.readBracketedList() : v;
		if(s.toString() != t[n].toString()) {
			t[n] = s; return true;
		}
	};
	this.get = function(t) {return String.encodeTiddlyLinkList(t[n]);};
}

TiddlyWiki.standardFieldAccess = {
	// The set functions return true when setting the data has changed the value.
	"title":    new StringFieldAccess("title",true),
	// Handle the "tiddler" field name as the title
	"tiddler":  new StringFieldAccess("title",true),
	"text":     new StringFieldAccess("text"),
	"modifier": new StringFieldAccess("modifier"),
	"modified": new DateFieldAccess("modified"),
	"created":  new DateFieldAccess("created"),
	"tags":     new LinksFieldAccess("tags")
};

TiddlyWiki.isStandardField = function(name)
{
	return TiddlyWiki.standardFieldAccess[name] != undefined;
};

// Sets the value of the given field of the tiddler to the value.
// Setting an ExtendedField's value to null or undefined removes the field.
// Setting a namespace to undefined removes all fields of that namespace.
// The fieldName is case-insensitive.
// All values will be converted to a string value.
TiddlyWiki.prototype.setValue = function(tiddler,fieldName,value)
{
	TiddlyWiki.checkFieldName(fieldName);
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return;
	fieldName = fieldName.toLowerCase();
	var isRemove = (value === undefined) || (value === null);
	var accessor = TiddlyWiki.standardFieldAccess[fieldName];
	if(accessor) {
		if(isRemove)
			// don't remove StandardFields
			return;
		var h = TiddlyWiki.standardFieldAccess[fieldName];
		if(!h.set(t,value))
			return;
	} else {
		var oldValue = t.fields[fieldName];
		if(isRemove) {
			if(oldValue !== undefined) {
				// deletes a single field
				delete t.fields[fieldName];
			} else {
				// no concrete value is defined for the fieldName
				// so we guess this is a namespace path.
				// delete all fields in a namespace
				var re = new RegExp('^'+fieldName+'\\.');
				var dirty = false;
				for(var n in t.fields) {
					if(n.match(re)) {
						delete t.fields[n];
						dirty = true;
					}
				}
				if(!dirty)
					return;
			}
		} else {
			// the "normal" set case. value is defined (not null/undefined)
			// For convenience provide a nicer conversion Date->String
			value = value instanceof Date ? value.convertToYYYYMMDDHHMMSSMMM() : String(value);
			if(oldValue == value)
				return;
			t.fields[fieldName] = value;
		}
	}
	// When we are here the tiddler/store really was changed.
	this.notify(t.title,true);
	if(!fieldName.match(/^temp\./))
		this.setDirty(true);
};

// Returns the value of the given field of the tiddler.
// The fieldName is case-insensitive.
// Will only return String values (or undefined).
TiddlyWiki.prototype.getValue = function(tiddler,fieldName)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	fieldName = fieldName.toLowerCase();
	var accessor = TiddlyWiki.standardFieldAccess[fieldName];
	if(accessor) {
		return accessor.get(t);
	}
	return t.fields[fieldName];
};

// Calls the callback function for every field in the tiddler.
// When callback function returns a non-false value the iteration stops
// and that value is returned.
// The order of the fields is not defined.
// @param callback a function(tiddler,fieldName,value).
TiddlyWiki.prototype.forEachField = function(tiddler,callback,onlyExtendedFields)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	var n,result;
	for(n in t.fields) {
		result = callback(t,n,t.fields[n]);
		if(result)
			return result;
		}
	if(onlyExtendedFields)
		return undefined;
	for(n in TiddlyWiki.standardFieldAccess) {
		if(n == "tiddler")
			// even though the "title" field can also be referenced through the name "tiddler"
			// we only visit this field once.
			continue;
		result = callback(t,n,TiddlyWiki.standardFieldAccess[n].get(t));
		if(result)
			return result;
	}
	return undefined;
};

//--
//-- Story functions
//--

function Story(container,idPrefix)
{
	this.container = container;
	this.idPrefix = idPrefix;
	this.highlightRegExp = null;
}

Story.prototype.forEachTiddler = function(fn)
{
	var place = document.getElementById(this.container);
	if(!place)
		return;
	var e = place.firstChild;
	while(e) {
		var n = e.nextSibling;
		var title = e.getAttribute("tiddler");
		fn.call(this,title,e);
		e = n;
	}
};

Story.prototype.displayTiddlers = function(srcElement,titles,template,animate,unused,customFields,toggle)
{
	for(var t = titles.length-1;t>=0;t--)
		this.displayTiddler(srcElement,titles[t],template,animate,unused,customFields);
};

Story.prototype.displayTiddler = function(srcElement,title,template,animate,unused,customFields,toggle)
{
	var place = document.getElementById(this.container);
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem) {
		if(toggle)
			this.closeTiddler(title,true);
		else
			this.refreshTiddler(title,template,false,customFields);
	} else {
		var before = this.positionTiddler(srcElement);
		tiddlerElem = this.createTiddler(place,before,title,template,customFields);
	}
	if(srcElement && typeof srcElement !== "string") {
		if(config.options.chkAnimate && (animate == undefined || animate == true) && anim && typeof Zoomer == "function" && typeof Scroller == "function")
			anim.startAnimating(new Zoomer(title,srcElement,tiddlerElem),new Scroller(tiddlerElem));
		else
			window.scrollTo(0,ensureVisible(tiddlerElem));
	}
};

Story.prototype.positionTiddler = function(srcElement)
{
	var place = document.getElementById(this.container);
	var before = null;
	if(typeof srcElement == "string") {
		switch(srcElement) {
			case "top":
				before = place.firstChild;
				break;
			case "bottom":
				before = null;
				break;
		}
	} else {
		var after = this.findContainingTiddler(srcElement);
		if(after == null) {
			before = place.firstChild;
		} else if(after.nextSibling) {
			before = after.nextSibling;
			if(before.nodeType != 1)
				before = null;
		}
	}
	return before;
};

Story.prototype.createTiddler = function(place,before,title,template,customFields)
{
	var tiddlerElem = createTiddlyElement(null,"div",this.idPrefix + title,"tiddler");
	tiddlerElem.setAttribute("refresh","tiddler");
	if(customFields)
		tiddlerElem.setAttribute("tiddlyFields",customFields);
	place.insertBefore(tiddlerElem,before);
	var defaultText = null;
	if(!store.tiddlerExists(title) && !store.isShadowTiddler(title))
		defaultText = this.loadMissingTiddler(title,customFields,tiddlerElem);
	this.refreshTiddler(title,template,false,customFields,defaultText);
	return tiddlerElem;
};

Story.prototype.loadMissingTiddler = function(title,fields,tiddlerElem)
{
	var tiddler = new Tiddler(title);
	tiddler.fields = typeof fields == "string" ?  fields.decodeHashMap() : (fields ? fields : {});
	var serverType = tiddler.getServerType();
	var host = tiddler.fields['server.host'];
	var workspace = tiddler.fields['server.workspace'];
	if(!serverType | !host)
		return null;
	var sm = new SyncMachine(serverType,{
			start: function() {
				return this.openHost(host,"openWorkspace");
			},
			openWorkspace: function() {
				return this.openWorkspace(workspace,"getTiddler");
			},
			getTiddler: function() {
				return this.getTiddler(title,"gotTiddler");
			},
			gotTiddler: function(tiddler) {
				if(tiddler && tiddler.text) {
					var downloaded = new Date();
					if(!tiddler.created)
						tiddler.created = downloaded;
					if(!tiddler.modified)
						tiddler.modified = tiddler.created;
					store.saveTiddler(tiddler.title,tiddler.title,tiddler.text,tiddler.modifier,tiddler.modified,tiddler.tags,tiddler.fields,true,tiddler.created);
					autoSaveChanges();
				}
				delete this;
				return true;
			},
			error: function(message) {
				displayMessage("Error loading missing tiddler from %0: %1".format([host,message]));
			}
		});
	sm.go();
	return config.messages.loadingMissingTiddler.format([title,serverType,host,workspace]);
};

Story.prototype.chooseTemplateForTiddler = function(title,template)
{
	if(!template)
		template = DEFAULT_VIEW_TEMPLATE;
	if(template == DEFAULT_VIEW_TEMPLATE || template == DEFAULT_EDIT_TEMPLATE)
		template = config.tiddlerTemplates[template];
	return template;
};

Story.prototype.getTemplateForTiddler = function(title,template,tiddler)
{
	return store.getRecursiveTiddlerText(template,null,10);
};

Story.prototype.refreshTiddler = function(title,template,force,customFields,defaultText)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem) {
		if(tiddlerElem.getAttribute("dirty") == "true" && !force)
			return tiddlerElem;
		template = this.chooseTemplateForTiddler(title,template);
		var currTemplate = tiddlerElem.getAttribute("template");
		if((template != currTemplate) || force) {
			var tiddler = store.getTiddler(title);
			if(tiddler) {
				var f = tiddler.fields;
				if(customFields)
					f = merge(customFields.decodeHashMap(),f);
				customFields = String.encodeHashMap(f);
			} else {
				tiddler = new Tiddler();
				if(store.isShadowTiddler(title)) {
					tiddler.set(title,store.getTiddlerText(title),config.views.wikified.shadowModifier,version.date,[],version.date);
				} else {
					var text = template=="EditTemplate" ?
								config.views.editor.defaultText.format([title]) :
								config.views.wikified.defaultText.format([title]);
					text = defaultText ? defaultText : text;
					var fields = customFields ? customFields.decodeHashMap() : null;
					tiddler.set(title,text,config.views.wikified.defaultModifier,version.date,[],version.date,fields);
				}
			}
			tiddlerElem.setAttribute("tags",tiddler.tags.join(" "));
			tiddlerElem.setAttribute("tiddler",title);
			tiddlerElem.setAttribute("template",template);
			var me = this;
			tiddlerElem.onmouseover = this.onTiddlerMouseOver;
			tiddlerElem.onmouseout = this.onTiddlerMouseOut;
			tiddlerElem.ondblclick = this.onTiddlerDblClick;
			tiddlerElem[window.event?"onkeydown":"onkeypress"] = this.onTiddlerKeyPress;
			var html = this.getTemplateForTiddler(title,template,tiddler);
			tiddlerElem.innerHTML = html;
			applyHtmlMacros(tiddlerElem,tiddler);
			if(store.getTaggedTiddlers(title).length > 0)
				addClass(tiddlerElem,"isTag");
			else
				removeClass(tiddlerElem,"isTag");
			if(!store.tiddlerExists(title)) {
				if(store.isShadowTiddler(title))
					addClass(tiddlerElem,"shadow");
				else
					addClass(tiddlerElem,"missing");
			} else {
				removeClass(tiddlerElem,"shadow");
				removeClass(tiddlerElem,"missing");
			}
			if(customFields)
				this.addCustomFields(tiddlerElem,customFields);
			forceReflow();
		}
	}
	return tiddlerElem;
};

Story.prototype.addCustomFields = function(place,customFields)
{
	var fields = customFields.decodeHashMap();
	var w = document.createElement("div");
	w.style.display = "none";
	place.appendChild(w);
	for(var t in fields) {
		var e = document.createElement("input");
		e.setAttribute("type","text");
		e.setAttribute("value",fields[t]);
		w.appendChild(e);
		e.setAttribute("edit",t);
	}
};

Story.prototype.refreshAllTiddlers = function()
{
	var place = document.getElementById(this.container);
	var e = place.firstChild;
	if(!e)
		return;
	this.refreshTiddler(e.getAttribute("tiddler"),e.getAttribute("template"),true);
	while((e = e.nextSibling) != null)
		this.refreshTiddler(e.getAttribute("tiddler"),e.getAttribute("template"),true);
};

Story.prototype.onTiddlerMouseOver = function(e)
{
	if(window.addClass instanceof Function)
		addClass(this,"selected");
};

Story.prototype.onTiddlerMouseOut = function(e)
{
	if(window.removeClass instanceof Function)
		removeClass(this,"selected");
};

Story.prototype.onTiddlerDblClick = function(ev)
{
	var e = ev ? ev : window.event;
	var theTarget = resolveTarget(e);
	if(theTarget && theTarget.nodeName.toLowerCase() != "input" && theTarget.nodeName.toLowerCase() != "textarea") {
		if(document.selection && document.selection.empty)
			document.selection.empty();
		config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
		e.cancelBubble = true;
		if(e.stopPropagation) e.stopPropagation();
		return true;
	} else {
		return false;
	}
};

Story.prototype.onTiddlerKeyPress = function(ev)
{
	var e = ev ? ev : window.event;
	clearMessage();
	var consume = false;
	var title = this.getAttribute("tiddler");
	var target = resolveTarget(e);
	switch(e.keyCode) {
		case 9: // Tab
			if(config.options.chkInsertTabs && target.tagName.toLowerCase() == "textarea") {
				replaceSelection(target,String.fromCharCode(9));
				consume = true;
			}
			if(config.isOpera) {
				target.onblur = function() {
					this.focus();
					this.onblur = null;
				};
			}
			break;
		case 13: // Ctrl-Enter
		case 10: // Ctrl-Enter on IE PC
		case 77: // Ctrl-Enter is "M" on some platforms
			if(e.ctrlKey) {
				blurElement(this);
				config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
				consume = true;
			}
			break;
		case 27: // Escape
			blurElement(this);
			config.macros.toolbar.invokeCommand(this,"cancelCommand",e);
			consume = true;
			break;
	}
	e.cancelBubble = consume;
	if(consume) {
		if(e.stopPropagation) e.stopPropagation(); // Stop Propagation
		e.returnValue = true; // Cancel The Event in IE
		if(e.preventDefault ) e.preventDefault(); // Cancel The Event in Moz
	}
	return !consume;
};

Story.prototype.getTiddlerField = function(title,field)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	var e = null;
	if(tiddlerElem != null) {
		var children = tiddlerElem.getElementsByTagName("*");
		for(var t=0; t<children.length; t++) {
			var c = children[t];
			if(c.tagName.toLowerCase() == "input" || c.tagName.toLowerCase() == "textarea") {
				if(!e)
					e = c;
				if(c.getAttribute("edit") == field)
					e = c;
			}
		}
	}
	return e;
};

Story.prototype.focusTiddler = function(title,field)
{
	var e = this.getTiddlerField(title,field);
	if(e) {
		e.focus();
		e.select();
	}
};

Story.prototype.blurTiddler = function(title)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null && tiddlerElem.focus && tiddlerElem.blur) {
		tiddlerElem.focus();
		tiddlerElem.blur();
	}
};

Story.prototype.setTiddlerField = function(title,tag,mode,field)
{
	var c = story.getTiddlerField(title,field);

	var tags = c.value.readBracketedList();
	tags.setItem(tag,mode);
	c.value = String.encodeTiddlyLinkList(tags);
};

Story.prototype.setTiddlerTag = function(title,tag,mode)
{
	Story.prototype.setTiddlerField(title,tag,mode,"tags");
};

Story.prototype.closeTiddler = function(title,animate,unused)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null) {
		clearMessage();
		this.scrubTiddler(tiddlerElem);
		if(config.options.chkAnimate && animate && anim && typeof Slider == "function")
			anim.startAnimating(new Slider(tiddlerElem,false,null,"all"));
		else {
			removeNode(tiddlerElem);
			forceReflow();
		}
	}
};

Story.prototype.scrubTiddler = function(tiddlerElem)
{
	tiddlerElem.id = null;
};

Story.prototype.setDirty = function(title,dirty)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null)
		tiddlerElem.setAttribute("dirty",dirty ? "true" : "false");
};

Story.prototype.isDirty = function(title)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null)
		return tiddlerElem.getAttribute("dirty") == "true";
	return null;
};

Story.prototype.areAnyDirty = function()
{
	var r = false;
	this.forEachTiddler(function(title,element) {
		if(this.isDirty(title))
			r = true;
	});
	return r;
};

Story.prototype.closeAllTiddlers = function(exclude)
{
	clearMessage();
	this.forEachTiddler(function(title,element) {
		if((title != exclude) && element.getAttribute("dirty") != "true")
			this.closeTiddler(title);
	});
	window.scrollTo(0,ensureVisible(this.container));
};

Story.prototype.isEmpty = function()
{
	var place = document.getElementById(this.container);
	return place && place.firstChild == null;
};

Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	this.closeAllTiddlers();
	highlightHack = new RegExp(useRegExp ?	 text : text.escapeRegExp(),useCaseSensitive ? "mg" : "img");
	var matches = store.search(highlightHack,"title","excludeSearch");
	var titles = [];
	for(var t=0;t<matches.length;t++)
		titles.push(matches[t].title);
	this.displayTiddlers(null,titles);
	highlightHack = null;
	var q = useRegExp ? "/" : "'";
	if(matches.length > 0)
		displayMessage(config.macros.search.successMsg.format([titles.length.toString(),q + text + q]));
	else
		displayMessage(config.macros.search.failureMsg.format([q + text + q]));
};

Story.prototype.findContainingTiddler = function(e)
{
	while(e && !hasClass(e,"tiddler"))
		e = e.parentNode;
	return e;
};

Story.prototype.gatherSaveFields = function(e,fields)
{
	if(e && e.getAttribute) {
		var f = e.getAttribute("edit");
		if(f)
			fields[f] = e.value.replace(/\r/mg,"");
		if(e.hasChildNodes()) {
			var c = e.childNodes;
			for(var t=0; t<c.length; t++)
				this.gatherSaveFields(c[t],fields);
		}
	}
};

Story.prototype.hasChanges = function(title)
{
	var e = document.getElementById(this.idPrefix + title);
	if(e != null) {
		var fields = {};
		this.gatherSaveFields(e,fields);
		var tiddler = store.fetchTiddler(title);
		if(!tiddler)
			return false;
		for(var n in fields) {
			if(store.getValue(title,n) != fields[n])
				return true;
		}
	}
	return false;
};

Story.prototype.saveTiddler = function(title,minorUpdate)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null) {
		var fields = {};
		this.gatherSaveFields(tiddlerElem,fields);
		var newTitle = fields.title ? fields.title : title;
		if(store.tiddlerExists(newTitle) && newTitle != title) {
			if(!confirm(config.messages.overwriteWarning.format([newTitle.toString()])))
				return null;
		}
		if(newTitle != title)
			this.closeTiddler(newTitle,false);
		tiddlerElem.id = this.idPrefix + newTitle;
		tiddlerElem.setAttribute("tiddler",newTitle);
		tiddlerElem.setAttribute("template",DEFAULT_VIEW_TEMPLATE);
		tiddlerElem.setAttribute("dirty","false");
		if(config.options.chkForceMinorUpdate)
			minorUpdate = !minorUpdate;
		if(!store.tiddlerExists(newTitle))
			minorUpdate = false;
		var newDate = new Date();
		var extendedFields = store.tiddlerExists(newTitle) ? store.fetchTiddler(newTitle).fields : (newTitle!=title && store.tiddlerExists(title) ? store.fetchTiddler(title).fields : {});
		for(var n in fields) {
			if(!TiddlyWiki.isStandardField(n))
				extendedFields[n] = fields[n];
		}
		var tiddler = store.saveTiddler(title,newTitle,fields.text,minorUpdate ? undefined : config.options.txtUserName,minorUpdate ? undefined : newDate,fields.tags,extendedFields);
		autoSaveChanges(null,[tiddler]);
		return newTitle;
	}
	return null;
};

Story.prototype.permaView = function()
{
	var links = [];
	this.forEachTiddler(function(title,element) {
		links.push(String.encodeTiddlyLink(title));
	});
	var t = encodeURIComponent(links.join(" "));
	if(t == "")
		t = "#";
	if(window.location.hash != t)
		window.location.hash = t;
};

//--
//-- Backstage
//--

var backstage = {
	area: null,
	toolbar: null,
	button: null,
	showButton: null,
	hideButton: null,
	cloak: null,
	panel: null,
	panelBody: null,
	panelFooter: null,
	currTabName: null,
	currTabElem: null,
	content: null,

	init: function() {
		var cmb = config.messages.backstage;
		this.area = document.getElementById("backstageArea");
		this.toolbar = document.getElementById("backstageToolbar");
		this.button = document.getElementById("backstageButton");
		this.button.style.display = "block";
		var t = cmb.open.text + " " + glyph("bentArrowLeft");
		this.showButton = createTiddlyButton(this.button,t,cmb.open.tooltip,
						function (e) {backstage.show(); return false;},null,"backstageShow");
		t = glyph("bentArrowRight") + " " + cmb.close.text;
		this.hideButton = createTiddlyButton(this.button,t,cmb.close.tooltip,
						function (e) {backstage.hide(); return false;},null,"backstageHide");
		this.cloak = document.getElementById("backstageCloak");
		this.panel = document.getElementById("backstagePanel");
		this.panelFooter = createTiddlyElement(this.panel,"div",null,"backstagePanelFooter");
		this.panelBody = createTiddlyElement(this.panel,"div",null,"backstagePanelBody");
		this.cloak.onmousedown = function(e) {
			backstage.switchTab(null);
		};
		createTiddlyText(this.toolbar,cmb.prompt);
		for(t=0; t<config.backstageTasks.length; t++) {
			var taskName = config.backstageTasks[t];
			var task = config.tasks[taskName];
			var handler = task.action ? this.onClickCommand : this.onClickTab;
			var text = task.text + (task.action ? "" : glyph("downTriangle"));
			var btn = createTiddlyButton(this.toolbar,text,task.tooltip,handler,"backstageTab");
			btn.setAttribute("task",taskName);
			addClass(btn,task.action ? "backstageAction" : "backstageTask");
			}
		this.content = document.getElementById("contentWrapper");
		if(config.options.chkBackstage)
			this.show();
		else
			this.hide();
	},

	isVisible: function () {
		return this.area ? this.area.style.display == "block" : false;
	},

	show: function() {
		this.area.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.toolbar.style.left = findWindowWidth() + "px";
			var p = [
				{style: "left", start: findWindowWidth(), end: 0, template: "%0px"}
			];
			anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p));
		} else {
			backstage.area.style.left = "0px";
		}
		this.showButton.style.display = "none";
		this.hideButton.style.display = "block";
		config.options.chkBackstage = true;
		saveOptionCookie("chkBackstage");
		addClass(this.content,"backstageVisible");
	},

	hide: function() {
		if(this.currTabElem) {
			this.switchTab(null);
		} else {
			backstage.toolbar.style.left = "0px";
			if(anim && config.options.chkAnimate) {
				var p = [
					{style: "left", start: 0, end: findWindowWidth(), template: "%0px"}
				];
				var c = function(element,properties) {backstage.area.style.display = "none";};
				anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p,c));
			} else {
				this.area.style.display = "none";
			}
			this.showButton.style.display = "block";
			this.hideButton.style.display = "none";
			config.options.chkBackstage = false;
			saveOptionCookie("chkBackstage");
			removeClass(this.content,"backstageVisible");
		}
	},

	onClickCommand: function(e) {
		var task = config.tasks[this.getAttribute("task")];
		displayMessage(task);
		if(task.action) {
			backstage.switchTab(null);
			task.action();
		}
		return false;
	},

	onClickTab: function(e) {
		backstage.switchTab(this.getAttribute("task"));
		return false;
	},

	// Switch to a given tab, or none if null is passed
	switchTab: function(tabName) {
		var tabElem = null;
		var e = this.toolbar.firstChild;
		while(e)
			{
			if(e.getAttribute && e.getAttribute("task") == tabName)
				tabElem = e;
			e = e.nextSibling;
			}
		if(tabName == backstage.currTabName)
			return;
		if(backstage.currTabElem) {
			removeClass(this.currTabElem,"backstageSelTab");
		}
		if(tabElem && tabName) {
			backstage.preparePanel();
			addClass(tabElem,"backstageSelTab");
			var task = config.tasks[tabName];
			wikify(task.content,backstage.panelBody,null,null);
			backstage.showPanel();
		} else if(backstage.currTabElem) {
			backstage.hidePanel();
		}
		backstage.currTabName = tabName;
		backstage.currTabElem = tabElem;
	},

	isPanelVisible: function() {
		return backstage.panel ? backstage.panel.style.display == "block" : false;
	},

	preparePanel: function() {
		backstage.cloak.style.height = findWindowHeight() + "px";
		backstage.cloak.style.display = "block";
		removeChildren(backstage.panelBody);
		return backstage.panelBody;
	},

	showPanel: function() {
		backstage.panel.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.panel.style.top = (-backstage.panel.offsetHeight) + "px";
			var p = [
				{style: "top", start: -backstage.panel.offsetHeight, end: 0, template: "%0px"}
			];
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p),new Scroller(backstage.panel,false));
		} else {
			backstage.panel.style.top = "0px";
		}
		return backstage.panelBody;
	},

	hidePanel: function() {
		backstage.currTabName = null;
		backstage.currTabElem = null;
		if(anim && config.options.chkAnimate) {
			var p = [
				{style: "top", start: 0, end: -(backstage.panel.offsetHeight), template: "%0px"},
				{style: "display", atEnd: "none"}
			];
			var c = function(element,properties) {backstage.cloak.style.display = "none";};
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p,c));
		 } else {
			backstage.panel.style.display = "none";
			backstage.cloak.style.display = "none";
		}
	}
};

config.macros.backstage = {};

config.macros.backstage.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var backstageTask = config.tasks[params[0]];
	if(backstageTask)
		createTiddlyButton(place,backstageTask.text,backstageTask.tooltip,function(e) {backstage.switchTab(params[0]); return false;});
};

//--
//-- ImportTiddlers macro
//--

config.macros.importTiddlers.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(readOnly) {
		createTiddlyElement(place,"div",null,"marked",this.readOnlyWarning);
		return;
	}
	var w = new Wizard();
	w.createWizard(place,this.wizardTitle);
	this.restart(w);
};

config.macros.importTiddlers.onCancel = function(e)
{
	var wizard = new Wizard(this);
	var place = wizard.clear();
	config.macros.importTiddlers.restart(wizard);
	return false;
};

config.macros.importTiddlers.restart = function(wizard)
{
	wizard.addStep(this.step1Title,this.step1Html);
	var s = wizard.getElement("selTypes");
	for(var t in config.adaptors) {
		var e = createTiddlyElement(s,"option",null,null,t);
		e.value = t;
	}
	s = wizard.getElement("selFeeds");
	var feeds = this.getFeeds();
	for(t in feeds) {
		e = createTiddlyElement(s,"option",null,null,t);
		e.value = t;
	}
	wizard.setValue("feeds",feeds);
	s.onchange = config.macros.importTiddlers.onFeedChange;
	var fileInput = wizard.getElement("txtBrowse");
	fileInput.onchange = config.macros.importTiddlers.onBrowseChange;
	fileInput.onkeyup = config.macros.importTiddlers.onBrowseChange;
	wizard.setButtons([{caption: this.openLabel, tooltip: this.openPrompt, onClick: config.macros.importTiddlers.onOpen}]);
};

config.macros.importTiddlers.getFeeds = function()
{
	var feeds = {};
	var tagged = store.getTaggedTiddlers("systemServer","title");
	for(var t=0; t<tagged.length; t++) {
		var title = tagged[t].title;
		var serverType = store.getTiddlerSlice(title,"Type");
		if(!serverType)
			serverType = "file";
		feeds[title] = {title: title,
						url: store.getTiddlerSlice(title,"URL"),
						workspace: store.getTiddlerSlice(title,"Workspace"),
						workspaceList: store.getTiddlerSlice(title,"WorkspaceList"),
						tiddlerFilter: store.getTiddlerSlice(title,"TiddlerFilter"),
						serverType: serverType,
						description: store.getTiddlerSlice(title,"Description")};
	}
	return feeds;
};

config.macros.importTiddlers.onFeedChange = function(e)
{
	var wizard = new Wizard(this);
	var selTypes = wizard.getElement("selTypes");
	var fileInput = wizard.getElement("txtPath");
	var feeds = wizard.getValue("feeds");
	var f = feeds[this.value];
	if(f) {
		selTypes.value = f.serverType;
		fileInput.value = f.url;
		this.selectedIndex = 0;
		wizard.setValue("feedName",f.serverType);
		wizard.setValue("feedHost",f.url);
		wizard.setValue("feedWorkspace",f.workspace);
		wizard.setValue("feedWorkspaceList",f.workspaceList);
		wizard.setValue("feedTiddlerFilter",f.tiddlerFilter);
	}
	return false;
};

config.macros.importTiddlers.onBrowseChange = function(e)
{
	var wizard = new Wizard(this);
	var fileInput = wizard.getElement("txtPath");
	fileInput.value = "file://" + this.value;
	var serverType = wizard.getElement("selTypes");
	serverType.value = "file";
	return false;
};

config.macros.importTiddlers.onOpen = function(e)
{
	var wizard = new Wizard(this);
	var fileInput = wizard.getElement("txtPath");
	var url = fileInput.value;
	var serverType = wizard.getElement("selTypes").value;
	var adaptor = new config.adaptors[serverType];
	wizard.setValue("adaptor",adaptor);
	wizard.setValue("serverType",serverType);
	wizard.setValue("host",url);
	var context = {};
	var ret = adaptor.openHost(url,context,wizard,config.macros.importTiddlers.onOpenHost);
	if(ret !== true)
		displayMessage(ret);
	wizard.setButtons([{caption: config.macros.importTiddlers.cancelLabel, tooltip: config.macros.importTiddlers.cancelPrompt, onClick: config.macros.importTiddlers.onCancel}],config.macros.importTiddlers.statusOpenHost);
	return false;
};

config.macros.importTiddlers.onOpenHost = function(context,wizard)
{
	var adaptor = wizard.getValue("adaptor");
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenHost: " + context.statusText);
	var ret = adaptor.getWorkspaceList(context,wizard,config.macros.importTiddlers.onGetWorkspaceList);
	if(ret !== true)
		displayMessage(ret);
	wizard.setButtons([{caption: config.macros.importTiddlers.cancelLabel, tooltip: config.macros.importTiddlers.cancelPrompt, onClick: config.macros.importTiddlers.onCancel}],config.macros.importTiddlers.statusGetWorkspaceList);
};

config.macros.importTiddlers.onGetWorkspaceList = function(context,wizard)
{
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onGetWorkspaceList: " + context.statusText);
	wizard.addStep(config.macros.importTiddlers.step2Title,config.macros.importTiddlers.step2Html);
	var s = wizard.getElement("selWorkspace");
	s.onchange = config.macros.importTiddlers.onWorkspaceChange;
	for(var t=0; t<context.workspaces.length; t++) {
		var e = createTiddlyElement(s,"option",null,null,context.workspaces[t].title);
		e.value = context.workspaces[t].title;
	}
	var workspaceList = wizard.getValue("feedWorkspaceList");
	if(workspaceList) {
		var list = workspaceList.parseParams("workspace",null,false,true);
		for(var n=1; n<list.length; n++) {
			if(context.workspaces.findByField("title",list[n].value) == null) {
				e = createTiddlyElement(s,"option",null,null,list[n].value);
				e.value = list[n].value;
			}
		}
	}
	var workspace = wizard.getValue("feedWorkspace");
	if(workspace) {
		t = wizard.getElement("txtWorkspace");
		t.value = workspace;
	}
	wizard.setButtons([{caption: config.macros.importTiddlers.openLabel, tooltip: config.macros.importTiddlers.openPrompt, onClick: config.macros.importTiddlers.onChooseWorkspace}]);
};

config.macros.importTiddlers.onWorkspaceChange = function(e)
{
	var wizard = new Wizard(this);
	var t = wizard.getElement("txtWorkspace");
	t.value  = this.value;
	this.selectedIndex = 0;
	return false;
};

config.macros.importTiddlers.onChooseWorkspace = function(e)
{
	var wizard = new Wizard(this);
	var adaptor = wizard.getValue("adaptor");
	var workspace = wizard.getElement("txtWorkspace").value;
	wizard.setValue("workspace",workspace);
	var context = {};
	var ret = adaptor.openWorkspace(workspace,context,wizard,config.macros.importTiddlers.onOpenWorkspace);
	if(ret !== true)
		displayMessage(ret);
	wizard.setButtons([{caption: config.macros.importTiddlers.cancelLabel, tooltip: config.macros.importTiddlers.cancelPrompt, onClick: config.macros.importTiddlers.onCancel}],config.macros.importTiddlers.statusOpenWorkspace);
	return false;
};

config.macros.importTiddlers.onOpenWorkspace = function(context,wizard)
{
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenWorkspace: " + context.statusText);
	var adaptor = wizard.getValue("adaptor");
	var ret = adaptor.getTiddlerList(context,wizard,config.macros.importTiddlers.onGetTiddlerList,wizard.getValue("feedTiddlerFilter"));
	if(ret !== true)
		displayMessage(ret);
	wizard.setButtons([{caption: config.macros.importTiddlers.cancelLabel, tooltip: config.macros.importTiddlers.cancelPrompt, onClick: config.macros.importTiddlers.onCancel}],config.macros.importTiddlers.statusGetTiddlerList);
};

config.macros.importTiddlers.onGetTiddlerList = function(context,wizard)
{
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onGetTiddlerList: " + context.statusText);
	// Extract data for the listview
	var listedTiddlers = [];
	if(context.tiddlers) {
		for(var n=0; n<context.tiddlers.length; n++) {
			var tiddler = context.tiddlers[n];
			listedTiddlers.push({
				title: tiddler.title,
				modified: tiddler.modified,
				modifier: tiddler.modifier,
				text: tiddler.text ? wikifyPlainText(tiddler.text,100) : "",
				tags: tiddler.tags,
				size: tiddler.text ? tiddler.text.length : 0,
				tiddler: tiddler
			});
		}
	}
	listedTiddlers.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : +1);});
	// Display the listview
	wizard.addStep(config.macros.importTiddlers.step3Title,config.macros.importTiddlers.step3Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	var listView = ListView.create(listWrapper,listedTiddlers,config.macros.importTiddlers.listViewTemplate);
	wizard.setValue("listView",listView);
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler");
	txtSaveTiddler.value = config.macros.importTiddlers.generateSystemServerName(wizard);
	wizard.setButtons([
			{caption: config.macros.importTiddlers.cancelLabel, tooltip: config.macros.importTiddlers.cancelPrompt, onClick: config.macros.importTiddlers.onCancel},
			{caption: config.macros.importTiddlers.importLabel, tooltip: config.macros.importTiddlers.importPrompt, onClick:  config.macros.importTiddlers.doImport}
		]);
};

config.macros.importTiddlers.generateSystemServerName = function(wizard)
{
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var pattern = config.macros.importTiddlers[workspace ? "systemServerNamePattern" : "systemServerNamePatternNoWorkspace"];
	return pattern.format([serverType,host,workspace]);
};

config.macros.importTiddlers.saveServerTiddler = function(wizard)
{
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler").value;
	if(store.tiddlerExists(txtSaveTiddler)) {
		if(!confirm(config.macros.importTiddlers.confirmOverwriteSaveTiddler.format([txtSaveTiddler])))
			return;
		store.suspendNotifications();
		store.removeTiddler(txtSaveTiddler);
		store.resumeNotifications();
	}
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var text = config.macros.importTiddlers.serverSaveTemplate.format([serverType,host,workspace]);
	store.saveTiddler(txtSaveTiddler,txtSaveTiddler,text,config.macros.importTiddlers.serverSaveModifier,new Date(),["systemServer"]);
};

config.macros.importTiddlers.doImport = function(e)
{
	var wizard = new Wizard(this);
	if(wizard.getElement("chkSave").checked)
		config.macros.importTiddlers.saveServerTiddler(wizard);
	var chkSync = wizard.getElement("chkSync").checked;
	wizard.setValue("sync",chkSync);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	var adaptor = wizard.getValue("adaptor");
	var overwrite = new Array();
	var t;
	for(t=0; t<rowNames.length; t++) {
		if(store.tiddlerExists(rowNames[t]))
			overwrite.push(rowNames[t]);
	}
	if(overwrite.length > 0) {
		if(!confirm(config.macros.importTiddlers.confirmOverwriteText.format([overwrite.join(", ")])))
			return false;
	}
	wizard.addStep(config.macros.importTiddlers.step4Title.format([rowNames.length]),config.macros.importTiddlers.step4Html);
	for(t=0; t<rowNames.length; t++) {
		var link = document.createElement("div");
		createTiddlyLink(link,rowNames[t],true);
		var place = wizard.getElement("markReport");
		place.parentNode.insertBefore(link,place);
	}
	wizard.setValue("remainingImports",rowNames.length);
	wizard.setButtons([
			{caption: config.macros.importTiddlers.cancelLabel, tooltip: config.macros.importTiddlers.cancelPrompt, onClick: config.macros.importTiddlers.onCancel}
		],config.macros.importTiddlers.statusDoingImport);
	for(t=0; t<rowNames.length; t++) {
		var context = {};
		context.allowSynchronous = true;
		var inbound = adaptor.getTiddler(rowNames[t],context,wizard,config.macros.importTiddlers.onGetTiddler);
	}
	return false;
};

config.macros.importTiddlers.onGetTiddler = function(context,wizard)
{
	if(!context.status)
		displayMessage("Error in importTiddlers.onGetTiddler: " + context.statusText);
	var tiddler = context.tiddler;
	store.suspendNotifications();
	store.saveTiddler(tiddler.title, tiddler.title, tiddler.text, tiddler.modifier, tiddler.modified, tiddler.tags, tiddler.fields, true, tiddler.created);
	if(!wizard.getValue("sync")) {
		store.setValue(tiddler.title,'server',null);
	}
	store.resumeNotifications();
	if(!context.isSynchronous)
		store.notify(tiddler.title,true);
	var remainingImports = wizard.getValue("remainingImports")-1;
	wizard.setValue("remainingImports",remainingImports);
	if(remainingImports == 0) {
		if(context.isSynchronous) {
			store.notifyAll();
			refreshDisplay();
		}
		wizard.setButtons([
				{caption: config.macros.importTiddlers.doneLabel, tooltip: config.macros.importTiddlers.donePrompt, onClick: config.macros.importTiddlers.onCancel}
			],config.macros.importTiddlers.statusDoneImport);
		autoSaveChanges();
	}
};

//--
//-- Sync macro
//--

// Synchronisation handlers
config.syncers = {};

// Sync state.
var currSync = null;

// sync macro
config.macros.sync.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(!wikifier.isStatic)
		this.startSync(place);
};

config.macros.sync.startSync = function(place)
{
	if(currSync)
		config.macros.sync.cancelSync();
	currSync = {};
	currSync.syncList = this.getSyncableTiddlers();
	this.createSyncTasks();
	this.preProcessSyncableTiddlers();
	var wizard = new Wizard();
	currSync.wizard = wizard;
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	currSync.listView = ListView.create(listWrapper,currSync.syncList,this.listViewTemplate);
	this.processSyncableTiddlers();
	wizard.setButtons([
			{caption: this.syncLabel, tooltip: this.syncPrompt, onClick: this.doSync}
		]);
};

config.macros.sync.getSyncableTiddlers = function ()
{
	var list = [];
	store.forEachTiddler(function(title,tiddler) {
		var syncItem = {};
		syncItem.serverType = tiddler.getServerType();
		syncItem.serverHost = tiddler.fields['server.host'];
		syncItem.serverWorkspace = tiddler.fields['server.workspace'];
		syncItem.tiddler = tiddler;
		syncItem.title = tiddler.title;
		syncItem.isTouched = tiddler.isTouched();
		syncItem.selected = syncItem.isTouched;
		syncItem.syncStatus = config.macros.sync.syncStatusList[syncItem.isTouched ? "changedLocally" : "none"];
		syncItem.status = syncItem.syncStatus.text;
		if(syncItem.serverType && syncItem.serverHost)
			list.push(syncItem);
		});
	list.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : +1);});
	return list;
};

config.macros.sync.preProcessSyncableTiddlers = function()
{
	for(var t=0; t<currSync.syncList.length; t++) {
		si = currSync.syncList[t];
		var ti = si.syncTask.syncMachine.generateTiddlerInfo(si.tiddler);
		si.serverUrl = ti.uri;
	}
};

config.macros.sync.processSyncableTiddlers = function()
{
	for(var t=0; t<currSync.syncList.length; t++) {
		si = currSync.syncList[t];
		si.rowElement.style.backgroundColor = si.syncStatus.color;
	}
};

config.macros.sync.createSyncTasks = function()
{
	currSync.syncTasks = [];
	for(var t=0; t<currSync.syncList.length; t++) {
		var si = currSync.syncList[t];
		var r = null;
		for(var st=0; st<currSync.syncTasks.length; st++) {
			var cst = currSync.syncTasks[st];
			if(si.serverType == cst.serverType && si.serverHost == cst.serverHost && si.serverWorkspace == cst.serverWorkspace)
				r = cst;
		}
		if(r == null) {
			si.syncTask = this.createSyncTask(si);
			currSync.syncTasks.push(si.syncTask);
		} else {
			si.syncTask = r;
			r.syncItems.push(si);
		}
	}
};

config.macros.sync.createSyncTask = function(syncItem)
{
	var st = {};
	st.serverType = syncItem.serverType;
	st.serverHost = syncItem.serverHost;
	st.serverWorkspace = syncItem.serverWorkspace;
	st.syncItems = [syncItem];
	st.syncMachine = new SyncMachine(st.serverType,{
		start: function() {
			return this.openHost(st.serverHost,"openWorkspace");
		},
		openWorkspace: function() {
			return this.openWorkspace(st.serverWorkspace,"getTiddlerList");
		},
		getTiddlerList: function() {
			return this.getTiddlerList("gotTiddlerList");
		},
		gotTiddlerList: function(tiddlers) {
			for(var t=0; t<st.syncItems.length; t++) {
				var si = st.syncItems[t];
				var f = tiddlers.findByField("title",si.title);
				if(f !== null) {
					if(tiddlers[f].fields['server.page.revision'] > si.tiddler.fields['server.page.revision']) {
						si.syncStatus = config.macros.sync.syncStatusList[si.isTouched ? 'changedBoth' : 'changedServer'];
					}
				} else {
					si.syncStatus = config.macros.sync.syncStatusList.notFound;
				}
				config.macros.sync.updateSyncStatus(si);
			}
		},
		getTiddler: function(title) {
			return this.getTiddler(title,"onGetTiddler");
		},
		onGetTiddler: function(tiddler) {
			var syncItem = st.syncItems.findByField("title",tiddler.title);
			if(syncItem !== null) {
				syncItem = st.syncItems[syncItem];
				store.saveTiddler(tiddler.title, tiddler.title, tiddler.text, tiddler.modifier, tiddler.modified, tiddler.tags, tiddler.fields, true, tiddler.created);
				syncItem.syncStatus = config.macros.sync.syncStatusList.gotFromServer;
				config.macros.sync.updateSyncStatus(syncItem);
			}
		},
		putTiddler: function(tiddler) {
			return this.putTiddler(tiddler,"onPutTiddler");
		},
		onPutTiddler: function(tiddler) {
			var syncItem = st.syncItems.findByField("title",tiddler.title);
			if(syncItem !== null) {
				syncItem = st.syncItems[syncItem];
				store.resetTiddler(tiddler.title);
				syncItem.syncStatus = config.macros.sync.syncStatusList.putToServer;
				config.macros.sync.updateSyncStatus(syncItem);
			}
		}
	});
	st.syncMachine.go();
	return st;
};

config.macros.sync.updateSyncStatus = function(syncItem)
{
	var e = syncItem.colElements["status"];
	removeChildren(e);
	createTiddlyText(e,syncItem.syncStatus.text);
	syncItem.rowElement.style.backgroundColor = syncItem.syncStatus.color;
};

config.macros.sync.doSync = function(e)
{
	var rowNames = ListView.getSelectedRows(currSync.listView);
	for(var t=0; t<currSync.syncList.length; t++) {
		var si = currSync.syncList[t];
		if(rowNames.indexOf(si.title) != -1) {
			config.macros.sync.doSyncItem(si);
		}
	}
	return false;
};

config.macros.sync.doSyncItem = function(syncItem)
{
	var r = true;
	var sl = config.macros.sync.syncStatusList;
	switch(syncItem.syncStatus) {
		case sl.changedServer:
			r = syncItem.syncTask.syncMachine.go("getTiddler",syncItem.title);
			break;
		case sl.notFound:
		case sl.changedLocally:
		case sl.changedBoth:
			r = syncItem.syncTask.syncMachine.go("putTiddler",syncItem.tiddler);
			break;
		default:
			break;
	}
	if(r !== true)
		displayMessage("Error in doSyncItem: " + r);
};

config.macros.sync.cancelSync = function()
{
	currSync = null;
};

function SyncMachine(serverType,steps)
{
	this.serverType = serverType;
	this.adaptor = new config.adaptors[serverType];
	this.steps = steps;
}

SyncMachine.prototype.go = function(step,varargs)
{
	if(!step)
		step = "start";
	var h = this.steps[step];
	if(!h)
		return null;
	var a = [];
	for(var t=1; t<arguments.length; t++)
		a.push(arguments[t]);
	var r = h.apply(this,a);
	if(typeof r == "string")
		this.invokeError(r);
	return r;
};

SyncMachine.prototype.invokeError = function(message)
{
	if(this.steps.error)
		this.steps.error(message);
};

SyncMachine.prototype.openHost = function(host,nextStep)
{
	var me = this;
	return me.adaptor.openHost(host,null,null,function(context) {
		if(typeof context.status == "string")
			me.invokeError(context.status);
		else
			me.go(nextStep);
	});
};

SyncMachine.prototype.getWorkspaceList = function(nextStep)
{
	var me = this;
	return me.adaptor.getWorkspaceList(null,null,function(context) {
		if(typeof context.status == "string")
			me.invokeError(context.status);
		else
			me.go(nextStep,context.workspaces);
	});
};

SyncMachine.prototype.openWorkspace = function(workspace,nextStep)
{
	var me = this;
	return me.adaptor.openWorkspace(workspace,null,null,function(context) {
		if(typeof context.status == "string")
			me.invokeError(context.status);
		else
			me.go(nextStep);
	});
};

SyncMachine.prototype.getTiddlerList = function(nextStep)
{
	var me = this;
	return me.adaptor.getTiddlerList(null,null,function(context) {
		if(typeof context.status == "string")
			me.invokeError(context.status);
		else
			me.go(nextStep,context.tiddlers);
	});
};

SyncMachine.prototype.generateTiddlerInfo = function(tiddler)
{
	return this.adaptor.generateTiddlerInfo(tiddler);
};

SyncMachine.prototype.getTiddler = function(title,nextStep)
{
	var me = this;
	return me.adaptor.getTiddler(title,null,null,function(context) {
		if(typeof context.status == "string")
			me.invokeError(context.status);
		else
			me.go(nextStep,context.tiddler);
	});
};

SyncMachine.prototype.putTiddler = function(tiddler,nextStep)
{
	var me = this;
	return me.adaptor.putTiddler(tiddler,null,null,function(context) {
		if(typeof context.status == "string")
			me.invokeError(context.status);
		else
			me.go(nextStep,tiddler);
	});
};

//--
//-- Manager UI for groups of tiddlers
//--

config.macros.plugins.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	listWrapper.setAttribute("refresh","macro");
	listWrapper.setAttribute("macroName","plugins");
	listWrapper.setAttribute("params",paramString);
	this.refresh(listWrapper,paramString);
};

config.macros.plugins.refresh = function(listWrapper,params)
{
	var wizard = new Wizard(listWrapper);
	var selectedRows = [];
	ListView.forEachSelector(listWrapper,function(e,rowName) {
			if(e.checked)
				selectedRows.push(e.getAttribute("rowName"));
		});
	removeChildren(listWrapper);
	params = params.parseParams("anon");
	var plugins = installedPlugins.slice(0);
	var t,tiddler,p;
	var configTiddlers = store.getTaggedTiddlers("systemConfig");
	for(t=0; t<configTiddlers.length; t++) {
		tiddler = configTiddlers[t];
		if(plugins.findByField("title",tiddler.title) == null) {
			p = getPluginInfo(tiddler);
			p.executed = false;
			p.log.splice(0,0,this.skippedText);
			plugins.push(p);
		}
	}
	for(t=0; t<plugins.length; t++) {
		p = plugins[t];
		p.size = p.tiddler.text ? p.tiddler.text.length : 0;
		p.forced = p.tiddler.isTagged("systemConfigForce");
		p.disabled = p.tiddler.isTagged("systemConfigDisable");
		p.Selected = selectedRows.indexOf(plugins[t].title) != -1;
	}
	if(plugins.length == 0) {
		createTiddlyElement(listWrapper,"em",null,null,this.noPluginText);
		wizard.setButtons([]);
	} else {
		var listView = ListView.create(listWrapper,plugins,this.listViewTemplate,this.onSelectCommand);
		wizard.setValue("listView",listView);
		wizard.setButtons([
				{caption: config.macros.plugins.removeLabel, tooltip: config.macros.plugins.removePrompt, onClick:  config.macros.plugins.doRemoveTag},
				{caption: config.macros.plugins.deleteLabel, tooltip: config.macros.plugins.deletePrompt, onClick:  config.macros.plugins.doDelete}
			]);
	}
};

config.macros.plugins.doRemoveTag = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		for(var t=0; t<rowNames.length; t++)
			store.setTiddlerTag(rowNames[t],false,"systemConfig");
	}
};

config.macros.plugins.doDelete = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		if(confirm(config.macros.plugins.confirmDeleteText.format([rowNames.join(", ")]))) {
			for(t=0; t<rowNames.length; t++) {
				store.removeTiddler(rowNames[t]);
				story.closeTiddler(rowNames[t],true);
			}
		}
	}
};

//--
//-- Message area
//--

function getMessageDiv()
{
	var msgArea = document.getElementById("messageArea");
	if(!msgArea)
		return null;
	if(!msgArea.hasChildNodes())
		createTiddlyButton(createTiddlyElement(msgArea,"div",null,"messageToolbar"),
			config.messages.messageClose.text,
			config.messages.messageClose.tooltip,
			clearMessage);
	msgArea.style.display = "block";
	return createTiddlyElement(msgArea,"div");
}

function displayMessage(text,linkText)
{
	var e = getMessageDiv();
	if(!e) {
		alert(text);
		return;
	}
	if(linkText) {
		var link = createTiddlyElement(e,"a",null,null,text);
		link.href = linkText;
		link.target = "_blank";
	} else {
		e.appendChild(document.createTextNode(text));
	}
}

function clearMessage()
{
	var msgArea = document.getElementById("messageArea");
	if(msgArea) {
		removeChildren(msgArea);
		msgArea.style.display = "none";
	}
	return false;
}

//--
//-- Refresh mechanism
//--

config.refreshers = {
	link: function(e,changeList)
		{
		var title = e.getAttribute("tiddlyLink");
		refreshTiddlyLink(e,title);
		return true;
		},

	tiddler: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var template = e.getAttribute("template");
		if(changeList && changeList.indexOf(title) != -1 && !story.isDirty(title))
			story.refreshTiddler(title,template,true);
		else
			refreshElements(e,changeList);
		return true;
		},

	content: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var force = e.getAttribute("force");
		if(force != null || changeList == null || changeList.indexOf(title) != -1) {
			removeChildren(e);
			wikify(store.getTiddlerText(title,title),e,null);
			return true;
		} else
			return false;
		},

	macro: function(e,changeList)
		{
		var macro = e.getAttribute("macroName");
		var params = e.getAttribute("params");
		if(macro)
			macro = config.macros[macro];
		if(macro && macro.refresh)
			macro.refresh(e,params);
		return true;
		}
};

function refreshElements(root,changeList)
{
	var nodes = root.childNodes;
	for(var c=0; c<nodes.length; c++) {
		var e = nodes[c], type = null;
		if(e.getAttribute  && (e.tagName ? e.tagName != "IFRAME" : true))
			type = e.getAttribute("refresh");
		var refresher = config.refreshers[type];
		var refreshed = false;
		if(refresher != undefined)
			refreshed = refresher(e,changeList);
		if(e.hasChildNodes() && !refreshed)
			refreshElements(e,changeList);
	}
}

function applyHtmlMacros(root,tiddler)
{
	var e = root.firstChild;
	while(e) {
		var nextChild = e.nextSibling;
		if(e.getAttribute) {
			var macro = e.getAttribute("macro");
			if(macro) {
				var params = "";
				var p = macro.indexOf(" ");
				if(p != -1) {
					params = macro.substr(p+1);
					macro = macro.substr(0,p);
				}
				invokeMacro(e,macro,params,null,tiddler);
			}
		}
		if(e.hasChildNodes())
			applyHtmlMacros(e,tiddler);
		e = nextChild;
	}
}

function refreshPageTemplate(title)
{
	var stash = createTiddlyElement(document.body,"div");
	stash.style.display = "none";
	var display = document.getElementById("tiddlerDisplay");
	var nodes,t;
	if(display) {
		nodes = display.childNodes;
		for(t=nodes.length-1; t>=0; t--)
			stash.appendChild(nodes[t]);
	}
	var wrapper = document.getElementById("contentWrapper");
	if(!title)
		title = "PageTemplate";
	var html = store.getRecursiveTiddlerText(title,null,10);
	wrapper.innerHTML = html;
	applyHtmlMacros(wrapper);
	refreshElements(wrapper);
	display = document.getElementById("tiddlerDisplay");
	removeChildren(display);
	if(!display)
		display = createTiddlyElement(wrapper,"div","tiddlerDisplay");
	nodes = stash.childNodes;
	for(t=nodes.length-1; t>=0; t--)
		display.appendChild(nodes[t]);
	removeNode(stash);
}

function refreshDisplay(hint)
{
	if(typeof hint == "string")
		hint = [hint];
	var e = document.getElementById("contentWrapper");
	refreshElements(e,hint);
	if(backstage.isPanelVisible()) {
		e = document.getElementById("backstage");
		refreshElements(e,hint);
	}
}

function refreshPageTitle()
{
	document.title = getPageTitle();
}

function getPageTitle()
{
	var st = wikifyPlain("SiteTitle");
	var ss = wikifyPlain("SiteSubtitle");
	return st + ((st == "" || ss == "") ? "" : " - ") + ss;
}

function refreshStyles(title,doc)
{
	if(!doc)
		doc = document;
	setStylesheet(title == null ? "" : store.getRecursiveTiddlerText(title,"",10),title,doc);
}

function refreshColorPalette(title)
{
	if(!startingUp)
		refreshAll();
}

function refreshAll()
{
	refreshPageTemplate();
	refreshDisplay();
	refreshStyles("StyleSheetLayout");
	refreshStyles("StyleSheetColors");
	refreshStyles("StyleSheet");
	refreshStyles("StyleSheetPrint");
}

//--
//-- Options cookie stuff
//--

config.optionHandlers = {
	'txt': {
		get: function(name) {return encodeCookie(config.options[name].toString());},
		set: function(name,value) {config.options[name] = decodeCookie(value);}
	},
	'chk': {
		get: function(name) {return config.options[name] ? "true" : "false";},
		set: function(name,value) {config.options[name] = value == "true";}
	}
};

function loadOptionsCookie()
{
	if(safeMode)
		return;
	var cookies = document.cookie.split(";");
	for(var c=0; c<cookies.length; c++) {
		var p = cookies[c].indexOf("=");
		if(p != -1) {
			var name = cookies[c].substr(0,p).trim();
			var value = cookies[c].substr(p+1).trim();
			var optType = name.substr(0,3);
			if(config.optionHandlers[optType] && config.optionHandlers[optType].set)
				config.optionHandlers[optType].set(name,value);
		}
	}
}

function saveOptionCookie(name)
{
	if(safeMode)
		return;
	var c = name + "=";
	var optType = name.substr(0,3);
	if(config.optionHandlers[optType] && config.optionHandlers[optType].get)
		c += config.optionHandlers[optType].get(name);
	c += "; expires=Fri, 1 Jan 2038 12:00:00 UTC; path=/";
	document.cookie = c;
}

function encodeCookie(s)
{
	return escape(manualConvertUnicodeToUTF8(s));
}

function decodeCookie(s)
{
	s = unescape(s);
	var re = /&#[0-9]{1,5};/g;
	return s.replace(re,function($0) {return String.fromCharCode(eval($0.replace(/[&#;]/g,"")));});
}

//--
//-- Saving
//--

var saveUsingSafari = false;

var startSaveArea = '<div id="' + 'storeArea">'; // Split up into two so that indexOf() of this source doesn't find it
var endSaveArea = '</d' + 'iv>';

// If there are unsaved changes, force the user to confirm before exitting
function confirmExit()
{
	hadConfirmExit = true;
	if((store && store.isDirty && store.isDirty()) || (story && story.areAnyDirty && story.areAnyDirty()))
		return config.messages.confirmExit;
}

// Give the user a chance to save changes before exitting
function checkUnsavedChanges()
{
	if(store && store.isDirty && store.isDirty() && window.hadConfirmExit === false) {
		if(confirm(config.messages.unsavedChangesWarning))
			saveChanges();
	}
}

function updateLanguageAttribute(s)
{
	if(config.locale) {
		var mRE = /(<html(?:.*?)?)(?: xml:lang\="([a-z]+)")?(?: lang\="([a-z]+)")?>/;
		var m = mRE.exec(s);
		if(m) {
			var t = m[1];
			if(m[2])
				t += ' xml:lang="' + config.locale + '"';
			if(m[3])
				t += ' lang="' + config.locale + '"';
			t += ">";
			s = s.substr(0,m.index) + t + s.substr(m.index+m[0].length);
		}
	}
	return s;
}

function updateMarkupBlock(s,blockName,tiddlerName)
{
	return s.replaceChunk(
			"<!--%0-START-->".format([blockName]),
			"<!--%0-END-->".format([blockName]),
			"\n" + store.getRecursiveTiddlerText(tiddlerName,"") + "\n");
}

function updateOriginal(original,posDiv)
{
	if(!posDiv)
		posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(config.messages.invalidFileError.format([localPath]));
		return null;
	}
	var revised = original.substr(0,posDiv[0] + startSaveArea.length) + "\n" +
				convertUnicodeToUTF8(store.allTiddlersAsHtml()) + "\n" +
				original.substr(posDiv[1]);
	var newSiteTitle = convertUnicodeToUTF8(getPageTitle()).htmlEncode();
	revised = revised.replaceChunk("<title"+">","</title"+">"," " + newSiteTitle + " ");
	revised = updateLanguageAttribute(revised);
	revised = updateMarkupBlock(revised,"PRE-HEAD","MarkupPreHead");
	revised = updateMarkupBlock(revised,"POST-HEAD","MarkupPostHead");
	revised = updateMarkupBlock(revised,"PRE-BODY","MarkupPreBody");
	revised = updateMarkupBlock(revised,"POST-SCRIPT","MarkupPostBody");
	return revised;
}

function locateStoreArea(original)
{
	// Locate the storeArea div's
	var posOpeningDiv = original.indexOf(startSaveArea);
	var limitClosingDiv = original.indexOf("<"+"!--POST-STOREAREA--"+">");
	if(limitClosingDiv == -1)
		limitClosingDiv = original.indexOf("<"+"!--POST-BODY-START--"+">");
	var posClosingDiv = original.lastIndexOf(endSaveArea,limitClosingDiv == -1 ? original.length : limitClosingDiv);
	return (posOpeningDiv != -1 && posClosingDiv != -1) ? [posOpeningDiv,posClosingDiv] : null;
}

function autoSaveChanges(onlyIfDirty,tiddlers)
{
	if(config.options.chkAutoSave)
		saveChanges(onlyIfDirty,tiddlers);
}

// Save this tiddlywiki with the pending changes
function saveChanges(onlyIfDirty,tiddlers)
{
	if(onlyIfDirty && !store.isDirty())
		return;
	clearMessage();
	// Get the URL of the document
	var originalPath = document.location.toString();
	// Check we were loaded from a file URL
	if(originalPath.substr(0,5) != "file:") {
		alert(config.messages.notFileUrlError);
		if(store.tiddlerExists(config.messages.saveInstructions))
			story.displayTiddler(null,config.messages.saveInstructions);
		return;
	}
	var localPath = getLocalPath(originalPath);
	// Load the original file
	var original = loadFile(localPath);
	if(original == null) {
		alert(config.messages.cantSaveError);
		if(store.tiddlerExists(config.messages.saveInstructions))
			story.displayTiddler(null,config.messages.saveInstructions);
		return;
	}
	// Locate the storeArea div's
	var posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(config.messages.invalidFileError.format([localPath]));
		return;
	}
	saveBackup(localPath,original);
	saveRss(localPath);
	saveEmpty(localPath,original,posDiv);
	saveMain(localPath,original,posDiv);
}

function saveBackup(localPath,original)
{
	// Save the backup
	if(config.options.chkSaveBackups) {
		var backupPath = getBackupPath(localPath);
		var backup = config.browser.isIE ? ieCopyFile(backupPath,localPath) : saveFile(backupPath,original);
		if(backup)
			displayMessage(config.messages.backupSaved,"file://" + backupPath);
		else
			alert(config.messages.backupFailed);
	}
}

function saveRss(localPath)
{
	if(config.options.chkGenerateAnRssFeed) {
		var rssPath = localPath.substr(0,localPath.lastIndexOf(".")) + ".xml";
		var rssSave = saveFile(rssPath,convertUnicodeToUTF8(generateRss()));
		if(rssSave)
			displayMessage(config.messages.rssSaved,"file://" + rssPath);
		else
			alert(config.messages.rssFailed);
	}
}

function saveEmpty(localPath,original,posDiv)
{
	if(config.options.chkSaveEmptyTemplate) {
		var emptyPath,p;
		if((p = localPath.lastIndexOf("/")) != -1)
			emptyPath = localPath.substr(0,p) + "/empty.html";
		else if((p = localPath.lastIndexOf("\\")) != -1)
			emptyPath = localPath.substr(0,p) + "\\empty.html";
		else
			emptyPath = localPath + ".empty.html";
		var empty = original.substr(0,posDiv[0] + startSaveArea.length) + original.substr(posDiv[1]);
		var emptySave = saveFile(emptyPath,empty);
		if(emptySave)
			displayMessage(config.messages.emptySaved,"file://" + emptyPath);
		else
			alert(config.messages.emptyFailed);
	}
}

function saveMain(localPath,original,posDiv)
{
	var save;
	try {
		var revised = updateOriginal(original,posDiv);
		save = saveFile(localPath,revised);
	} catch (ex) {
		showException(ex);
	}
	if(save) {
		displayMessage(config.messages.mainSaved,"file://" + localPath);
		store.setDirty(false);
	} else {
		alert(config.messages.mainFailed);
	}
}

function getLocalPath(origPath)
{
	var originalPath = convertUriToUTF8(origPath,config.options.txtFileSystemCharSet);
	// Remove any location or query part of the URL
	var argPos = originalPath.indexOf("?");
	if(argPos != -1)
		originalPath = originalPath.substr(0,argPos);
	var hashPos = originalPath.indexOf("#");
	if(hashPos != -1)
		originalPath = originalPath.substr(0,hashPos);
	// Convert file://localhost/ to file:///
	if(originalPath.indexOf("file://localhost/") == 0)
		originalPath = "file://" + originalPath.substr(16);
	// Convert to a native file format
	var localPath;
	if(originalPath.charAt(9) == ":") // pc local file
		localPath = unescape(originalPath.substr(8)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file://///") == 0) // FireFox pc network file
		localPath = "\\\\" + unescape(originalPath.substr(10)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file:///") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(7));
	else if(originalPath.indexOf("file:/") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(5));
	else // pc network file
		localPath = "\\\\" + unescape(originalPath.substr(7)).replace(new RegExp("/","g"),"\\");
	return localPath;
}

function getBackupPath(localPath)
{
	var backSlash = true;
	var dirPathPos = localPath.lastIndexOf("\\");
	if(dirPathPos == -1) {
		dirPathPos = localPath.lastIndexOf("/");
		backSlash = false;
	}
	var backupFolder = config.options.txtBackupFolder;
	if(!backupFolder || backupFolder == "")
		backupFolder = ".";
	var backupPath = localPath.substr(0,dirPathPos) + (backSlash ? "\\" : "/") + backupFolder + localPath.substr(dirPathPos);
	backupPath = backupPath.substr(0,backupPath.lastIndexOf(".")) + "." + (new Date()).convertToYYYYMMDDHHMMSSMMM() + ".html";
	return backupPath;
}

function generateRss()
{
	var s = [];
	var d = new Date();
	var u = store.getTiddlerText("SiteUrl");
	// Assemble the header
	s.push("<" + "?xml version=\"1.0\"?" + ">");
	s.push("<rss version=\"2.0\">");
	s.push("<channel>");
	s.push("<title" + ">" + wikifyPlain("SiteTitle").htmlEncode() + "</title" + ">");
	if(u)
		s.push("<link>" + u.htmlEncode() + "</link>");
	s.push("<description>" + wikifyPlain("SiteSubtitle").htmlEncode() + "</description>");
	s.push("<language>en-us</language>");
	s.push("<copyright>Copyright " + d.getFullYear() + " " + config.options.txtUserName.htmlEncode() + "</copyright>");
	s.push("<pubDate>" + d.toGMTString() + "</pubDate>");
	s.push("<lastBuildDate>" + d.toGMTString() + "</lastBuildDate>");
	s.push("<docs>http://blogs.law.harvard.edu/tech/rss</docs>");
	s.push("<generator>TiddlyWiki " + version.major + "." + version.minor + "." + version.revision + "</generator>");
	// The body
	var tiddlers = store.getTiddlers("modified","excludeLists");
	var n = config.numRssItems > tiddlers.length ? 0 : tiddlers.length-config.numRssItems;
	for (var t=tiddlers.length-1; t>=n; t--)
		s.push(tiddlers[t].saveToRss(u));
	// And footer
	s.push("</channel>");
	s.push("</rss>");
	// Save it all
	return s.join("\n");
}

//--
//-- Filesystem code
//--

function convertUTF8ToUnicode(u)
{
	if(window.netscape == undefined)
		return manualConvertUTF8ToUnicode(u);
	else
		return mozConvertUTF8ToUnicode(u);
}

function manualConvertUTF8ToUnicode(utf)
{
	var uni = utf;
	var src = 0;
	var dst = 0;
	var b1, b2, b3;
	var c;
	while(src < utf.length) {
		b1 = utf.charCodeAt(src++);
		if(b1 < 0x80) {
			dst++;
		} else if(b1 < 0xE0) {
			b2 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0x1F) << 6) | (b2 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		} else {
			b2 = utf.charCodeAt(src++);
			b3 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0xF) << 12) | ((b2 & 0x3F) << 6) | (b3 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		}
	}
	return uni;
}

function mozConvertUTF8ToUnicode(u)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUTF8ToUnicode(u);
	} // fallback
	var s = converter.ConvertToUnicode(u);
	var fin = converter.Finish();
	return (fin.length > 0) ? s+fin : s;
}

function convertUnicodeToUTF8(s)
{
	if(window.netscape == undefined)
		return manualConvertUnicodeToUTF8(s);
	else
		return mozConvertUnicodeToUTF8(s);
}

function manualConvertUnicodeToUTF8(s)
{
	var re = /[^\u0000-\u007F]/g ;
	return s.replace(re,function($0) {return "&#" + $0.charCodeAt(0).toString() + ";";});
}

function mozConvertUnicodeToUTF8(s)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUnicodeToUTF8(s);
	} // fallback
	var u = converter.ConvertFromUnicode(s);
	var fin = converter.Finish();
	if(fin.length > 0)
		return u + fin;
	else
		return u;
}

function convertUriToUTF8(uri,charSet)
{
	if(window.netscape == undefined || charSet == undefined || charSet == "")
		return uri;
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/utf8converterservice;1"].getService(Components.interfaces.nsIUTF8ConverterService);
	} catch(ex) {
		return uri;
	}
	return converter.convertURISpecToUTF8(uri,charSet);
}

function saveFile(fileUrl,content)
{
	var r = null;
	if(!r)
		r = mozillaSaveFile(fileUrl,content);
	if(!r)
		r = ieSaveFile(fileUrl,content);
	if(!r)
		r = javaSaveFile(fileUrl,content);
	return r;
}

function loadFile(fileUrl)
{
	var r = null;
	if((r == null) || (r == false))
		r = mozillaLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = ieLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = javaLoadFile(fileUrl);
	return r;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function ieSaveFile(filePath,content)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
	} catch(ex) {
		return null;
	}
	var file = fso.OpenTextFile(filePath,2,-1,0);
	file.Write(content);
	file.Close();
	return true;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function ieLoadFile(filePath)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		var file = fso.OpenTextFile(filePath,1);
		var content = file.ReadAll();
		file.Close();
	} catch(ex) {
		return null;
	}
	return content;
}

function ieCopyFile(dest,source)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		fso.GetFile(source).Copy(dest);
	} catch(ex) {
		return false;
	}
	return true;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function mozillaSaveFile(filePath,content)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				file.create(0,0664);
			var out = Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);
			out.init(file,0x20|0x02,00004,null);
			out.write(content,content.length);
			out.flush();
			out.close();
			return true;
		} catch(ex) {
			return false;
		}
	}
	return null;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function mozillaLoadFile(filePath)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				return null;
			var inputStream = Components.classes["@mozilla.org/network/file-input-stream;1"].createInstance(Components.interfaces.nsIFileInputStream);
			inputStream.init(file,0x01,00004,null);
			var sInputStream = Components.classes["@mozilla.org/scriptableinputstream;1"].createInstance(Components.interfaces.nsIScriptableInputStream);
			sInputStream.init(inputStream);
			return sInputStream.read(sInputStream.available());
		} catch(ex) {
			return false;
		}
	}
	return null;
}

function javaUrlToFilename(url)
{
	var f = "//localhost";
	if(url.indexOf(f) == 0)
		return url.substring(f.length);
	var i = url.indexOf(":");
	if(i > 0)
		return url.substring(i-1);
	return url;
}

function javaSaveFile(filePath,content)
{
	try {
		if(document.applets["TiddlySaver"])
			return document.applets["TiddlySaver"].saveFile(javaUrlToFilename(filePath),"UTF-8",content);
	} catch(ex) {
	}
	try {
		var s = new java.io.PrintStream(new java.io.FileOutputStream(javaUrlToFilename(filePath)));
		s.print(content);
		s.close();
	} catch(ex) {
		return null;
	}
	return true;
}

function javaLoadFile(filePath)
{
	try {
		if(document.applets["TiddlySaver"])
			return String(document.applets["TiddlySaver"].loadFile(javaUrlToFilename(filePath),"UTF-8"));
	} catch(ex) {
	}
	var content = [];
	try {
		var r = new java.io.BufferedReader(new java.io.FileReader(javaUrlToFilename(filePath)));
		var line;
		while((line = r.readLine()) != null)
			content.push(new String(line));
		r.close();
	} catch(ex) {
		return null;
	}
	return content.join("\n");
}

//--
//-- Server adaptor for talking to static files
//--

function FileAdaptor()
{
	this.host = null;
	this.store = null;
	return this;
}

FileAdaptor.NotLoadedError = "TiddlyWiki file has not been loaded";
FileAdaptor.serverType = 'file';

// Open the specified host/server
FileAdaptor.prototype.openHost = function(host,context,userParams,callback)
{
	this.host = host;
	if(!context)
		context = {};
	context.adaptor = this;
	context.callback = callback;
	context.userParams = userParams;
	var ret = loadRemoteFile(host,FileAdaptor.openHostCallback,context);
	return typeof(ret) == "string" ? ret : true;
};

FileAdaptor.openHostCallback = function(status,context,responseText,url,xhr)
{
	var adaptor = context.adaptor;
	context.status = status;
	if(!status) {
		context.statusText = "Error reading file: " + xhr.statusText;
	} else {
		// Load the content into a TiddlyWiki() object
		adaptor.store = new TiddlyWiki();
		if(!adaptor.store.importTiddlyWiki(responseText))
			context.statusText = config.messages.invalidFileError.format([url]);
	}
	context.callback(context,context.userParams);
};

// Gets the list of workspaces on a given server
FileAdaptor.prototype.getWorkspaceList = function(context,userParams,callback)
{
	if(!context)
		context = {};
	context.workspaces = [{title:"(default)"}];
	context.status = true;
	window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

// Open the specified workspace
FileAdaptor.prototype.openWorkspace = function(workspace,context,userParams,callback)
{
	if(!context)
		context = {};
	context.status = true;
	window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

// Gets the list of tiddlers within a given workspace
FileAdaptor.prototype.getTiddlerList = function(context,userParams,callback)
{
	if(!this.store)
		return FileAdaptor.NotLoadedError;
	if(!context)
		context = {};
	context.tiddlers = [];
	this.store.forEachTiddler(function(title,tiddler)
		{
		var t = new Tiddler(title);
		t.text = tiddler.text;
		t.modified = tiddler.modified;
		t.modifier = tiddler.modifier;
		t.fields['server.page.revision'] = tiddler.modified.convertToYYYYMMDDHHMM();
		t.tags = tiddler.tags;
		context.tiddlers.push(t);
		});
	context.status = true;
	window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

FileAdaptor.prototype.generateTiddlerInfo = function(tiddler)
{
	var info = {};
	info.uri = tiddler.fields['server.host'] + "#" + tiddler.title;
	return info;
};

// Retrieves a tiddler from a given workspace on a given server
FileAdaptor.prototype.getTiddler = function(title,context,userParams,callback)
{
	if(!this.store)
		return FileAdaptor.NotLoadedError;
	if(!context)
		context = {};
	context.tiddler = this.store.fetchTiddler(title);
	if(context.tiddler) {
		context.tiddler.fields['server.type'] = FileAdaptor.serverType;
		context.tiddler.fields['server.host'] = this.host;
		context.tiddler.fields['server.page.revision'] = context.tiddler.modified.convertToYYYYMMDDHHMM();
	}
	context.status = true;
	if(context.allowSynchronous) {
		context.isSynchronous = true;
		callback(context,userParams);
	} else {
		window.setTimeout(function() {callback(context,userParams);},10);
	}
	return true;
};

FileAdaptor.prototype.close = function()
{
	delete this.store;
	this.store = null;
};

config.adaptors[FileAdaptor.serverType] = FileAdaptor;

//--
//-- Remote HTTP requests
//--

function loadRemoteFile(url,callback,params)
{
	return doHttp("GET",url,null,null,null,null,callback,params,null);
}

// HTTP status codes
var httpStatus = {
	OK: 200,
	ContentCreated: 201,
	NoContent: 204,
	Unauthorized: 401,
	Forbidden: 403,
	NotFound: 404,
	MethodNotAllowed: 405
};

function doHttp(type,url,data,contentType,username,password,callback,params,headers)
{
	// Get an xhr object
	var x = getXMLHttpRequest();
	if(!x)
		return "Can't create XMLHttpRequest object";
	// Install callback
	x.onreadystatechange = function() {
		if (x.readyState == 4 && callback && (x.status !== undefined)) {
			if([0, httpStatus.OK, httpStatus.ContentCreated, httpStatus.NoContent].contains(x.status))
				callback(true,params,x.responseText,url,x);
			else
				callback(false,params,null,url,x);
			x.onreadystatechange = function(){};
			x = null;
		}
	};
	// Send request
	if(window.Components && window.netscape && window.netscape.security && document.location.protocol.indexOf("http") == -1)
		window.netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
	try {
		url = url + (url.indexOf("?") < 0 ? "?" : "&") + "nocache=" + Math.random();
		x.open(type,url,true,username,password);
		if (data)
			x.setRequestHeader("Content-Type", contentType ? contentType : "application/x-www-form-urlencoded");
		if (x.overrideMimeType)
			x.setRequestHeader("Connection", "close");
		if(headers) {
			for(n in headers)
				x.setRequestHeader(n,headers[n]);
		}
		x.setRequestHeader("X-Requested-With", "TiddlyWiki " + version.major + "." + version.minor + "." + version.revision + (version.beta ? " (beta " + version.beta + ")" : ""));
		x.send(data);
	} catch (ex) {
		return exceptionText(ex);
	}
	return x;
}

function getXMLHttpRequest()
{
	try {
		var x = new XMLHttpRequest(); // Modern
	} catch(ex) {
		try {
			x = new ActiveXObject("Msxml2.XMLHTTP"); // IE 6
		} catch (ex2) {
			return null;
		}
	}
	return x;
}

//--
//-- TiddlyWiki-specific utility functions
//--

function createTiddlyButton(theParent,theText,theTooltip,theAction,theClass,theId,theAccessKey)
{
	var theButton = document.createElement("a");
	if(theAction) {
		theButton.onclick = theAction;
		theButton.setAttribute("href","javascript:;");
	}
	if(theTooltip)
		theButton.setAttribute("title",theTooltip);
	if(theText)
		theButton.appendChild(document.createTextNode(theText));
	if(theClass)
		theButton.className = theClass;
	else
		theButton.className = "button";
	if(theId)
		theButton.id = theId;
	if(theParent)
		theParent.appendChild(theButton);
	if(theAccessKey)
		theButton.setAttribute("accessKey",theAccessKey);
	return theButton;
}

function createTiddlyLink(place,title,includeText,theClass,isStatic,linkedFromTiddler,noToggle)
{
	var text = includeText ? title : null;
	var i = getTiddlyLinkInfo(title,theClass);
	var btn = isStatic ? createExternalLink(place,store.getTiddlerText("SiteUrl",null) + "#" + title) : createTiddlyButton(place,text,i.subTitle,onClickTiddlerLink,i.classes);
	btn.setAttribute("refresh","link");
	btn.setAttribute("tiddlyLink",title);
	if(noToggle)
		btn.setAttribute("noToggle","true");
	if(linkedFromTiddler) {
		var fields = linkedFromTiddler.getInheritedFields();
		if(fields)
			btn.setAttribute("tiddlyFields",fields);
	}
	return btn;
}

function refreshTiddlyLink(e,title)
{
	var i = getTiddlyLinkInfo(title,e.className);
	e.className = i.classes;
	e.title = i.subTitle;
}

function getTiddlyLinkInfo(title,currClasses)
{
	var classes = currClasses ? currClasses.split(" ") : [];
	classes.pushUnique("tiddlyLink");
	var tiddler = store.fetchTiddler(title);
	var subTitle;
	if(tiddler) {
		subTitle = tiddler.getSubtitle();
		classes.pushUnique("tiddlyLinkExisting");
		classes.remove("tiddlyLinkNonExisting");
		classes.remove("shadow");
	} else {
		classes.remove("tiddlyLinkExisting");
		classes.pushUnique("tiddlyLinkNonExisting");
		if(store.isShadowTiddler(title)) {
			subTitle = config.messages.shadowedTiddlerToolTip.format([title]);
			classes.pushUnique("shadow");
		} else {
			subTitle = config.messages.undefinedTiddlerToolTip.format([title]);
			classes.remove("shadow");
		}
	}
	if(config.annotations[title])
		subTitle = config.annotations[title];
	return {classes: classes.join(" "),subTitle: subTitle};
}

function createExternalLink(place,url)
{
	var theLink = document.createElement("a");
	theLink.className = "externalLink";
	theLink.href = url;
	theLink.title = config.messages.externalLinkTooltip.format([url]);
	if(config.options.chkOpenInNewWindow)
		theLink.target = "_blank";
	place.appendChild(theLink);
	return theLink;
}

// Event handler for clicking on a tiddly link
function onClickTiddlerLink(e)
{
	if(!e) e = window.event;
	var theTarget = resolveTarget(e);
	var theLink = theTarget;
	var title = null;
	var fields = null;
	var noToggle = null;
	do {
		title = theLink.getAttribute("tiddlyLink");
		fields = theLink.getAttribute("tiddlyFields");
		noToggle = theLink.getAttribute("noToggle");
		theLink = theLink.parentNode;
	} while(title == null && theLink != null);
	if(!store.isShadowTiddler(title)) {
		var f = fields ? fields.decodeHashMap() : {};
		fields = String.encodeHashMap(merge(f,config.defaultCustomFields,true));
	}
	if(title) {
		var toggling = e.metaKey || e.ctrlKey;
		if(config.options.chkToggleLinks)
			toggling = !toggling;
		if(noToggle)
			toggling = false;
		story.displayTiddler(theTarget,title,null,true,null,fields,toggling);
	}
	clearMessage();
	return false;
}

// Create a button for a tag with a popup listing all the tiddlers that it tags
function createTagButton(place,tag,excludeTiddler)
{
	var theTag = createTiddlyButton(place,tag,config.views.wikified.tag.tooltip.format([tag]),onClickTag);
	theTag.setAttribute("tag",tag);
	if(excludeTiddler)
		theTag.setAttribute("tiddler",excludeTiddler);
	return theTag;
}

// Event handler for clicking on a tiddler tag
function onClickTag(ev)
{
	var e = ev ? ev : window.event;
	var popup = Popup.create(this);
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(popup && tag) {
		var tagged = store.getTaggedTiddlers(tag);
		var titles = [];
		var li,r;
		for(r=0;r<tagged.length;r++) {
			if(tagged[r].title != title)
				titles.push(tagged[r].title);
		}
		var lingo = config.views.wikified.tag;
		if(titles.length > 0) {
			var openAll = createTiddlyButton(createTiddlyElement(popup,"li"),lingo.openAllText.format([tag]),lingo.openAllTooltip,onClickTagOpenAll);
			openAll.setAttribute("tag",tag);
			createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
			for(r=0; r<titles.length; r++) {
				createTiddlyLink(createTiddlyElement(popup,"li"),titles[r],true);
			}
		} else {
			createTiddlyText(createTiddlyElement(popup,"li",null,"disabled"),lingo.popupNone.format([tag]));
		}
		createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
		var h = createTiddlyLink(createTiddlyElement(popup,"li"),tag,false);
		createTiddlyText(h,lingo.openTag.format([tag]));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

// Event handler for 'open all' on a tiddler popup
function onClickTagOpenAll(ev)
{
	var e = ev ? ev : window.event;
	var tag = this.getAttribute("tag");
	var tagged = store.getTaggedTiddlers(tag);
	var titles = [];
	for(var t=0; t<tagged.length; t++)
		titles.push(tagged[t].title);
	story.displayTiddlers(this,titles);
	return false;
}

function onClickError(ev)
{
	var e = ev ? ev : window.event;
	var popup = Popup.create(this);
	var lines = this.getAttribute("errorText").split("\n");
	for(var t=0; t<lines.length; t++)
		createTiddlyElement(popup,"li",null,null,lines[t]);
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyDropDown(place,onchange,options,defaultValue)
{
	var sel = createTiddlyElement(place,"select");
	sel.onchange = onchange;
	for(var t=0; t<options.length; t++) {
		var e = createTiddlyElement(sel,"option",null,null,options[t].caption);
		e.value = options[t].name;
		if(options[t].name == defaultValue)
			e.selected = true;
	}
	return sel;
}

function createTiddlyPopup(place,caption,tooltip,tiddler)
{
	if(tiddler.text) {
		createTiddlyLink(place,caption,true);
		var btn = createTiddlyButton(place,glyph("downArrow"),tooltip,onClickTiddlyPopup,"tiddlerPopupButton");
		btn.tiddler = tiddler;
	} else {
		createTiddlyText(place,caption);
	}
}

function onClickTiddlyPopup(ev)
{
	var e = ev ? ev : window.event;
	var tiddler = this.tiddler;
	if(tiddler.text) {
		var popup = Popup.create(this,"div","popupTiddler");
		wikify(tiddler.text,popup,null,tiddler);
		Popup.show();
	}
	if(e) e.cancelBubble = true;
	if(e && e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyError(place,title,text)
{
	var btn = createTiddlyButton(place,title,null,onClickError,"errorButton");
	if(text) btn.setAttribute("errorText",text);
}

function merge(dst,src,preserveExisting)
{
	for(p in src) {
		if(!preserveExisting || dst[p] === undefined)
			dst[p] = src[p];
	}
	return dst;
}

// Returns a string containing the description of an exception, optionally prepended by a message
function exceptionText(e,message)
{
	var s = e.description ? e.description : e.toString();
	return message ? "%0:\n%1".format([message,s]) : s;
}

// Displays an alert of an exception description with optional message
function showException(e,message)
{
	alert(exceptionText(e,message));
}

function alertAndThrow(m)
{
	alert(m);
	throw(m);
}

function glyph(name)
{
	var g = config.glyphs;
	var b = g.currBrowser;
	if(b == null) {
		b = 0;
		while(!g.browsers[b]() && b < g.browsers.length-1)
			b++;
		g.currBrowser = b;
	}
	if(!g.codes[name])
		return "";
	return g.codes[name][b];
}
//-
//- Animation engine
//-

function Animator()
{
	this.running = 0; // Incremented at start of each animation, decremented afterwards. If zero, the interval timer is disabled
	this.timerID = 0; // ID of the timer used for animating
	this.animations = []; // List of animations in progress
	return this;
}

// Start animation engine
Animator.prototype.startAnimating = function() // Variable number of arguments
{
	for(var t=0; t<arguments.length; t++)
		this.animations.push(arguments[t]);
	if(this.running == 0) {
		var me = this;
		this.timerID = window.setInterval(function() {me.doAnimate(me);},10);
	}
	this.running += arguments.length;
};

// Perform an animation engine tick, calling each of the known animation modules
Animator.prototype.doAnimate = function(me)
{
	var a = 0;
	while(a < me.animations.length) {
		var animation = me.animations[a];
		if(animation.tick()) {
			a++;
		} else {
			me.animations.splice(a,1);
			if(--me.running == 0)
				window.clearInterval(me.timerID);
		}
	}
};

// Map a 0..1 value to 0..1, but slow down at the start and end
Animator.slowInSlowOut = function(progress)
{
	return(1-((Math.cos(progress * Math.PI)+1)/2));
};

//--
//-- Morpher animation
//--

// Animate a set of properties of an element
function Morpher(element,duration,properties,callback)
{
	this.element = element;
	this.duration = duration;
	this.properties = properties;
	this.startTime = new Date();
	this.endTime = Number(this.startTime) + duration;
	this.callback = callback;
	this.tick();
	return this;
}

Morpher.prototype.assignStyle = function(element,style,value)
{
	switch(style) {
		case "-tw-vertScroll":
			window.scrollTo(findScrollX(),value);
			break;
		case "-tw-horizScroll":
			window.scrollTo(value,findScrollY());
			break;
		default:
			element.style[style] = value;
			break;
	}
};

Morpher.prototype.stop = function()
{
	for(var t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.atEnd !== undefined) {
			this.assignStyle(this.element,p.style,p.atEnd);
		}
	}
	if(this.callback)
		this.callback(this.element,this.properties);
};

Morpher.prototype.tick = function()
{
	var currTime = Number(new Date());
	progress = Animator.slowInSlowOut(Math.min(1,(currTime-this.startTime)/this.duration));
	for(var t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.start !== undefined && p.end !== undefined) {
			var template = p.template ? p.template : "%0";
			switch(p.format) {
				case undefined:
				case "style":
					var v = p.start + (p.end-p.start) * progress;
					this.assignStyle(this.element,p.style,template.format([v]));
					break;
				case "color":
					break;
			}
		}
	}
	if(currTime >= this.endTime) {
		this.stop();
		return false;
	}
	return true;
};

//--
//-- Zoomer animation
//--

function Zoomer(text,startElement,targetElement,unused)
{
	var e = createTiddlyElement(document.body,"div",null,"zoomer");
	createTiddlyElement(e,"div",null,null,text);
	var winWidth = findWindowWidth();
	var winHeight = findWindowHeight();
	var p = [
		{style: 'left', start: findPosX(startElement), end: findPosX(targetElement), template: '%0px'},
		{style: 'top', start: findPosY(startElement), end: findPosY(targetElement), template: '%0px'},
		{style: 'width', start: Math.min(startElement.scrollWidth,winWidth), end: Math.min(targetElement.scrollWidth,winWidth), template: '%0px', atEnd: 'auto'},
		{style: 'height', start: Math.min(startElement.scrollHeight,winHeight), end: Math.min(targetElement.scrollHeight,winHeight), template: '%0px', atEnd: 'auto'},
		{style: 'fontSize', start: 8, end: 24, template: '%0pt'}
	];
	var c = function(element,properties) {removeNode(element);};
	return new Morpher(e,config.animDuration,p,c);
}

//--
//-- Scroller animation
//--

function Scroller(targetElement,unused)
{
	var p = [
		{style: '-tw-vertScroll', start: findScrollY(), end: ensureVisible(targetElement)}
	];
	return new Morpher(targetElement,config.animDuration,p);
}

//--
//-- Slider animation
//--

// deleteMode - "none", "all" [delete target element and it's children], [only] "children" [but not the target element]
function Slider(element,opening,unused,deleteMode)
{
	element.style.overflow = 'hidden';
	if(opening)
		element.style.height = '0px'; // Resolves a Firefox flashing bug
	element.style.display = 'block';
	var left = findPosX(element);
	var width = element.scrollWidth;
	var height = element.scrollHeight;
	var winWidth = findWindowWidth();
	var p = [];
	var c = null;
	if(opening) {
		p.push({style: 'height', start: 0, end: height, template: '%0px', atEnd: 'auto'});
		p.push({style: 'opacity', start: 0, end: 1, template: '%0'});
		p.push({style: 'filter', start: 0, end: 100, template: 'alpha(opacity:%0)'});
	} else {
		p.push({style: 'height', start: height, end: 0, template: '%0px'});
		p.push({style: 'display', atEnd: 'none'});
		p.push({style: 'opacity', start: 1, end: 0, template: '%0'});
		p.push({style: 'filter', start: 100, end: 0, template: 'alpha(opacity:%0)'});
		switch(deleteMode) {
			case "all":
				c = function(element,properties) {removeNode(element);};
				break;
			case "children":
				c = function(element,properties) {removeChildren(element);};
				break;
		}
	}
	return new Morpher(element,config.animDuration,p,c);
}

//--
//-- Popup menu
//--

var Popup = {
	stack: [] // Array of objects with members root: and popup:
	};

Popup.create = function(root,elem,theClass)
{
	Popup.remove();
	var popup = createTiddlyElement(document.body,elem ? elem : "ol","popup",theClass ? theClass : "popup");
	Popup.stack.push({root: root, popup: popup});
	return popup;
};

Popup.onDocumentClick = function(ev)
{
	var e = ev ? ev : window.event;
	if(e.eventPhase == undefined)
		Popup.remove();
	else if(e.eventPhase == Event.BUBBLING_PHASE || e.eventPhase == Event.AT_TARGET)
		Popup.remove();
	return true;
};

Popup.show = function(unused1,unused2)
{
	var curr = Popup.stack[Popup.stack.length-1];
	this.place(curr.root,curr.popup);
	addClass(curr.root,"highlight");
	if(config.options.chkAnimate && anim && typeof Scroller == "function")
		anim.startAnimating(new Scroller(curr.popup));
	else
		window.scrollTo(0,ensureVisible(curr.popup));
};

Popup.place = function(root,popup,offset)
{
	if(!offset) var offset = {x:0, y:0};
	var rootLeft = findPosX(root);
	var rootTop = findPosY(root);
	var rootHeight = root.offsetHeight;
	var popupLeft = rootLeft + offset.x;
	var popupTop = rootTop + rootHeight + offset.y;
	var winWidth = findWindowWidth();
	if(popup.offsetWidth > winWidth*0.75)
		popup.style.width = winWidth*0.75 + "px";
	var popupWidth = popup.offsetWidth;
	if(popupLeft + popupWidth > winWidth)
		popupLeft = winWidth - popupWidth;
	popup.style.left = popupLeft + "px";
	popup.style.top = popupTop + "px";
	popup.style.display = "block";
};

Popup.remove = function()
{
	if(Popup.stack.length > 0) {
		Popup.removeFrom(0);
	}
};

Popup.removeFrom = function(from)
{
	for(var t=Popup.stack.length-1; t>=from; t--) {
		var p = Popup.stack[t];
		removeClass(p.root,"highlight");
		removeNode(p.popup);
	}
	Popup.stack = Popup.stack.slice(0,from);
};

//--
//-- Wizard support
//--

function Wizard(elem)
{
	if(elem) {
		this.formElem = findRelated(elem,"wizard","className");
		this.bodyElem = findRelated(this.formElem.firstChild,"wizardBody","className","nextSibling");
		this.footElem = findRelated(this.formElem.firstChild,"wizardFooter","className","nextSibling");
	} else {
		this.formElem = null;
		this.bodyElem = null;
		this.footElem = null;
	}
}

Wizard.prototype.setValue = function(name,value)
{
	if(this.formElem)
		this.formElem[name] = value;
};

Wizard.prototype.getValue = function(name)
{
	return this.formElem ? this.formElem[name] : null;
};

Wizard.prototype.createWizard = function(place,title)
{
	this.formElem = createTiddlyElement(place,"form",null,"wizard");
	createTiddlyElement(this.formElem,"h1",null,null,title);
	this.bodyElem = createTiddlyElement(this.formElem,"div",null,"wizardBody");
	this.footElem = createTiddlyElement(this.formElem,"div",null,"wizardFooter");
};

Wizard.prototype.clear = function()
{
	removeChildren(this.bodyElem);
};

Wizard.prototype.setButtons = function(buttonInfo,status)
{
	removeChildren(this.footElem);
	for(var t=0; t<buttonInfo.length; t++) {
		createTiddlyButton(this.footElem,buttonInfo[t].caption,buttonInfo[t].tooltip,buttonInfo[t].onClick);
		insertSpacer(this.footElem);
		}
	if(typeof status == "string") {
		createTiddlyElement(this.footElem,"span",null,"status",status);
	}
};

Wizard.prototype.addStep = function(stepTitle,html)
{
	removeChildren(this.bodyElem);
	var w = createTiddlyElement(this.bodyElem,"div");
	createTiddlyElement(w,"h2",null,null,stepTitle);
	var step = createTiddlyElement(w,"div",null,"wizardStep");
	step.innerHTML = html;
	applyHtmlMacros(step,tiddler);
};

Wizard.prototype.getElement = function(name)
{
	return this.formElem.elements[name];
};

//--
//-- ListView gadget
//--

var ListView = {};

// Create a listview
ListView.create = function(place,listObject,listTemplate,callback,className)
{
	var table = createTiddlyElement(place,"table",null,className ? className : "listView twtable");
	var thead = createTiddlyElement(table,"thead");
	var r = createTiddlyElement(thead,"tr");
	for(var t=0; t<listTemplate.columns.length; t++) {
		var columnTemplate = listTemplate.columns[t];
		var c = createTiddlyElement(r,"th");
		var colType = ListView.columnTypes[columnTemplate.type];
		if(colType && colType.createHeader)
			colType.createHeader(c,columnTemplate,t);
	}
	var tbody = createTiddlyElement(table,"tbody");
	for(var rc=0; rc<listObject.length; rc++) {
		rowObject = listObject[rc];
		r = createTiddlyElement(tbody,"tr");
		for(c=0; c<listTemplate.rowClasses.length; c++) {
			if(rowObject[listTemplate.rowClasses[c].field])
				addClass(r,listTemplate.rowClasses[c].className);
		}
		rowObject.rowElement = r;
		rowObject.colElements = {};
		for(var cc=0; cc<listTemplate.columns.length; cc++) {
			c = createTiddlyElement(r,"td");
			columnTemplate = listTemplate.columns[cc];
			var field = columnTemplate.field;
			colType = ListView.columnTypes[columnTemplate.type];
			if(colType && colType.createItem)
				colType.createItem(c,rowObject,field,columnTemplate,cc,rc);
			rowObject.colElements[field] = c;
		}
	}
	if(callback && listTemplate.actions)
		createTiddlyDropDown(place,ListView.getCommandHandler(callback),listTemplate.actions);
	if(callback && listTemplate.buttons) {
		for(t=0; t<listTemplate.buttons.length; t++) {
			var a = listTemplate.buttons[t];
			if(a && a.name != "")
				createTiddlyButton(place,a.caption,null,ListView.getCommandHandler(callback,a.name,a.allowEmptySelection));
		}
	}
	return table;
};

ListView.getCommandHandler = function(callback,name,allowEmptySelection)
{
	return function(e) {
		var view = findRelated(this,"TABLE",null,"previousSibling");
		var tiddlers = [];
		ListView.forEachSelector(view,function(e,rowName) {
					if(e.checked)
						tiddlers.push(rowName);
					});
		if(tiddlers.length == 0 && !allowEmptySelection) {
			alert(config.messages.nothingSelected);
		} else {
			if(this.nodeName.toLowerCase() == "select") {
				callback(view,this.value,tiddlers);
				this.selectedIndex = 0;
			} else {
				callback(view,name,tiddlers);
			}
		}
	};
};

// Invoke a callback for each selector checkbox in the listview
ListView.forEachSelector = function(view,callback)
{
	var checkboxes = view.getElementsByTagName("input");
	var hadOne = false;
	for(var t=0; t<checkboxes.length; t++) {
		var cb = checkboxes[t];
		if(cb.getAttribute("type") == "checkbox") {
			var rn = cb.getAttribute("rowName");
			if(rn) {
				callback(cb,rn);
				hadOne = true;
			}
		}
	}
	return hadOne;
};

ListView.getSelectedRows = function(view)
{
	var rowNames = [];
	ListView.forEachSelector(view,function(e,rowName) {
				if(e.checked)
					rowNames.push(rowName);
				});
	return rowNames;
};

ListView.columnTypes = {};

ListView.columnTypes.String = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyText(place,columnTemplate.title);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v);
		}
};

ListView.columnTypes.WikiText = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				wikify(v,place,null,null);
		}
};

ListView.columnTypes.Tiddler = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined && v.title)
				createTiddlyPopup(place,v.title,config.messages.listView.tiddlerTooltip,v);
		}
};

ListView.columnTypes.Size = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var t = 0;
				while(t<config.messages.sizeTemplates.length-1 && v<config.messages.sizeTemplates[t].unit)
					t++;
				createTiddlyText(place,config.messages.sizeTemplates[t].template.format([Math.round(v/config.messages.sizeTemplates[t].unit)]));
			}
		}
};

ListView.columnTypes.Link = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			var c = columnTemplate.text;
			if(v != undefined)
				createTiddlyText(createExternalLink(place,v),c ? c : v);
		}
};

ListView.columnTypes.Date = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v.formatString(columnTemplate.dateFormat));
		}
};

ListView.columnTypes.StringList = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				for(var t=0; t<v.length; t++) {
					createTiddlyText(place,v[t]);
					createTiddlyElement(place,"br");
				}
			}
		}
};

ListView.columnTypes.Selector = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyCheckbox(place,null,false,this.onHeaderChange);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],null);
			e.setAttribute("rowName",listObject[columnTemplate.rowName]);
		},
	onHeaderChange: function(e)
		{
			var state = this.checked;
			var view = findRelated(this,"TABLE");
			if(!view)
				return;
			ListView.forEachSelector(view,function(e,rowName) {
								e.checked = state;
							});
		}
};

ListView.columnTypes.Tags = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var tags = listObject[field];
			createTiddlyText(place,String.encodeTiddlyLinkList(tags));
		}
};

ListView.columnTypes.Boolean = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			if(listObject[field] == true)
				createTiddlyText(place,columnTemplate.trueText);
			if(listObject[field] == false)
				createTiddlyText(place,columnTemplate.falseText);
		}
};

ListView.columnTypes.TagCheckbox = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],this.onChange);
			e.setAttribute("tiddler",listObject.title);
			e.setAttribute("tag",columnTemplate.tag);
		},
	onChange : function(e)
		{
			var tag = this.getAttribute("tag");
			var tiddler = this.getAttribute("tiddler");
			store.setTiddlerTag(tiddler,this.checked,tag);
		}
};

ListView.columnTypes.TiddlerLink = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var link = createTiddlyLink(place,listObject[columnTemplate.tiddlerLink],false,null);
				createTiddlyText(link,listObject[field]);
			}
		}
};

//--
//-- Augmented methods for the JavaScript Number(), Array(), String() and Date() objects
//--

// Clamp a number to a range
Number.prototype.clamp = function(min,max)
{
	var c = this;
	if(c < min)
		c = min;
	if(c > max)
		c = max;
	return c;
};

// Add indexOf function if browser does not support it
if(!Array.indexOf) {
Array.prototype.indexOf = function(item,from)
{
	if(!from)
		from = 0;
	for(var i=from; i<this.length; i++) {
		if(this[i] === item)
			return i;
	}
	return -1;
};}

// Find an entry in a given field of the members of an array
Array.prototype.findByField = function(field,value)
{
	for(var t=0; t<this.length; t++) {
		if(this[t][field] == value)
			return t;
	}
	return null;
};

// Return whether an entry exists in an array
Array.prototype.contains = function(item)
{
	return this.indexOf(item) != -1;
};

// Adds, removes or toggles a particular value within an array
//  value - value to add
//  mode - +1 to add value, -1 to remove value, 0 to toggle it
Array.prototype.setItem = function(value,mode)
{
	var p = this.indexOf(value);
	if(mode == 0)
		mode = (p == -1) ? +1 : -1;
	if(mode == +1) {
		if(p == -1)
			this.push(value);
	} else if(mode == -1) {
		if(p != -1)
			this.splice(p,1);
	}
};

// Return whether one of a list of values exists in an array
Array.prototype.containsAny = function(items)
{
	for(var i=0; i<items.length; i++) {
		if (this.indexOf(items[i]) != -1)
			return true;
	}
	return false;
};

// Return whether all of a list of values exists in an array
Array.prototype.containsAll = function(items)
{
	for (var i = 0; i<items.length; i++) {
		if (this.indexOf(items[i]) == -1)
			return false;
	}
	return true;
};

// Push a new value into an array only if it is not already present in the array. If the optional unique parameter is false, it reverts to a normal push
Array.prototype.pushUnique = function(item,unique)
{
	if(unique === false) {
		this.push(item);
	} else {
		if(this.indexOf(item) == -1)
			this.push(item);
	}
};

Array.prototype.remove = function(item)
{
	var p = this.indexOf(item);
	if(p != -1)
		this.splice(p,1);
};

// Get characters from the right end of a string
String.prototype.right = function(n)
{
	return n < this.length ? this.slice(this.length-n) : this;
};

// Trim whitespace from both ends of a string
String.prototype.trim = function()
{
	return this.replace(/^\s*|\s*$/g,"");
};

// Convert a string from a CSS style property name to a JavaScript style name ("background-color" -> "backgroundColor")
String.prototype.unDash = function()
{
	var s = this.split("-");
	if(s.length > 1) {
		for(var t=1; t<s.length; t++)
			s[t] = s[t].substr(0,1).toUpperCase() + s[t].substr(1);
	}
	return s.join("");
};

// Substitute substrings from an array into a format string that includes '%1'-type specifiers
String.prototype.format = function(substrings)
{
	var subRegExp = /(?:%(\d+))/mg;
	var currPos = 0;
	var r = [];
	do {
		var match = subRegExp.exec(this);
		if(match && match[1]) {
			if(match.index > currPos)
				r.push(this.substring(currPos,match.index));
			r.push(substrings[parseInt(match[1])]);
			currPos = subRegExp.lastIndex;
		}
	} while(match);
	if(currPos < this.length)
		r.push(this.substring(currPos,this.length));
	return r.join("");
};

// Escape any special RegExp characters with that character preceded by a backslash
String.prototype.escapeRegExp = function()
{
	var s = "\\^$*+?()=!|,{}[].";
	var c = this;
	for(var t=0; t<s.length; t++)
		c = c.replace(new RegExp("\\" + s.substr(t,1),"g"),"\\" + s.substr(t,1));
	return c;
};

// Convert "\" to "\s", newlines to "\n" (and remove carriage returns)
String.prototype.escapeLineBreaks = function()
{
	return this.replace(/\\/mg,"\\s").replace(/\n/mg,"\\n").replace(/\r/mg,"");
};

// Convert "\n" to newlines, "\b" to " ", "\s" to "\" (and remove carriage returns)
String.prototype.unescapeLineBreaks = function()
{
	return this.replace(/\\n/mg,"\n").replace(/\\b/mg," ").replace(/\\s/mg,"\\").replace(/\r/mg,"");
};

// Convert & to "&amp;", < to "&lt;", > to "&gt;" and " to "&quot;"
String.prototype.htmlEncode = function()
{
	return this.replace(/&/mg,"&amp;").replace(/</mg,"&lt;").replace(/>/mg,"&gt;").replace(/\"/mg,"&quot;");
};

// Convert "&amp;" to &, "&lt;" to <, "&gt;" to > and "&quot;" to "
String.prototype.htmlDecode = function()
{
	return this.replace(/&lt;/mg,"<").replace(/&gt;/mg,">").replace(/&quot;/mg,"\"").replace(/&amp;/mg,"&");
};

// Convert a string to it's JSON representation by encoding control characters, double quotes and backslash. See json.org
String.prototype.toJSONString = function()
{
	var m = {
		'\b': '\\b',
		'\f': '\\f',
		'\n': '\\n',
		'\r': '\\r',
		'\t': '\\t',
		'"' : '\\"',
		'\\': '\\\\'
		};
	var replaceFn = function(a,b) {
		var c = m[b];
		if(c)
			return c;
		c = b.charCodeAt();
		return '\\u00' + Math.floor(c / 16).toString(16) + (c % 16).toString(16);
		};
	if(/["\\\x00-\x1f]/.test(this))
		return '"' + this.replace(/([\x00-\x1f\\"])/g,replaceFn) + '"';
	return '"' + this + '"';
};

// Parse a space-separated string of name:value parameters
// The result is an array of objects:
//   result[0] = object with a member for each parameter name, value of that member being an array of values
//   result[1..n] = one object for each parameter, with 'name' and 'value' members
String.prototype.parseParams = function(defaultName,defaultValue,allowEval,noNames,cascadeDefaults)
{
	var parseToken = function(match,p) {
		var n;
		if(match[p]) // Double quoted
			n = match[p];
		else if(match[p+1]) // Single quoted
			n = match[p+1];
		else if(match[p+2]) // Double-square-bracket quoted
			n = match[p+2];
		else if(match[p+3]) // Double-brace quoted
			try {
				n = match[p+3];
				if(allowEval)
					n = window.eval(n);
			} catch(ex) {
				throw "Unable to evaluate {{" + match[p+3] + "}}: " + exceptionText(ex);
			}
		else if(match[p+4]) // Unquoted
			n = match[p+4];
		else if(match[p+5]) // empty quote
			n = "";
		return n;
	};
	var r = [{}];
	var dblQuote = "(?:\"((?:(?:\\\\\")|[^\"])+)\")";
	var sngQuote = "(?:'((?:(?:\\\\\')|[^'])+)')";
	var dblSquare = "(?:\\[\\[((?:\\s|\\S)*?)\\]\\])";
	var dblBrace = "(?:\\{\\{((?:\\s|\\S)*?)\\}\\})";
	var unQuoted = noNames ? "([^\"'\\s]\\S*)" : "([^\"':\\s][^\\s:]*)";
	var emptyQuote = "((?:\"\")|(?:''))";
	var skipSpace = "(?:\\s*)";
	var token = "(?:" + dblQuote + "|" + sngQuote + "|" + dblSquare + "|" + dblBrace + "|" + unQuoted + "|" + emptyQuote + ")";
	var re = noNames ? new RegExp(token,"mg") : new RegExp(skipSpace + token + skipSpace + "(?:(\\:)" + skipSpace + token + ")?","mg");
	var params = [];
	do {
		var match = re.exec(this);
		if(match) {
			var n = parseToken(match,1);
			if(noNames) {
				r.push({name:"",value:n});
			} else {
				var v = parseToken(match,8);
				if(v == null && defaultName) {
					v = n;
					n = defaultName;
				} else if(v == null && defaultValue) {
					v = defaultValue;
				}
				r.push({name:n,value:v});
				if(cascadeDefaults) {
					defaultName = n;
					defaultValue = v;
				}
			}
		}
	} while(match);
	// Summarise parameters into first element
	for(var t=1; t<r.length; t++) {
		if(r[0][r[t].name])
			r[0][r[t].name].push(r[t].value);
		else
			r[0][r[t].name] = [r[t].value];
	}
	return r;
};

// Process a string list of macro parameters into an array. Parameters can be quoted with "", '',
// [[]], {{ }} or left unquoted (and therefore space-separated). Double-braces {{}} results in
// an *evaluated* parameter: e.g. {{config.options.txtUserName}} results in the current user's name.
String.prototype.readMacroParams = function()
{
	var p = this.parseParams("list",null,true,true);
	var n = [];
	for(var t=1; t<p.length; t++)
		n.push(p[t].value);
	return n;
};

// Process a string list of unique tiddler names into an array. Tiddler names that have spaces in them must be [[bracketed]]
String.prototype.readBracketedList = function(unique)
{
	var p = this.parseParams("list",null,false,true);
	var n = [];
	for(var t=1; t<p.length; t++)
		n.pushUnique(p[t].value,unique);
	return n;
};

// Returns array with start and end index of chunk between given start and end marker, or undefined.
String.prototype.getChunkRange = function(start,end)
{
	var s = this.indexOf(start);
	if(s != -1) {
		s += start.length;
		var e = this.indexOf(end,s);
		if(e != -1)
			return [s,e];
	}
};

// Replace a chunk of a string given start and end markers
String.prototype.replaceChunk = function(start,end,sub)
{
	var r = this.getChunkRange(start,end);
	return r ? this.substring(0,r[0]) + sub + this.substring(r[1]) : this;
};

// Returns a chunk of a string between start and end markers, or undefined
String.prototype.getChunk = function(start,end)
{
	var r = this.getChunkRange(start,end);
	if(r)
		return this.substring(r[0],r[1]);
};


// Static method to bracket a string with double square brackets if it contains a space
String.encodeTiddlyLink = function(title)
{
	return title.indexOf(" ") == -1 ? title : "[[" + title + "]]";
};

// Static method to encodeTiddlyLink for every item in an array and join them with spaces
String.encodeTiddlyLinkList = function(list)
{
	if(list) {
		var results = [];
		for(var t=0; t<list.length; t++)
			results.push(String.encodeTiddlyLink(list[t]));
		return results.join(" ");
	} else {
		return "";
	}
};

// Convert a string as a sequence of name:"value" pairs into a hashmap
String.prototype.decodeHashMap = function()
{
	var fields = this.parseParams("anon","",false);
	var r = {};
	for(var t=1; t<fields.length; t++)
		r[fields[t].name] = fields[t].value;
	return r;
};

// Static method to encode a hashmap into a name:"value"... string
String.encodeHashMap = function(hashmap)
{
	var r = [];
	for(var t in hashmap)
		r.push(t + ':"' + hashmap[t] + '"');
	return r.join(" ");
};

// Static method to left-pad a string with 0s to a certain width
String.zeroPad = function(n,d)
{
	var s = n.toString();
	if(s.length < d)
		s = "000000000000000000000000000".substr(0,d-s.length) + s;
	return s;
};

String.prototype.startsWith = function(prefix)
{
	return !prefix || this.substring(0,prefix.length) == prefix;
};

// Returns the first value of the given named parameter.
function getParam(params,name,defaultValue)
{
	if(!params)
		return defaultValue;
	var p = params[0][name];
	return p ? p[0] : defaultValue;
}

// Returns the first value of the given boolean named parameter.
function getFlag(params,name,defaultValue)
{
	return !!getParam(params,name,defaultValue);
}

// Substitute date components into a string
Date.prototype.formatString = function(template)
{
	var t = template.replace(/0hh12/g,String.zeroPad(this.getHours12(),2));
	t = t.replace(/hh12/g,this.getHours12());
	t = t.replace(/0hh/g,String.zeroPad(this.getHours(),2));
	t = t.replace(/hh/g,this.getHours());
	t = t.replace(/mmm/g,config.messages.dates.shortMonths[this.getMonth()]);
	t = t.replace(/0mm/g,String.zeroPad(this.getMinutes(),2));
	t = t.replace(/mm/g,this.getMinutes());
	t = t.replace(/0ss/g,String.zeroPad(this.getSeconds(),2));
	t = t.replace(/ss/g,this.getSeconds());
	t = t.replace(/[ap]m/g,this.getAmPm().toLowerCase());
	t = t.replace(/[AP]M/g,this.getAmPm().toUpperCase());
	t = t.replace(/wYYYY/g,this.getYearForWeekNo());
	t = t.replace(/wYY/g,String.zeroPad(this.getYearForWeekNo()-2000,2));
	t = t.replace(/YYYY/g,this.getFullYear());
	t = t.replace(/YY/g,String.zeroPad(this.getFullYear()-2000,2));
	t = t.replace(/MMM/g,config.messages.dates.months[this.getMonth()]);
	t = t.replace(/0MM/g,String.zeroPad(this.getMonth()+1,2));
	t = t.replace(/MM/g,this.getMonth()+1);
	t = t.replace(/0WW/g,String.zeroPad(this.getWeek(),2));
	t = t.replace(/WW/g,this.getWeek());
	t = t.replace(/DDD/g,config.messages.dates.days[this.getDay()]);
	t = t.replace(/ddd/g,config.messages.dates.shortDays[this.getDay()]);
	t = t.replace(/0DD/g,String.zeroPad(this.getDate(),2));
	t = t.replace(/DDth/g,this.getDate()+this.daySuffix());
	t = t.replace(/DD/g,this.getDate());
	return t;
};

Date.prototype.getWeek = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if (d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week to calculate weekNo
	var n = Math.floor((dt.getTime()-new Date(dt.getFullYear(),0,1)+3600000)/86400000);
	return Math.floor(n/7)+1;
};

Date.prototype.getYearForWeekNo = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if (d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week
	return dt.getFullYear();
};

Date.prototype.getHours12 = function()
{
	var h = this.getHours();
	return h > 12 ? h-12 : ( h > 0 ? h : 12 );
};

Date.prototype.getAmPm = function()
{
	return this.getHours() >= 12 ? config.messages.dates.pm : config.messages.dates.am;
};

Date.prototype.daySuffix = function()
{
	return config.messages.dates.daySuffixes[this.getDate()-1];
};

// Convert a date to local YYYYMMDDHHMM string format
Date.prototype.convertToLocalYYYYMMDDHHMM = function()
{
	return String.zeroPad(this.getFullYear(),4) + String.zeroPad(this.getMonth()+1,2) + String.zeroPad(this.getDate(),2) + String.zeroPad(this.getHours(),2) + String.zeroPad(this.getMinutes(),2);
};

// Convert a date to UTC YYYYMMDDHHMM string format
Date.prototype.convertToYYYYMMDDHHMM = function()
{
	return String.zeroPad(this.getUTCFullYear(),4) + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2);
};

// Convert a date to UTC YYYYMMDD.HHMMSSMMM string format
Date.prototype.convertToYYYYMMDDHHMMSSMMM = function()
{
	return String.zeroPad(this.getUTCFullYear(),4) + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + "." + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2) + String.zeroPad(this.getUTCSeconds(),2) + String.zeroPad(this.getUTCMilliseconds(),4);
};

// Static method to create a date from a UTC YYYYMMDDHHMM format string
Date.convertFromYYYYMMDDHHMM = function(d)
{
	return new Date(Date.UTC(parseInt(d.substr(0,4),10),
			parseInt(d.substr(4,2),10)-1,
			parseInt(d.substr(6,2),10),
			parseInt(d.substr(8,2),10),
			parseInt(d.substr(10,2),10),0,0));
};

//--
//-- Crypto functions and associated conversion routines
//--

// Crypto "namespace"
function Crypto() {}

// Convert a string to an array of big-endian 32-bit words
Crypto.strToBe32s = function(str)
{
	var be = Array();
	var len = Math.floor(str.length/4);
	var i, j;
	for(i=0, j=0; i<len; i++, j+=4) {
		be[i] = ((str.charCodeAt(j)&0xff) << 24)|((str.charCodeAt(j+1)&0xff) << 16)|((str.charCodeAt(j+2)&0xff) << 8)|(str.charCodeAt(j+3)&0xff);
	}
	while (j<str.length) {
		be[j>>2] |= (str.charCodeAt(j)&0xff)<<(24-(j*8)%32);
		j++;
	}
	return be;
};

// Convert an array of big-endian 32-bit words to a string
Crypto.be32sToStr = function(be)
{
	var str = "";
	for(var i=0;i<be.length*32;i+=8)
		str += String.fromCharCode((be[i>>5]>>>(24-i%32)) & 0xff);
	return str;
};

// Convert an array of big-endian 32-bit words to a hex string
Crypto.be32sToHex = function(be)
{
	var hex = "0123456789ABCDEF";
	var str = "";
	for(var i=0;i<be.length*4;i++)
		str += hex.charAt((be[i>>2]>>((3-i%4)*8+4))&0xF) + hex.charAt((be[i>>2]>>((3-i%4)*8))&0xF);
	return str;
};

// Return, in hex, the SHA-1 hash of a string
Crypto.hexSha1Str = function(str)
{
	return Crypto.be32sToHex(Crypto.sha1Str(str));
};

// Return the SHA-1 hash of a string
Crypto.sha1Str = function(str)
{
	return Crypto.sha1(Crypto.strToBe32s(str),str.length);
};

// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
Crypto.sha1 = function(x,blen)
{
	// Add 32-bit integers, wrapping at 32 bits
	add32 = function(a,b)
	{
		var lsw = (a&0xFFFF)+(b&0xFFFF);
		var msw = (a>>16)+(b>>16)+(lsw>>16);
		return (msw<<16)|(lsw&0xFFFF);
	};
	// Add five 32-bit integers, wrapping at 32 bits
	add32x5 = function(a,b,c,d,e)
	{
		var lsw = (a&0xFFFF)+(b&0xFFFF)+(c&0xFFFF)+(d&0xFFFF)+(e&0xFFFF);
		var msw = (a>>16)+(b>>16)+(c>>16)+(d>>16)+(e>>16)+(lsw>>16);
		return (msw<<16)|(lsw&0xFFFF);
	};
	// Bitwise rotate left a 32-bit integer by 1 bit
	rol32 = function(n)
	{
		return (n>>>31)|(n<<1);
	};

	var len = blen*8;
	// Append padding so length in bits is 448 mod 512
	x[len>>5] |= 0x80 << (24-len%32);
	// Append length
	x[((len+64>>9)<<4)+15] = len;
	var w = Array(80);

	var k1 = 0x5A827999;
	var k2 = 0x6ED9EBA1;
	var k3 = 0x8F1BBCDC;
	var k4 = 0xCA62C1D6;

	var h0 = 0x67452301;
	var h1 = 0xEFCDAB89;
	var h2 = 0x98BADCFE;
	var h3 = 0x10325476;
	var h4 = 0xC3D2E1F0;

	for(var i=0;i<x.length;i+=16) {
		var j,t;
		var a = h0;
		var b = h1;
		var c = h2;
		var d = h3;
		var e = h4;
		for(j = 0;j<16;j++) {
			w[j] = x[i+j];
			t = add32x5(e,(a>>>27)|(a<<5),d^(b&(c^d)),w[j],k1);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
		}
		for(j=16;j<20;j++) {
			w[j] = rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16]);
			t = add32x5(e,(a>>>27)|(a<<5),d^(b&(c^d)),w[j],k1);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
		}
		for(j=20;j<40;j++) {
			w[j] = rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16]);
			t = add32x5(e,(a>>>27)|(a<<5),b^c^d,w[j],k2);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
		}
		for(j=40;j<60;j++) {
			w[j] = rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16]);
			t = add32x5(e,(a>>>27)|(a<<5),(b&c)|(d&(b|c)),w[j],k3);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
		}
		for(j=60;j<80;j++) {
			w[j] = rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16]);
			t = add32x5(e,(a>>>27)|(a<<5),b^c^d,w[j],k4);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
		}

		h0 = add32(h0,a);
		h1 = add32(h1,b);
		h2 = add32(h2,c);
		h3 = add32(h3,d);
		h4 = add32(h4,e);
	}
	return Array(h0,h1,h2,h3,h4);
};

//--
//-- RGB colour object
//--

// Construct an RGB colour object from a '#rrggbb', '#rgb' or 'rgb(n,n,n)' string or from separate r,g,b values
function RGB(r,g,b)
{
	this.r = 0;
	this.g = 0;
	this.b = 0;
	if(typeof r == "string") {
		if(r.substr(0,1) == "#") {
			if(r.length == 7) {
				this.r = parseInt(r.substr(1,2),16)/255;
				this.g = parseInt(r.substr(3,2),16)/255;
				this.b = parseInt(r.substr(5,2),16)/255;
			} else {
				this.r = parseInt(r.substr(1,1),16)/15;
				this.g = parseInt(r.substr(2,1),16)/15;
				this.b = parseInt(r.substr(3,1),16)/15;
			}
		} else {
			var rgbPattern = /rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/;
			var c = r.match(rgbPattern);
			if(c) {
				this.r = parseInt(c[1],10)/255;
				this.g = parseInt(c[2],10)/255;
				this.b = parseInt(c[3],10)/255;
			}
		}
	} else {
		this.r = r;
		this.g = g;
		this.b = b;
	}
	return this;
}

// Mixes this colour with another in a specified proportion
// c = other colour to mix
// f = 0..1 where 0 is this colour and 1 is the new colour
// Returns an RGB object
RGB.prototype.mix = function(c,f)
{
	return new RGB(this.r + (c.r-this.r) * f,this.g + (c.g-this.g) * f,this.b + (c.b-this.b) * f);
};

// Return an rgb colour as a #rrggbb format hex string
RGB.prototype.toString = function()
{
	return "#" + ("0" + Math.floor(this.r.clamp(0,1) * 255).toString(16)).right(2) +
				 ("0" + Math.floor(this.g.clamp(0,1) * 255).toString(16)).right(2) +
				 ("0" + Math.floor(this.b.clamp(0,1) * 255).toString(16)).right(2);
};

//--
//-- DOM utilities - many derived from www.quirksmode.org
//--

function drawGradient(place,horiz,colours)
{
	for(var t=0; t<= 100; t+=2) {
		var bar = document.createElement("div");
		place.appendChild(bar);
		bar.style.position = "absolute";
		bar.style.left = horiz ? t + "%" : 0;
		bar.style.top = horiz ? 0 : t + "%";
		bar.style.width = horiz ? (101-t) + "%" : "100%";
		bar.style.height = horiz ? "100%" : (101-t) + "%";
		bar.style.zIndex = -1;
		var f = t/100;
		var p = f*(colours.length-1);
		bar.style.backgroundColor = colours[Math.floor(p)].mix(colours[Math.ceil(p)],p-Math.floor(p)).toString();
	}
}

function createTiddlyText(theParent,theText)
{
	return theParent.appendChild(document.createTextNode(theText));
}

function createTiddlyCheckbox(theParent,caption,checked,onChange)
{
	var cb = document.createElement("input");
	cb.setAttribute("type","checkbox");
	cb.onclick = onChange;
	theParent.appendChild(cb);
	cb.checked = checked;
	cb.className = "chkOptionInput";
	if(caption)
		wikify(caption,theParent);
	return cb;
}

function createTiddlyElement(theParent,theElement,theID,theClass,theText)
{
	var e = document.createElement(theElement);
	if(theClass != null)
		e.className = theClass;
	if(theID != null)
		e.setAttribute("id",theID);
	if(theText != null)
		e.appendChild(document.createTextNode(theText));
	if(theParent != null)
		theParent.appendChild(e);
	return e;
}

function addEvent(obj,type,fn)
{
	if(obj.attachEvent) {
		obj['e'+type+fn] = fn;
		obj[type+fn] = function(){obj['e'+type+fn](window.event);};
		obj.attachEvent('on'+type,obj[type+fn]);
	} else {
		obj.addEventListener(type,fn,false);
	}
}

function removeEvent(obj,type,fn)
{
	if(obj.detachEvent) {
		obj.detachEvent('on'+type,obj[type+fn]);
		obj[type+fn] = null;
	} else {
		obj.removeEventListener(type,fn,false);
	}
}

function addClass(e,theClass)
{
	var currClass = e.className.split(" ");
	if(currClass.indexOf(theClass) == -1)
		e.className += " " + theClass;
}

function removeClass(e,theClass)
{
	var currClass = e.className.split(" ");
	var i = currClass.indexOf(theClass);
	while(i != -1) {
		currClass.splice(i,1);
		i = currClass.indexOf(theClass);
	}
	e.className = currClass.join(" ");
}

function hasClass(e,theClass)
{
	if(e.className) {
		if(e.className.split(" ").indexOf(theClass) != -1)
			return true;
	}
	return false;
}

// Find the closest relative with a given property value (property defaults to tagName, relative defaults to parentNode)
function findRelated(e,value,name,relative)
{
	name = name ? name : "tagName";
	relative = relative ? relative : "parentNode";
	if(name == "className") {
		while(e && !hasClass(e,value)) {
			e = e[relative];
		}
	} else {
		while(e && e[name] != value) {
			e = e[relative];
		}
	}
	return e;
}

// Resolve the target object of an event
function resolveTarget(e)
{
	var obj;
	if(e.target)
		obj = e.target;
	else if(e.srcElement)
		obj = e.srcElement;
	if(obj.nodeType == 3) // defeat Safari bug
		obj = obj.parentNode;
	return obj;
}

// Return the content of an element as plain text with no formatting
function getPlainText(e)
{
	var text = "";
	if(e.innerText)
		text = e.innerText;
	else if(e.textContent)
		text = e.textContent;
	return text;
}

// Get the scroll position for window.scrollTo necessary to scroll a given element into view
function ensureVisible(e)
{
	var posTop = findPosY(e);
	var posBot = posTop + e.offsetHeight;
	var winTop = findScrollY();
	var winHeight = findWindowHeight();
	var winBot = winTop + winHeight;
	if(posTop < winTop) {
		return posTop;
	} else if(posBot > winBot) {
		if(e.offsetHeight < winHeight)
			return posTop - (winHeight - e.offsetHeight);
		else
			return posTop;
	} else {
		return winTop;
	}
}

// Get the current width of the display window
function findWindowWidth()
{
	return window.innerWidth ? window.innerWidth : document.documentElement.clientWidth;
}

// Get the current height of the display window
function findWindowHeight()
{
	return window.innerHeight ? window.innerHeight : document.documentElement.clientHeight;
}

// Get the current horizontal page scroll position
function findScrollX()
{
	return window.scrollX ? window.scrollX : document.documentElement.scrollLeft;
}

// Get the current vertical page scroll position
function findScrollY()
{
	return window.scrollY ? window.scrollY : document.documentElement.scrollTop;
}

function findPosX(obj)
{
	var curleft = 0;
	while(obj.offsetParent) {
		curleft += obj.offsetLeft;
		obj = obj.offsetParent;
	}
	return curleft;
}

function findPosY(obj)
{
	var curtop = 0;
	while(obj.offsetParent) {
		curtop += obj.offsetTop;
		obj = obj.offsetParent;
	}
	return curtop;
}

// Blur a particular element
function blurElement(e)
{
	if(e != null && e.focus && e.blur) {
		e.focus();
		e.blur();
	}
}

// Create a non-breaking space
function insertSpacer(place)
{
	var e = document.createTextNode(String.fromCharCode(160));
	if(place)
		place.appendChild(e);
	return e;
}

// Remove all children of a node
function removeChildren(e)
{
	while(e && e.hasChildNodes())
		removeNode(e.firstChild);
}

// Remove a node and all it's children
function removeNode(e)
{
	scrubNode(e);
	e.parentNode.removeChild(e);
}

// Remove any event handlers or non-primitve custom attributes
function scrubNode(e)
{
	if(!config.browser.isIE)
		return;
	var att = e.attributes;
	if(att) {
		for(var t=0; t<att.length; t++) {
			var n = att[t].name;
			if(n !== 'style' && (typeof e[n] === 'function' || (typeof e[n] === 'object' && e[n] != null))) {
				try {
					e[n] = null;
				} catch(ex) {
				}
			}
		}
	}
	var c = e.firstChild;
	while(c) {
		scrubNode(c);
		c = c.nextSibling;
	}
}

// Add a stylesheet, replacing any previous custom stylesheet
function setStylesheet(s,id,doc)
{
	if(!id)
		id = "customStyleSheet";
	if(!doc)
		doc = document;
	var n = doc.getElementById(id);
	if(doc.createStyleSheet) {
		// Test for IE's non-standard createStyleSheet method
		if(n)
			n.parentNode.removeChild(n);
		// This failed without the &nbsp;
		doc.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style id='" + id + "'>" + s + "</style>");
	} else {
		if(n) {
			n.replaceChild(doc.createTextNode(s),n.firstChild);
		} else {
			n = doc.createElement("style");
			n.type = "text/css";
			n.id = id;
			n.appendChild(doc.createTextNode(s));
			doc.getElementsByTagName("head")[0].appendChild(n);
		}
	}
}

// Force the browser to do a document reflow when needed to workaround browser bugs
function forceReflow()
{
	if(config.browser.isGecko) {
		setStylesheet("body {top:-1em;margin-top:1em;}");
		setStylesheet("");
	}
}

// Replace the current selection of a textarea or text input and scroll it into view
function replaceSelection(e,text)
{
	if(e.setSelectionRange) {
		var oldpos = e.selectionStart;
		var isRange = e.selectionEnd > e.selectionStart;
		e.value = e.value.substr(0,e.selectionStart) + text + e.value.substr(e.selectionEnd);
		e.setSelectionRange(isRange ? oldpos : oldpos + text.length,oldpos + text.length);
		var linecount = e.value.split('\n').length;
		var thisline = e.value.substr(0,e.selectionStart).split('\n').length-1;
		e.scrollTop = Math.floor((thisline - e.rows / 2) * e.scrollHeight / linecount);
	} else if(document.selection) {
		var range = document.selection.createRange();
		if(range.parentElement() == e) {
			var isCollapsed = range.text == "";
			range.text = text;
			if(!isCollapsed) {
				range.moveStart('character', -text.length);
				range.select();
			}
		}
	}
}

// Returns the text of the given (text) node, possibly merging subsequent text nodes
function getNodeText(e)
{
	var t = "";
	while(e && e.nodeName == "#text") {
		t += e.nodeValue;
		e = e.nextSibling;
	}
	return t;
}

//--
//-- LoaderBase and SaverBase
//--

function LoaderBase() {}

LoaderBase.prototype.loadTiddler = function(store,node,tiddlers)
{
	var title = this.getTitle(store,node);
	if(title) {
		var tiddler = store.createTiddler(title);
		this.internalizeTiddler(store,tiddler,title,node);
		tiddlers.push(tiddler);
	}
};

LoaderBase.prototype.loadTiddlers = function(store,nodes)
{
	var tiddlers = [];
	for(var t = 0; t < nodes.length; t++) {
		try {
			this.loadTiddler(store,nodes[t],tiddlers);
		} catch(ex) {
			showException(ex,config.messages.tiddlerLoadError.format([this.getTitle(store,nodes[t])]));
		}
	}
	return tiddlers;
};

function SaverBase() {}

SaverBase.prototype.externalize = function(store)
{
	var results = [];
	var tiddlers = store.getTiddlers("title");
	for(var t = 0; t < tiddlers.length; t++)
		results.push(this.externalizeTiddler(store,tiddlers[t]));
	return results.join("\n");
};

//--
//-- TW21Loader (inherits from LoaderBase)
//--

function TW21Loader() {}

TW21Loader.prototype = new LoaderBase();

TW21Loader.prototype.getTitle = function(store,node)
{
	var title = null;
	if(node.getAttribute) {
		title = node.getAttribute("title");
		if(!title)
			title = node.getAttribute("tiddler");
	}
	if(!title && node.id) {
		var lenPrefix = store.idPrefix.length;
		if (node.id.substr(0,lenPrefix) == store.idPrefix)
			title = node.id.substr(lenPrefix);
	}
	return title;
};

TW21Loader.prototype.internalizeTiddler = function(store,tiddler,title,node)
{
	var e = node.firstChild;
	var text = null;
	if(node.getAttribute("tiddler")) {
		text = getNodeText(e).unescapeLineBreaks();
	} else {
		while(e.nodeName!="PRE" && e.nodeName!="pre") {
			e = e.nextSibling;
		}
		text = e.innerHTML.replace(/\r/mg,"").htmlDecode();
	}
	var modifier = node.getAttribute("modifier");
	var c = node.getAttribute("created");
	var m = node.getAttribute("modified");
	var created = c ? Date.convertFromYYYYMMDDHHMM(c) : version.date;
	var modified = m ? Date.convertFromYYYYMMDDHHMM(m) : created;
	var tags = node.getAttribute("tags");
	var fields = {};
	var attrs = node.attributes;
	for(var i = attrs.length-1; i >= 0; i--) {
		var name = attrs[i].name;
		if (attrs[i].specified && !TiddlyWiki.isStandardField(name)) {
			fields[name] = attrs[i].value.unescapeLineBreaks();
		}
	}
	tiddler.assign(title,text,modifier,modified,tags,created,fields);
	return tiddler;
};

//--
//-- TW21Saver (inherits from SaverBase)
//--

function TW21Saver() {}

TW21Saver.prototype = new SaverBase();

TW21Saver.prototype.externalizeTiddler = function(store,tiddler)
{
	try {
		var extendedAttributes = "";
		var usePre = config.options.chkUsePreForStorage;
		store.forEachField(tiddler,
			function(tiddler,fieldName,value) {
				// don't store stuff from the temp namespace
				if(typeof value != "string")
					value = "";
				if (!fieldName.match(/^temp\./))
					extendedAttributes += ' %0="%1"'.format([fieldName,value.escapeLineBreaks().htmlEncode()]);
			},true);
		var created = tiddler.created.convertToYYYYMMDDHHMM();
		var modified = tiddler.modified.convertToYYYYMMDDHHMM();
		var vdate = version.date.convertToYYYYMMDDHHMM();
		var attributes = tiddler.modifier ? ' modifier="' + tiddler.modifier.htmlEncode() + '"' : "";
		attributes += (usePre && modified == created) ? "" : ' modified="' + modified +'"';
		attributes += (usePre && created == vdate) ? "" :' created="' + created + '"';
		var tags = tiddler.getTags();
		if(!usePre || tags)
			attributes += ' tags="' + tags.htmlEncode() + '"';
		return ('<div %0="%1"%2%3>%4</'+'div>').format([
				usePre ? "title" : "tiddler",
				tiddler.title.htmlEncode(),
				attributes,
				extendedAttributes,
				usePre ? "\n<pre>" + tiddler.text.htmlEncode() + "</pre>\n" : tiddler.text.escapeLineBreaks().htmlEncode()
			]);
	} catch (ex) {
		throw exceptionText(ex,config.messages.tiddlerSaveError.format([tiddler.title]));
	}
};

//--
//-- Deprecated code
//--

// @Deprecated: Use createElementAndWikify and this.termRegExp instead
config.formatterHelpers.charFormatHelper = function(w)
{
	w.subWikify(createTiddlyElement(w.output,this.element),this.terminator);
};

// @Deprecated: Use enclosedTextHelper and this.lookaheadRegExp instead
config.formatterHelpers.monospacedByLineHelper = function(w)
{
	var lookaheadRegExp = new RegExp(this.lookahead,"mg");
	lookaheadRegExp.lastIndex = w.matchStart;
	var lookaheadMatch = lookaheadRegExp.exec(w.source);
	if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
		var text = lookaheadMatch[1];
		if(config.browser.isIE)
			text = text.replace(/\n/g,"\r");
		createTiddlyElement(w.output,"pre",null,null,text);
		w.nextMatch = lookaheadRegExp.lastIndex;
	}
};

// @Deprecated: Use <br> or <br /> instead of <<br>>
config.macros.br.handler = function(place)
{
	createTiddlyElement(place,"br");
};

// Find an entry in an array. Returns the array index or null
// @Deprecated: Use indexOf instead
Array.prototype.find = function(item)
{
	var i = this.indexOf(item);
	return i == -1 ? null : i;
};

// Load a tiddler from an HTML DIV. The caller should make sure to later call Tiddler.changed()
// @Deprecated: Use store.getLoader().internalizeTiddler instead
Tiddler.prototype.loadFromDiv = function(divRef,title)
{
	return store.getLoader().internalizeTiddler(store,this,title,divRef);
};

// Format the text for storage in an HTML DIV
// @Deprecated Use store.getSaver().externalizeTiddler instead.
Tiddler.prototype.saveToDiv = function()
{
	return store.getSaver().externalizeTiddler(store,this);
};

// @Deprecated: Use store.allTiddlersAsHtml() instead
function allTiddlersAsHtml()
{
	return store.allTiddlersAsHtml();
}

// @Deprecated: Use refreshPageTemplate instead
function applyPageTemplate(title)
{
	refreshPageTemplate(title);
}

// @Deprecated: Use story.displayTiddlers instead
function displayTiddlers(srcElement,titles,template,unused1,unused2,animate,unused3)
{
	story.displayTiddlers(srcElement,titles,template,animate);
}

// @Deprecated: Use story.displayTiddler instead
function displayTiddler(srcElement,title,template,unused1,unused2,animate,unused3)
{
	story.displayTiddler(srcElement,title,template,animate);
}

// @Deprecated: Use functions on right hand side directly instead
var createTiddlerPopup = Popup.create;
var scrollToTiddlerPopup = Popup.show;
var hideTiddlerPopup = Popup.remove;

// @Deprecated: Use right hand side directly instead
var regexpBackSlashEn = new RegExp("\\\\n","mg");
var regexpBackSlash = new RegExp("\\\\","mg");
var regexpBackSlashEss = new RegExp("\\\\s","mg");
var regexpNewLine = new RegExp("\n","mg");
var regexpCarriageReturn = new RegExp("\r","mg");
//--
//-- End of scripts
//--
//]]>
</script>
<script type="text/javascript">
//<![CDATA[
if(useJavaSaver)
	document.write("<applet style='position:absolute;left:-1px' name='TiddlySaver' code='TiddlySaver.class' archive='TiddlySaver.jar' width='1' height='1'></applet>");
//]]>
</script>
<!--POST-SCRIPT-START-->

<!--POST-SCRIPT-END-->
</body>
</html>
